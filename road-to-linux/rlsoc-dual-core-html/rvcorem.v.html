<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>./rvcorem.v</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return ""; }
function last_page() { return "rvcorem.v.p2.html"; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<center><table class=NB cols=2 ><tr><td align="center" width="50%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">1</font></td><td align="center" width="50%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">2</a></td></tr></table></center>
<pre>
<span class=C>// modified: Laurentiu-Cristian Duca, date: 2023-05-25
</span><span class=C>// - ipi support
</span><span class=C>// - wfi
</span><span class=C>// spdx license identifier MIT
</span><span class=C>/* Modified by Laurentiu-Cristian Duca, 2021-12-20
 * - LAUR_DEBUG_AFTER_CSRW_SATP flag 
 * for debuging physical to virtual memory switch
 */</span>

<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC                                            since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** The Processor v0.01                                                                      ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`default_nettype</span> none
<span class=C>/**************************************************************************************************/</span>
<span class=M>`include</span> <a  onClick="return qs(event,this,0)"  class=S href="define.vh.html">&quot;define.vh&quot;</a>

<span class=C>/***** 2 read 1 write port, register file                                                     *****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_regfile"></a><a  href="rvcorem.v.html#m_RVCoreM_regs"><img alt="[Up: m_RVCoreM regs]" align=bottom border=0 src="v2html-up.gif"></a><a  href="microc.v.html#m_RVuc_regs"><img alt="[Up: m_RVuc regs]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_regfile</span><a  href="hierarchy-m.html#m_regfile"><img align=top border=0 alt="Index" src="v2html-i.gif"></a> (<a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#21">CLK</a>, <a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#22">w_rs1</a>, <a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#22">w_rs2</a>, <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#23">w_rdata1</a>, <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#23">w_rdata2</a>, <a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#24">w_we</a>, <a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#25">rd</a>, <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#26">w_wdata</a>, <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#27">w_hart_id</a>);
<a name="21"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#242">CLK</a>;
<a name="22"></a>    <span class=K>input</span>  <span class=K>wire</span> [ 4:0] <a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#242">w_rs1</a>, <a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#242">w_rs2</a>;
<a name="23"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#31">w_rdata1</a>, <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#32">w_rdata2</a>;
<a name="24"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#242">w_we</a>;
<a name="25"></a>    <span class=K>input</span>  <span class=K>wire</span> [ 4:0] <a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#242">rd</a>;
<a name="26"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#242">w_wdata</a>;
<a name="27"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#242">w_hart_id</a>;

<a name="29"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#36">mem</a> [0:31];

<a name="31"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#23">w_rdata1</a> = (<a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#22">w_rs1</a> == 0) ? 0 : <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#36">mem</a>[<a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#22">w_rs1</a>];
<a name="32"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#23">w_rdata2</a> = (<a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#22">w_rs2</a> == 0) ? 0 : <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#36">mem</a>[<a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#22">w_rs2</a>];

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#21">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#24">w_we</a>) <span class=K>begin</span>
<a name="36"></a>            <span class=K>if</span>(<a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#25">rd</a>!=0) <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#29">mem</a>[<a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#25">rd</a>] &lt;= <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#26">w_wdata</a>;
        <span class=K>end</span>
    <span class=K>end</span>

<a name="40"></a>    <span class=K>integer</span> <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>;
    <span class=K>initial</span> <span class=K>begin</span>
        <span class=K>for</span>(<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>=0; <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>&lt;32; <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>=<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>+1) <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#36">mem</a>[<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#40">i</a>] = 0;
<span class=M>`ifdef</span> <a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#34">LINUX</a>
        <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#29">mem</a>[10] = <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#27">w_hart_id</a>;
        <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#29">mem</a>[11] = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#205">D_INITD_ADDR</a> + <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#149">D_START_PC</a>;
<span class=M>`endif</span>
    <span class=K>end</span>
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/***** main processor                                                                         *****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_RVCoreM"></a><a  href="cpummusim.v.html#m_cpummu_p"><img alt="[Up: m_cpummu p]" align=bottom border=0 src="v2html-up.gif"></a><a  href="main.v.html#m_main_p"><img alt="[Up: m_main p]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_RVCoreM</span><a  href="hierarchy-m.html#m_RVCoreM"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#57">RST_X</a>, <a  onClick="return qs(event,this,14)"  class=SI href="rvcorem.v.html#57">w_stall</a>, <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#59">w_hart_id</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#58">w_ipi</a>, <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#68">r_halt</a>, <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#71">w_insn_addr</a>, <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#73">w_data_addr</a>, <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#60">w_insn_data</a>, <a  onClick="return qs(event,this,21)"  class=SI href="rvcorem.v.html#60">w_data_data</a>,
                <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#70">w_data_wdata</a>, <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#84">w_data_we</a>, <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#72">w_data_ctrl</a>, <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#76">w_priv</a>, <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#77">w_satp</a>, <a  onClick="return qs(event,this,27)"  class=SO href="rvcorem.v.html#78">w_mstatus</a>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>,
                <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.html#75">w_mtimecmp</a>, <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#61">w_wmtimecmp</a>, <a  onClick="return qs(event,this,31)"  class=SI href="rvcorem.v.html#62">w_clint_we</a>, <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#79">w_mip</a>, <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#63">w_wmip</a>, <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#64">w_plic_we</a>, <a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>, <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>,
                <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#83">w_tlb_req</a>, <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#85">w_tlb_flush</a>, <a  onClick="return qs(event,this,39)"  class=SO href="rvcorem.v.html#80">w_core_pc</a>, <a  onClick="return qs(event,this,40)"  class=SO href="rvcorem.v.html#81">w_core_ir</a>, <a  onClick="return qs(event,this,41)"  class=SO href="rvcorem.v.html#69">w_core_odata</a>, <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#82">w_init_stage</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>);
<a name="57"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,12)"  class=SI href="cpummusim.v.html#85">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="cpummusim.v.html#86">RST_X</a>, <a  onClick="return qs(event,this,14)"  class=SI href="main.v.html#399">w_stall</a>;
<a name="58"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,16)"  class=SI href="cpummusim.v.html#89">w_ipi</a>;
<a name="59"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,15)"  class=SI href="cpummusim.v.html#88">w_hart_id</a>;
<a name="60"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,20)"  class=SI href="cpummusim.v.html#93">w_insn_data</a>, <a  onClick="return qs(event,this,21)"  class=SI href="cpummusim.v.html#94">w_data_data</a>;
<a name="61"></a>    <span class=K>input</span>  <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,30)"  class=SI href="cpummusim.v.html#103">w_wmtimecmp</a>;
<a name="62"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,31)"  class=SI href="cpummusim.v.html#104">w_clint_we</a>;
<a name="63"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,33)"  class=SI href="cpummusim.v.html#106">w_wmip</a>;
<a name="64"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,34)"  class=SI href="cpummusim.v.html#107">w_plic_we</a>;
<a name="65"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,35)"  class=SI href="cpummusim.v.html#108">w_busy</a>;
<a name="66"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,36)"  class=SI href="cpummusim.v.html#109">w_pagefault</a>;

<a name="68"></a>    <span class=K>output</span> <span class=K>reg</span>          <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#886">r_halt</a>;         <span class=C>// register, set if the processor is halted
</span><a name="69"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,41)"  class=SO href="rvcorem.v.html#891">w_core_odata</a>;   <span class=C>// constant 0
</span><a name="70"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#428">w_data_wdata</a>;   <span class=C>// from r_data_wdata
</span><a name="71"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#211">w_insn_addr</a>;    <span class=C>// from r_insn_addr
</span><a name="72"></a>    <span class=K>output</span> <span class=K>wire</span> [2:0]   <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#397">w_data_ctrl</a>;    <span class=C>// from r_data_ctrl
</span><a name="73"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#398">w_data_addr</a>;    <span class=C>// from r_mem_addr
</span><a name="74"></a>    <span class=K>input</span> <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,28)"  class=SI href="cpummusim.v.html#101">w_mtime</a>;        
<a name="75"></a>    <span class=K>output</span> <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.html#882">w_mtimecmp</a>;     <span class=C>// from register mtimecmp
</span><a name="76"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#878">w_priv</a>;         <span class=C>// from register priv
</span><a name="77"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#879">w_satp</a>;         <span class=C>// from register satp
</span><a name="78"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,27)"  class=SO href="rvcorem.v.html#880">w_mstatus</a>;      <span class=C>// from register mstatus
</span><a name="79"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#883">w_mip</a>;          <span class=C>// from register mip
</span><a name="80"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,39)"  class=SO href="rvcorem.v.html#889">w_core_pc</a>;      <span class=C>// from register pc
</span><a name="81"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,40)"  class=SO href="rvcorem.v.html#890">w_core_ir</a>;      <span class=C>// from r_ir
</span><a name="82"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#185">w_init_stage</a>;   <span class=C>// from r_init_stage
</span><a name="83"></a>    <span class=K>output</span> <span class=K>wire</span>  [1:0]  <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#876">w_tlb_req</a>;      <span class=C>// from r_tlb_req
</span><a name="84"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#877">w_data_we</a>;      <span class=C>// from r_data_we, write enable for DRAM memory
</span><a name="85"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#817">w_tlb_flush</a>;    <span class=C>// from r_tlb_flush
</span>
    <span class=C>/***** registers and CPU architecture state ***************************************************/</span>
<a name="88"></a>    <span class=K>output</span> <span class=K>reg</span>   [3:0] <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>   = 0;            <span class=C>// State for Multi cycle Processor
</span><a name="89"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>             = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#149">D_START_PC</a>;  <span class=C>// Program Counter
</span>
<a name="91"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>        = 0;            <span class=C>///// CSRs
</span><a name="92"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>          = 0;            <span class=C>//
</span><a name="93"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,47)"  class=SR href="rvcorem.v.html#759">mscratch</a>       = 0;            <span class=C>//
</span><a name="94"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,48)"  class=SR href="rvcorem.v.html#702">mepc</a>           = 0;            <span class=C>//
</span><a name="95"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,49)"  class=SR href="rvcorem.v.html#701">mcause</a>         = 0;            <span class=C>//
</span><a name="96"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,50)"  class=SR href="rvcorem.v.html#703">mtval</a>          = 0;            <span class=C>//
</span><a name="97"></a>    <span class=K>wire</span>  [31:0] <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>        = <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#59">w_hart_id</a>;            <span class=C>//
</span><a name="98"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,52)"  class=SR href="rvcorem.v.html#98">misa</a>           = 32'h00141105; <span class=C>// RV32acim, Machine ISA register (MISA)
</span><a name="99"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>            = 0;            <span class=C>//
</span><a name="100"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a>            = 0;            <span class=C>//
</span><a name="101"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,55)"  class=SR href="rvcorem.v.html#768">medeleg</a>        = 0;            <span class=C>//
</span><a name="102"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>        = 0;            <span class=C>//
</span><a name="103"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#758">mcounteren</a>     = 0;            <span class=C>//
</span><a name="104"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#745">stvec</a>          = 0;            <span class=C>//
</span><a name="105"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#752">sscratch</a>       = 0;            <span class=C>//
</span><a name="106"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#696">sepc</a>           = 0;            <span class=C>//
</span><a name="107"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#695">scause</a>         = 0;            <span class=C>//
</span><a name="108"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,62)"  class=SR href="rvcorem.v.html#697">stval</a>          = 0;            <span class=C>//
</span><a name="109"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#778">satp</a>           = 0;            <span class=C>//
</span><a name="110"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#751">scounteren</a>     = 0;            <span class=C>//
</span>    
<a name="112"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#404">load_res</a>       = 0;            <span class=C>// For aomic LR/SC
</span><a name="113"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#405">reserved</a>       = 0;            <span class=C>// For aomic LR/SC
</span><a name="114"></a>    <span class=K>reg</span>   [1:0] <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>           = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">PRIV_M</a>;      <span class=C>// Mode
</span>    <span class=C>//reg  [63:0] w_mtime          = 1;            // w_mtime
</span><a name="116"></a>    <span class=K>reg</span>  [63:0] <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#686">mtimecmp</a>       = 1;            <span class=C>// w_mtime
</span><a name="117"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#647">r_was_clint_we</a>        = 0;
<a name="118"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#535">pending_tval</a>   = 0;            <span class=C>//
</span><a name="119"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a> = ~0;        <span class=C>//
</span>
    <span class=C>/***** CPU Stage registers ********************************************************************/</span>
<a name="122"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#195">r_cpc</a>          = 0;            <span class=C>// IF: current PC, the program counter of this insn
</span><a name="123"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#123">r_ir_org</a>       = 0;            <span class=C>// IF: NOTE! not used
</span>
<a name="125"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>        = 0;            <span class=C>// CV: set if the fetched insn is a compressed one
</span><a name="126"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>           = 0;            <span class=C>// CV: 32-bit fetched insn
</span><a name="127"></a>    <span class=K>reg</span>  [15:0] <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#230">r_ir16</a>         = 0;
<a name="128"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#543">r_ir16_v</a>       = 0;

<a name="130"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a>       = 0;            <span class=C>// ID: 
</span><a name="131"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#248">r_rd</a>           = 0;            <span class=C>// ID: 
</span><a name="132"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#249">r_rs1</a>          = 0;            <span class=C>// ID: 
</span><a name="133"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#250">r_rs2</a>          = 0;            <span class=C>// ID: 
</span><a name="134"></a>    <span class=K>reg</span>   [2:0] <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>       = 0;            <span class=C>// ID: 
</span><a name="135"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,83)"  class=SR href="rvcorem.v.html#252">r_funct5</a>       = 0;            <span class=C>// ID: 
</span><a name="136"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#253">r_funct7</a>       = 0;            <span class=C>// ID: 
</span><a name="137"></a>    <span class=K>reg</span>  [11:0] <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a>      = 0;            <span class=C>// ID: 
</span><a name="138"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>          = 0;            <span class=C>// ID: 
</span><a name="139"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#261">r_op_AMO_SC</a>    = 0;            <span class=C>// ID: these are used for the fast control
</span><a name="140"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#262">r_op_AMO_LR</a>    = 0;
<a name="141"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a>      = 0;
<a name="142"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#264">r_op_STORE</a>     = 0;
<a name="143"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a>       = 0;
<a name="144"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#266">r_op_SYS</a>       = 0;
<a name="145"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#267">r_op_ECALL</a>     = 0;
<a name="146"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#268">r_op_SRET</a>      = 0;
<a name="147"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#269">r_op_MRET</a>      = 0;
<a name="148"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#270">r_op_CSR_MSTA</a>  = 0;
<a name="149"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#271">r_op_CSR_SSTA</a>  = 0; 

<a name="151"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a>         = 0;            <span class=C>// OF:
</span><a name="152"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#246">r_rrs2</a>         = 0;            <span class=C>// OF:
</span><a name="153"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#292">r_rcsr</a>         = 0;            <span class=C>// OF:
</span><a name="154"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#293">r_alu_in2</a>      = 0;            <span class=C>// OF:
</span><a name="155"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#294">r_alu_f7</a>       = 0;            <span class=C>// OF:
</span>
<a name="157"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#316">r_tkn</a>          = 0;            <span class=C>// E1:         // flag for branck taken or untaken
</span><a name="158"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a>       = 0;            <span class=C>// E1:
</span><a name="159"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#288">r_mem_addr</a>     = 0;            <span class=C>// E1:
</span><a name="160"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>      = 0;            <span class=C>// E1:
</span><a name="161"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>  = 0;            <span class=C>// E1:
</span>
<a name="163"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#417">r_mem_rdata</a>    = 0;            <span class=C>// LD:
</span><a name="164"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#418">r_atom_wdata</a>   = 0;            <span class=C>// E2:
</span>
    <span class=C>/***** Other Registers ************************************************************************/</span>
<a name="167"></a>    <span class=K>reg</span>  [63:0] <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#556">e_icount</a>    = 1;
<a name="168"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#168">r_if_done</a>   = 0;
<a name="169"></a>    <span class=K>reg</span>  [15:0] <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#194">r_if_irl</a>    = 0;
<a name="170"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#573">r_rcsr_t</a>    = 0;
<a name="171"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#489">irq_num</a>     = 0;
<a name="172"></a>    <span class=K>reg</span>   [1:0] <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>  = 0; <span class=C>/* state in IF state */</span>

    <span class=C>// WB Stage
</span><a name="175"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,116)"  class=SW href="rvcorem.v.html#431">w_wb_r_data</a>;
<a name="176"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,117)"  class=SW href="rvcorem.v.html#435">w_wb_r_enable</a>;
<a name="177"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#483">w_interrupt_mask</a>;
<a name="178"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,119)"  class=SW href="rvcorem.v.html#484">w_irq_t</a>;
<a name="179"></a>    <span class=K>wire</span> [3:0]  <a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>;
    
    <span class=C>/***********************************           INI          ***********************************/</span>
<a name="182"></a>    <span class=K>reg</span> <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#183">r_init_stage</a>=0;
<a name="183"></a>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#182">r_init_stage</a> &lt;= (<a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>);
                                        
<a name="185"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#82">w_init_stage</a> = <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#183">r_init_stage</a>;

    <span class=C>/***********************************           IF           ***********************************/</span>
<a name="188"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,122)"  class=SW href="rvcorem.v.html#188">w_vadr1</a> = {<a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>[31:2], 2'b0}; <span class=C>// address of the first  2-byte
</span><a name="189"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,123)"  class=SW href="rvcorem.v.html#189">w_vadr2</a> = <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 2;           <span class=C>// address of the second 2-byte
</span><a name="190"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#190">w_nalign4</a> = (<a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>[3:1]==3'b111);   <span class=C>// set when pc is not_align_4byte
</span><a name="191"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,125)"  class=SW href="rvcorem.v.html#191">w_usestate</a> = (<a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#190">w_nalign4</a> &amp;&amp; !<a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#543">r_ir16_v</a>);

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
<a name="194"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#172">r_if_state</a>==1 &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#169">r_if_irl</a> &lt;= <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#60">w_insn_data</a>[31:16];
<a name="195"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>==~0) <span class=K>begin</span> <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#122">r_cpc</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>; <span class=K>end</span>
    <span class=K>end</span>

<a name="198"></a>    <span class=K>wire</span> [1:0] <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#198">w_if_state</a> = ((!(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a> || <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#288">S_CVT</a>)) || <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>!=~0) ? 0 :
                            (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>==0 &amp;&amp; <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#190">w_nalign4</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>)                 ? (<a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#543">r_ir16_v</a>) ? 3 : 1 :
                            (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>==1 &amp;&amp;              !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>)                 ? 2 :
                            (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>==2 &amp;&amp;              !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>)                 ? 3 : <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>;
    
<a name="203"></a>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#172">r_if_state</a> &lt;= <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#198">w_if_state</a>;

<a name="205"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,127)"  class=SR href="rvcorem.v.html#207">r_insn_addr</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
<a name="207"></a>        <a  onClick="return qs(event,this,127)"  class=SR href="rvcorem.v.html#205">r_insn_addr</a> &lt;=  (<a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#190">w_nalign4</a> &amp;&amp; <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#543">r_ir16_v</a>) ? <a  onClick="return qs(event,this,123)"  class=SW href="rvcorem.v.html#189">w_vadr2</a> :
                        (<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#198">w_if_state</a>==2 || <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#198">w_if_state</a>==3) ? <a  onClick="return qs(event,this,123)"  class=SW href="rvcorem.v.html#189">w_vadr2</a> :
                        (<a  onClick="return qs(event,this,125)"  class=SW href="rvcorem.v.html#191">w_usestate</a>) ? <a  onClick="return qs(event,this,122)"  class=SW href="rvcorem.v.html#188">w_vadr1</a> : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>;
    <span class=K>end</span>
<a name="211"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#71">w_insn_addr</a> = <a  onClick="return qs(event,this,127)"  class=SR href="rvcorem.v.html#207">r_insn_addr</a>;
      
<a name="213"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#213">w_ir_org</a> = (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a> == 3) ? (<a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#543">r_ir16_v</a>) ? {<a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#60">w_insn_data</a>[15:0], <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#230">r_ir16</a>} :
                                                            {<a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#60">w_insn_data</a>[15:0], <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#194">r_if_irl</a>} :
                                                <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#60">w_insn_data</a>;

    <span class=C>/***********************************           CVT          ***********************************/</span>
<a name="218"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,129)"  class=SW href="rvcorem.v.html#218">w_cinsn</a> = (<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#213">w_ir_org</a>[1:0] != 2'b11); <span class=C>// flag to indicate a compressed instruction
</span>    
<a name="220"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#221">w_ir_t</a>;
<a name="m_RVCoreM_decomp0"></a><a name="221"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_decomp">m_decomp</a> decomp0(<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#213">w_ir_org</a>, <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#220">w_ir_t</a>);
    
<a name="223"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,131)"  class=SW href="rvcorem.v.html#223">w_nop</a> = (<a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#221">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#504">OPCODE_OP_FP___</a> ||  
                  <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#221">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#508">OPCODE_LOAD_FP_</a> ||  <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#221">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#511">OPCODE_STORE_FP</a>);

<a name="226"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#226">w_ir</a> = (<a  onClick="return qs(event,this,131)"  class=SW href="rvcorem.v.html#223">w_nop</a>) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#238">RV32_NOP</a> : (<a  onClick="return qs(event,this,129)"  class=SW href="rvcorem.v.html#218">w_cinsn</a>) ? <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#221">w_ir_t</a> : <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#213">w_ir_org</a>; <span class=C>// instruction
</span>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#288">S_CVT</a>) <span class=K>begin</span> 
<a name="228"></a>        <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#126">r_ir</a>    &lt;= <a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#226">w_ir</a>;
<a name="229"></a>        <a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#125">r_cinsn</a> &lt;= <a  onClick="return qs(event,this,129)"  class=SW href="rvcorem.v.html#218">w_cinsn</a>;
<a name="230"></a>        <span class=K>if</span>(!<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#127">r_ir16</a>  &lt;= <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#213">w_ir_org</a>[31:16];
    <span class=K>end</span>

    <span class=C>/***********************************         ID &amp; OF        ***********************************/</span>
<a name="234"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,133)"  class=SW href="rvcorem.v.html#235">w_imm</a>;
<a name="m_RVCoreM_imm_gen0"></a><a name="235"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_imm_gen">m_imm_gen</a> imm_gen0(<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#126">r_ir</a>, <a  onClick="return qs(event,this,133)"  class=SW href="rvcorem.v.html#234">w_imm</a>);

<a name="237"></a>    <span class=K>wire</span> [4:0] <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#237">w_rs1</a> = <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[19:15];
<a name="238"></a>    <span class=K>wire</span> [4:0] <a  onClick="return qs(event,this,135)"  class=SW href="rvcorem.v.html#238">w_rs2</a> = <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[24:20];
                      
<a name="240"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#242">w_rrs1</a>, <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#242">w_rrs2</a>;
<a name="241"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#241">w_regfile_we</a> = (<a  onClick="return qs(event,this,117)"  class=SW href="rvcorem.v.html#435">w_wb_r_enable</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a>);
<a name="m_RVCoreM_regs"></a><a name="242"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.html#m_regfile">m_regfile</a> regs(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>, <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#237">w_rs1</a>, <a  onClick="return qs(event,this,135)"  class=SW href="rvcorem.v.html#238">w_rs2</a>, <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#240">w_rrs1</a>, <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#240">w_rrs2</a>, <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#241">w_regfile_we</a>, <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#131">r_rd</a>, <a  onClick="return qs(event,this,116)"  class=SW href="rvcorem.v.html#175">w_wb_r_data</a>, <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#59">w_hart_id</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#289">S_ID</a>) <span class=K>begin</span>
<a name="245"></a>        <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#151">r_rrs1</a>    &lt;= <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#242">w_rrs1</a>;      <span class=C>// operand which is read from register file
</span><a name="246"></a>        <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#152">r_rrs2</a>    &lt;= <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#242">w_rrs2</a>;      <span class=C>// operand which is read from register file
</span><a name="247"></a>        <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#130">r_opcode</a>  &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0];
<a name="248"></a>        <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#131">r_rd</a>      &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[11: 7];
<a name="249"></a>        <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#132">r_rs1</a>     &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[19:15];
<a name="250"></a>        <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#133">r_rs2</a>     &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[24:20];
<a name="251"></a>        <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a>  &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[14:12];
<a name="252"></a>        <a  onClick="return qs(event,this,83)"  class=SR href="rvcorem.v.html#135">r_funct5</a>  &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:27];
<a name="253"></a>        <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#136">r_funct7</a>  &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:25];
<a name="254"></a>        <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#137">r_funct12</a> &lt;= <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20];
<a name="255"></a>        <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#138">r_imm</a>     &lt;= <a  onClick="return qs(event,this,133)"  class=SW href="rvcorem.v.html#235">w_imm</a>;
    <span class=K>end</span>

<a name="258"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#258">w_op_priv</a> = (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[14:12]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>);
<a name="259"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,140)"  class=SW href="rvcorem.v.html#259">w_op_csr</a>  = (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[14:12]!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>);
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#289">S_ID</a>) <span class=K>begin</span>      <span class=C>////// ID stage
</span><a name="261"></a>        <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#139">r_op_AMO_SC</a>   &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:27]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#602">FUNCT5_AMO_SC__</a>); <span class=C>// r_funct5 ==
</span><a name="262"></a>        <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#140">r_op_AMO_LR</a>   &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:27]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#601">FUNCT5_AMO_LR__</a>); <span class=C>// r_funct5 ==
</span><a name="263"></a>        <a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#141">r_op_LOAD</a>     &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#507">OPCODE_LOAD____</a>); <span class=C>// r_opcdde ==
</span><a name="264"></a>        <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#142">r_op_STORE</a>    &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#510">OPCODE_STORE___</a>); <span class=C>// r_opcdde ==
</span><a name="265"></a>        <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#143">r_op_AMO</a>      &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#505">OPCODE_AMO_____</a>); <span class=C>// r_opcdde ==
</span><a name="266"></a>        <a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#144">r_op_SYS</a>      &lt;= (<a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a>); <span class=C>// r_opcdde ==
</span><a name="267"></a>        <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#145">r_op_ECALL</a>    &lt;= (<a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#258">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#591">FUNCT12_ECALL_</a>);
<a name="268"></a>        <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#146">r_op_SRET</a>     &lt;= (<a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#258">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#595">FUNCT12_SRET__</a>);
<a name="269"></a>        <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#147">r_op_MRET</a>     &lt;= (<a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#258">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#594">FUNCT12_MRET__</a>);
<a name="270"></a>        <a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#148">r_op_CSR_MSTA</a> &lt;= (<a  onClick="return qs(event,this,140)"  class=SW href="rvcorem.v.html#259">w_op_csr</a>  &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_MSTATUS</a>);
<a name="271"></a>        <a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#149">r_op_CSR_SSTA</a> &lt;= (<a  onClick="return qs(event,this,140)"  class=SW href="rvcorem.v.html#259">w_op_csr</a>  &amp;&amp; <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#363">CSR_SSTATUS</a>);
    <span class=K>end</span>
    
    <span class=C>/*********************************** OF ( &amp; compute mem addr &amp; mul) **************************/</span>
<a name="275"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#275">w_sin1</a> = <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a>;
<a name="276"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,142)"  class=SW href="rvcorem.v.html#276">w_sin2</a> = <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#246">r_rrs2</a>;

<a name="278"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,143)"  class=SW href="rvcorem.v.html#278">w_mul_SS</a> = {{32{<a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#275">w_sin1</a>[31]}},<a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#275">w_sin1</a>} * {{32{<a  onClick="return qs(event,this,142)"  class=SW href="rvcorem.v.html#276">w_sin2</a>[31]}},<a  onClick="return qs(event,this,142)"  class=SW href="rvcorem.v.html#276">w_sin2</a>}; <span class=C>// Note!!
</span><a name="279"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,144)"  class=SW href="rvcorem.v.html#279">w_mul_SU</a> = {{32{<a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#275">w_sin1</a>[31]}},<a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#275">w_sin1</a>} * {32'b0, <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#246">r_rrs2</a>};
<a name="280"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#280">w_mul_UU</a> = {32'b0, <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a>} * {32'b0, <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#246">r_rrs2</a>};

<a name="282"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,146)"  class=SW href="rvcorem.v.html#282">w_mem_addr</a> = (<a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a> || <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#264">r_op_STORE</a>) ? <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a>+<a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a> : (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a>) ? <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a> : 0;
    
<a name="284"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,147)"  class=SR href="rvcorem.v.html#289">r_mul_SS</a> =0;
<a name="285"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,148)"  class=SR href="rvcorem.v.html#290">r_mul_SU</a> =0;
<a name="286"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,149)"  class=SR href="rvcorem.v.html#291">r_mul_UU</a> =0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#290">S_OF</a>) <span class=K>begin</span>
<a name="288"></a>        <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#159">r_mem_addr</a> &lt;= <a  onClick="return qs(event,this,146)"  class=SW href="rvcorem.v.html#282">w_mem_addr</a>; <span class=C>// memory address for Load, Store and Atomic
</span><a name="289"></a>        <a  onClick="return qs(event,this,147)"  class=SR href="rvcorem.v.html#284">r_mul_SS</a>   &lt;= <a  onClick="return qs(event,this,143)"  class=SW href="rvcorem.v.html#278">w_mul_SS</a>;
<a name="290"></a>        <a  onClick="return qs(event,this,148)"  class=SR href="rvcorem.v.html#285">r_mul_SU</a>   &lt;= <a  onClick="return qs(event,this,144)"  class=SW href="rvcorem.v.html#279">w_mul_SU</a>;
<a name="291"></a>        <a  onClick="return qs(event,this,149)"  class=SR href="rvcorem.v.html#286">r_mul_UU</a>   &lt;= <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#280">w_mul_UU</a>;
<a name="292"></a>        <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#153">r_rcsr</a>     &lt;= <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#573">r_rcsr_t</a>;
<a name="293"></a>        <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#154">r_alu_in2</a>  &lt;= (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#506">OPCODE_OP_IMM__</a>) ? <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a> : <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#242">w_rrs2</a>;
<a name="294"></a>        <a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#155">r_alu_f7</a>   &lt;= (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#506">OPCODE_OP_IMM__</a>) ?
                      ((<a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#532">FUNCT3_ADD___</a>) ? 0 : <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#253">r_funct7</a> &amp; 7'h20) : <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#253">r_funct7</a>;;
    <span class=K>end</span>
    
    <span class=C>/***********************************           EX1          ***********************************/</span>
<a name="299"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#305">w_alu_im_rslt</a>;
<a name="300"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,151)"  class=SW href="rvcorem.v.html#307">w_alu_b_rslt</a>;
<a name="301"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,152)"  class=SW href="rvcorem.v.html#308">w_alu_c_rslt</a>;
<a name="302"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,153)"  class=SW href="rvcorem.v.html#302">w_ex1</a> = (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#291">S_EX1</a>);
<a name="303"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,154)"  class=SW href="rvcorem.v.html#306">w_ex1_busy</a>;

<a name="m_RVCoreM_ALU_IM"></a><a name="305"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.html#m_alu_im">m_alu_im</a> ALU_IM(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#57">RST_X</a>, <a  onClick="return qs(event,this,153)"  class=SW href="rvcorem.v.html#302">w_ex1</a>, <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#151">r_rrs1</a>, <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#154">r_alu_in2</a>, <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a>, <a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#155">r_alu_f7</a>, <a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#299">w_alu_im_rslt</a>,
<a name="306"></a>                    <a  onClick="return qs(event,this,154)"  class=SW href="rvcorem.v.html#303">w_ex1_busy</a>, <a  onClick="return qs(event,this,147)"  class=SR href="rvcorem.v.html#284">r_mul_SS</a>, <a  onClick="return qs(event,this,148)"  class=SR href="rvcorem.v.html#285">r_mul_SU</a>, <a  onClick="return qs(event,this,149)"  class=SR href="rvcorem.v.html#286">r_mul_UU</a>);
<a name="m_RVCoreM_ALU_B"></a><a name="307"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_b">m_alu_b</a>  ALU_B(<a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#151">r_rrs1</a>, <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#154">r_alu_in2</a>, <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a>, <a  onClick="return qs(event,this,151)"  class=SW href="rvcorem.v.html#300">w_alu_b_rslt</a>);
<a name="m_RVCoreM_ALU_C"></a><a name="308"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_c">m_alu_c</a>  ALU_C(<a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#153">r_rcsr</a>, <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#151">r_rrs1</a>, <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#138">r_imm</a>, <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a>, <a  onClick="return qs(event,this,152)"  class=SW href="rvcorem.v.html#301">w_alu_c_rslt</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a> != ~0) <span class=K>begin</span>
<a name="312"></a>            <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> &lt;= ~0;
<a name="316"></a>            <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>             &lt;= 0;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#177">w_interrupt_mask</a> != 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#321">CAUSE_INTERRUPT</a> | <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#489">irq_num</a>;
            <span class=K>end</span>
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#291">S_EX1</a>) <span class=K>begin</span>
            <span class=K>case</span>(<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#130">r_opcode</a>)
<a name="325"></a>                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#513">OPCODE_LUI_____</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>;          <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#514">OPCODE_AUIPC___</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>;     <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#503">OPCODE_OP______</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#305">w_alu_im_rslt</a>;  <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#506">OPCODE_OP_IMM__</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#305">w_alu_im_rslt</a>;  <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#507">OPCODE_LOAD____</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#510">OPCODE_STORE___</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#515">OPCODE_JAL_____</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 1;
                    <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>   &lt;= (<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>+2 : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>+4;
<a name="334"></a>                    <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#516">OPCODE_JALR____</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 1;
                    <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>   &lt;= (<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>+2 : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>+4;
                    <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a> + <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#505">OPCODE_AMO_____</a> : <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#139">r_op_AMO_SC</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a> &lt;= !((<a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#245">r_rrs1</a>==<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#404">load_res</a>) &amp;&amp; <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#405">reserved</a>);
                    <span class=K>end</span>
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#512">OPCODE_BRANCH__</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= <a  onClick="return qs(event,this,151)"  class=SW href="rvcorem.v.html#307">w_alu_b_rslt</a>;
                    <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#255">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#521">OPCODE_MISC_MEM</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a> : <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                        <span class=K>case</span> (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#137">r_funct12</a>)
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#591">FUNCT12_ECALL_</a> : <span class=K>begin</span>
<a name="355"></a>                                <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#161">r_wb_data_csr</a>       &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#332">CAUSE_USER_ECALL</a> + <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>;
                                <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a>   &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#332">CAUSE_USER_ECALL</a> + <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#592">FUNCT12_EBREAK</a> : <span class=K>begin</span> <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#596">FUNCT12_URET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#292">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#595">FUNCT12_SRET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#292">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#594">FUNCT12_MRET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#292">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#597">FUNCT12_WFI___</a> : <span class=K>begin</span> <span class=K>end</span>
                            <span class=K>default</span>: <span class=K>begin</span>
                                <span class=K>if</span>(<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#136">r_funct7</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#598">FUNCT7_SFENCE_VMA</a>) <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a> &lt;= 0;
                            <span class=K>end</span>
                        <span class=K>endcase</span>
                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                        <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#161">r_wb_data_csr</a> &lt;= <a  onClick="return qs(event,this,152)"  class=SW href="rvcorem.v.html#308">w_alu_c_rslt</a>;
                    <span class=K>end</span>
                <span class=K>end</span>

                <span class=K>default</span> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#157">r_tkn</a>       &lt;= 0;
                    <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#158">r_jmp_pc</a>    &lt;= 0;
                    <span class=ST>$write</span>(<span class=S>&quot;UNKNOWN OPCODE DETECT!!\n&quot;</span>);
                    <span class=ST>$write</span>(<span class=S>&quot;TC:%08d PC:%08x OPCODE=%7b, ir=%8x hartid=%x\n&quot;</span>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0], <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a>, <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#130">r_opcode</a>, <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#126">r_ir</a>, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>);
                    <span class=ST>$write</span>(<span class=S>&quot;Simulation Stopped...\n&quot;</span>);
                    <span class=ST>$finish</span>();
                <span class=K>end</span>
           <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           LD           ***********************************/</span>
<a name="394"></a>    <span class=K>reg</span> [2:0] <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#395">r_data_ctrl</a>=0;
<a name="395"></a>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#394">r_data_ctrl</a> &lt;= (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a>) ? 3'h2 : <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>;
    
<a name="397"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#72">w_data_ctrl</a> = <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#395">r_data_ctrl</a>;
<a name="398"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#73">w_data_addr</a> = <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#288">r_mem_addr</a>;
    
<a name="400"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,156)"  class=SW href="rvcorem.v.html#400">w_mem_rdata</a> = <a  onClick="return qs(event,this,21)"  class=SI href="rvcorem.v.html#60">w_data_data</a>;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
<span class=C>//        if(state == `S_WB &amp;&amp; (r_op_AMO &amp;&amp; r_op_AMO_LR) &amp;&amp; !w_busy) begin
</span>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> &amp;&amp; (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#143">r_op_AMO</a> &amp;&amp; <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#140">r_op_AMO_LR</a>) &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
<a name="404"></a>            <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#112">load_res</a> &lt;= <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#288">r_mem_addr</a>;
<a name="405"></a>            <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#113">reserved</a> &lt;= 1;
        <span class=K>end</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#143">r_op_AMO</a> &amp;&amp; <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#139">r_op_AMO_SC</a> &amp;&amp; !<a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#160">r_wb_data</a>[0] &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#113">reserved</a> &lt;= 0;
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           EX2          ***********************************/</span>
<a name="413"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,157)"  class=SW href="rvcorem.v.html#414">w_alu_a_rslt</a>;
<a name="m_RVCoreM_ALU_A"></a><a name="414"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_a">m_alu_a</a> ALU_A (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#152">r_rrs2</a>, <a  onClick="return qs(event,this,156)"  class=SW href="rvcorem.v.html#400">w_mem_rdata</a>, <a  onClick="return qs(event,this,83)"  class=SR href="rvcorem.v.html#135">r_funct5</a>, <a  onClick="return qs(event,this,157)"  class=SW href="rvcorem.v.html#413">w_alu_a_rslt</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#293">S_EX2</a>) <span class=K>begin</span>
<a name="417"></a>        <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#163">r_mem_rdata</a>  &lt;= <a  onClick="return qs(event,this,156)"  class=SW href="rvcorem.v.html#400">w_mem_rdata</a>;
<a name="418"></a>        <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#164">r_atom_wdata</a> &lt;= <a  onClick="return qs(event,this,157)"  class=SW href="rvcorem.v.html#414">w_alu_a_rslt</a>;
    <span class=K>end</span>

    <span class=C>/***********************************           SD           ***********************************/</span>
<a name="422"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,158)"  class=SR href="rvcorem.v.html#424">r_data_wdata</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span> <span class=C>/***** Note!! *****/</span>
<a name="424"></a>        <span class=K>if</span>     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#292">S_LD</a> ) <a  onClick="return qs(event,this,158)"  class=SR href="rvcorem.v.html#422">r_data_wdata</a> &lt;= <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#246">r_rrs2</a>;
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#293">S_EX2</a>) <a  onClick="return qs(event,this,158)"  class=SR href="rvcorem.v.html#422">r_data_wdata</a> &lt;= <a  onClick="return qs(event,this,157)"  class=SW href="rvcorem.v.html#414">w_alu_a_rslt</a>;
    <span class=K>end</span>
    
<a name="428"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#70">w_data_wdata</a> = <a  onClick="return qs(event,this,158)"  class=SR href="rvcorem.v.html#424">r_data_wdata</a>;

    <span class=C>/***********************************           WB           ***********************************/</span>
<a name="431"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,116)"  class=SW href="rvcorem.v.html#175">w_wb_r_data</a> =    (<a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a>)                ? <a  onClick="return qs(event,this,156)"  class=SW href="rvcorem.v.html#400">w_mem_rdata</a> : <span class=C>/** regfile write data **/</span>
                            (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#261">r_op_AMO_SC</a>) ? <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#417">r_mem_rdata</a> :
                            (<a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#266">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) ? <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#292">r_rcsr</a> : <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>;

<a name="435"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,117)"  class=SW href="rvcorem.v.html#176">w_wb_r_enable</a> =  (<a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a>)                    ? 1 : <span class=C>/** regfile write enable **/</span>
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#513">OPCODE_LUI_____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#514">OPCODE_AUIPC___</a>) ? 1 :
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#515">OPCODE_JAL_____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#516">OPCODE_JALR____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#503">OPCODE_OP______</a>) ? 1 :
                            (<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#506">OPCODE_OP_IMM__</a>) ? 1 :
                            (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a>)                     ? 1 :
                            (<a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#266">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) ? 1 : 0;

<a name="445"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#449">r_mstatus_t</a> = 0;
<a name="446"></a>    <span class=K>reg</span>  [1:0] <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a>    = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">PRIV_M</a>;

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
<a name="449"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>) <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#445">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>;
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#144">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#137">r_funct12</a>)
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#595">FUNCT12_SRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#445">r_mstatus_t</a> &lt;= (((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~(1&lt;&lt;<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8])) | (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[5] &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8])) | 32'h20) &amp; ~32'h100;
<a name="455"></a>                        <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#446">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8];
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#594">FUNCT12_MRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#445">r_mstatus_t</a> &lt;= (((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~(1 &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>])) 
                                         | (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#431">MSTATUS_MPIE_SHIFT</a>] &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>])) 
                                        | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#420">MSTATUS_MPIE</a>) &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#423">MSTATUS_MPP</a>;
                        <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#446">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>];
                    <span class=K>end</span>
                    <span class=K>default</span>: <span class=K>begin</span>
                        <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#445">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>;
                        <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#446">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>;
                    <span class=K>end</span>
                <span class=K>endcase</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#445">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>;
                <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#446">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>;
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           COM            ***********************************/</span>
<a name="477"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a>;

<a name="479"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#479">pending_interrupts</a> = <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> &amp; <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>;
<a name="480"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,163)"  class=SW href="rvcorem.v.html#480">enable_interrupts</a>  = (<a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#479">pending_interrupts</a>) ? (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">PRIV_M</a>) ? ((<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#416">MSTATUS_MIE</a>) ? ~<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a> : 0) :
                                                            (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">PRIV_S</a>) ? ((<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#414">MSTATUS_SIE</a>) ? (~<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a> | <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>) : ~<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>) :
                                                            (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#405">PRIV_U</a>) ? ~0 : 0 : 0;
<a name="483"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#177">w_interrupt_mask</a> = <a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#479">pending_interrupts</a> &amp; <a  onClick="return qs(event,this,163)"  class=SW href="rvcorem.v.html#480">enable_interrupts</a>;
<a name="484"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,119)"  class=SW href="rvcorem.v.html#178">w_irq_t</a>          = <a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#483">w_interrupt_mask</a> &amp; (~<a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#483">w_interrupt_mask</a>+1);

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a>) <span class=K>begin</span>
            <span class=K>case</span> (<a  onClick="return qs(event,this,119)"  class=SW href="rvcorem.v.html#178">w_irq_t</a>)
<a name="489"></a>                32'h00000001: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 0;
                32'h00000002: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 1;
                32'h00000004: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 2;
                32'h00000008: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 3;
                32'h00000010: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 4;
                32'h00000020: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 5;
                32'h00000040: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 6;
                32'h00000080: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 7;
                32'h00000100: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 8;
                32'h00000200: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 9;
                32'h00000400: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 10;
                32'h00000800: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 11;
                32'h00001000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 12;
                32'h00002000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 13;
                32'h00004000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 14;
                32'h00008000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 15;
                32'h00010000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 16;
                32'h00020000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 17;
                32'h00040000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 18;
                32'h00080000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 19;
                32'h00100000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 20;
                32'h00200000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 21;
                32'h00400000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 22;
                32'h00800000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 23;
                32'h01000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 24;
                32'h02000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 25;
                32'h04000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 26;
                32'h08000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 27;
                32'h10000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 28;
                32'h20000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 29;
                32'h40000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 30;
                32'h80000000: <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 31;
                <span class=K>default</span>:      <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#171">irq_num</a> &lt;= 32;
            <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

<a name="526"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a> = (<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a> != ~0) ? <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a> : (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#321">CAUSE_INTERRUPT</a> | <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#489">irq_num</a>);
<a name="527"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,165)"  class=SW href="rvcorem.v.html#527">w_deleg</a> = (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">PRIV_S</a>) ? ((<a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#321">CAUSE_INTERRUPT</a>) ? (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a> &gt;&gt; (<a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a> &amp; 32'h1f))  &amp; 1 :
                                                                                (<a  onClick="return qs(event,this,55)"  class=SR href="rvcorem.v.html#768">medeleg</a> &gt;&gt; (<a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a> &amp; 32'h1f))) &amp; 1 : 0;

    <span class=C>// wfi keeps pc constant
</span><a name="531"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,166)"  class=SW href="rvcorem.v.html#531">w_executing_wfi</a> = ((<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#247">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a>) &amp;&amp; (<a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) &amp;&amp; (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a>== <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#597">FUNCT12_WFI___</a>));

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span> <span class=C>/////// update program counter
</span><a name="534"></a>        <span class=K>if</span>(!<a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#57">RST_X</a> || <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#68">r_halt</a>) <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#149">D_START_PC</a>; <span class=K>end</span>
<a name="535"></a>        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a> != ~32'h0) <span class=K>begin</span>  <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#118">pending_tval</a> &lt;= (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> : (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#292">S_LD</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#294">S_SD</a>) ? 0 : <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#288">r_mem_addr</a>; <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> != ~0)   <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a> &lt;= (<a  onClick="return qs(event,this,165)"  class=SW href="rvcorem.v.html#527">w_deleg</a>) ? <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#745">stvec</a> : <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>; <span class=K>end</span>   <span class=C>// raise Exception
</span>            <span class=K>else</span> <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#177">w_interrupt_mask</a> != 0) <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a> &lt;= (<a  onClick="return qs(event,this,165)"  class=SW href="rvcorem.v.html#527">w_deleg</a>) ? <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#745">stvec</a> : <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>; <span class=K>end</span>   <span class=C>// Interrupt HERE
</span>		        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,166)"  class=SW href="rvcorem.v.html#531">w_executing_wfi</a>)  <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>; <span class=K>end</span>
                <span class=K>else</span>                      <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#89">pc</a> &lt;= (<a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#316">r_tkn</a>) ? <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 4; <span class=K>end</span>
            <span class=K>end</span>
<a name="543"></a>            <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#128">r_ir16_v</a>    &lt;= !((<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a> != ~0) || (<a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#483">w_interrupt_mask</a> != 0) || (<a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#316">r_tkn</a>) || (!<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>));
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#118">pending_tval</a> &lt;= 0;
        <span class=K>end</span>
    <span class=K>end</span>
    
    <span class=C>/***********************************           FIN          ***********************************/</span>
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span> 
            <span class=K>if</span>((<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> == ~0) ||
               (<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> != ~0 &amp;&amp; (<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#321">CAUSE_INTERRUPT</a>)) ||
               (<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> != ~0 &amp;&amp; <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#145">r_op_ECALL</a>)) <span class=K>begin</span>
<a name="556"></a>                <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#167">e_icount</a> &lt;= <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#556">e_icount</a> + 1;
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           CSR          ***********************************/</span>
<a name="562"></a>    <span class=K>wire</span> [11:0] <a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#562">w_csr_addr</a> = (<a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a>  != <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a> )  ? <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> :
                             (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#591">FUNCT12_ECALL_</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#386">CSR_MTVEC</a>:
                             (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#596">FUNCT12_URET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#354">CSR_UEPC</a> :
                             (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#595">FUNCT12_SRET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#370">CSR_SEPC</a> :
                             (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#594">FUNCT12_MRET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#389">CSR_MEPC</a> : 0;
    
<a name="568"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,168)"  class=SW href="rvcorem.v.html#568">w_sstatus_t</a> = (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> | 32'h6000) &amp; 32'h000de133;
<a name="569"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,169)"  class=SW href="rvcorem.v.html#569">w_mstatus_t</a> = (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> | 32'h6000);

    <span class=K>always</span>@(*) <span class=K>begin</span> /***** read CSR register, <span class=K>for</span> OF stage  *****/
        <span class=K>case</span>(<a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#562">w_csr_addr</a>)
<a name="573"></a>            12'h3A0         : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
            12'h3B0         : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#348">CSR_FFLAGS</a>     : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#349">CSR_FRM</a>        : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#350">CSR_FCSR</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#366">CSR_SIE</a>        : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a> &amp; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#367">CSR_STVEC</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#745">stvec</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#368">CSR_SCOUNTEREN</a> : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#751">scounteren</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#369">CSR_SSCRATCH</a>   : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#752">sscratch</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#370">CSR_SEPC</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#696">sepc</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#371">CSR_SCAUSE</a>     : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#695">scause</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#372">CSR_STVAL</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,62)"  class=SR href="rvcorem.v.html#697">stval</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#373">CSR_SIP</a>        : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> &amp; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#374">CSR_SATP</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#778">satp</a>;

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#383">CSR_MEDELEG</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,55)"  class=SR href="rvcorem.v.html#768">medeleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_MIDELEG</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#385">CSR_MIE</a>        : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#386">CSR_MTVEC</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#387">CSR_MCOUNTEREN</a> : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#758">mcounteren</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#388">CSR_MSCRATCH</a>   : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,47)"  class=SR href="rvcorem.v.html#759">mscratch</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#389">CSR_MEPC</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,48)"  class=SR href="rvcorem.v.html#702">mepc</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#390">CSR_MCAUSE</a>     : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,49)"  class=SR href="rvcorem.v.html#701">mcause</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#391">CSR_MTVAL</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,50)"  class=SR href="rvcorem.v.html#703">mtval</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#392">CSR_MIP</a>        : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#382">CSR_MISA</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,52)"  class=SR href="rvcorem.v.html#98">misa</a> | 32'h40000000;

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#393">CSR_MCYCLE</a>     : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#394">CSR_MINSTRET</a>   : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#358">CSR_CYCLE</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#360">CSR_INSTRET</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#359">CSR_TIME</a>       : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[31:0];

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#395">CSR_MCYCLEH</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#396">CSR_MINSTRETH</a>  : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#397">CSR_CYCLEH</a>     : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#399">CSR_INSTRETH</a>   : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#398">CSR_TIMEH</a>      : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>[63:32];

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#363">CSR_SSTATUS</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = (<a  onClick="return qs(event,this,168)"  class=SW href="rvcorem.v.html#568">w_sstatus_t</a>[31:13]==3 | <a  onClick="return qs(event,this,168)"  class=SW href="rvcorem.v.html#568">w_sstatus_t</a>[31:15]==3) ? (<a  onClick="return qs(event,this,168)"  class=SW href="rvcorem.v.html#568">w_sstatus_t</a> | 32'h80000000) : <a  onClick="return qs(event,this,168)"  class=SW href="rvcorem.v.html#568">w_sstatus_t</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_MSTATUS</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = (<a  onClick="return qs(event,this,169)"  class=SW href="rvcorem.v.html#569">w_mstatus_t</a>[31:13]==3 | <a  onClick="return qs(event,this,169)"  class=SW href="rvcorem.v.html#569">w_mstatus_t</a>[31:15]==3) ? (<a  onClick="return qs(event,this,169)"  class=SW href="rvcorem.v.html#569">w_mstatus_t</a> | 32'h80000000) : <a  onClick="return qs(event,this,169)"  class=SW href="rvcorem.v.html#569">w_mstatus_t</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#380">CSR_MHARTID</a>    : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>;
            <span class=K>default</span>         : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#170">r_rcsr_t</a> = 0;
        <span class=K>endcase</span>
    <span class=K>end</span>


<a name="620"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,170)"  class=SW href="rvcorem.v.html#620">w_csr_we</a>    = (<a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#266">r_op_SYS</a>) &amp;&amp; (<a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#251">r_funct3</a> != <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>);
<a name="621"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#621">w_sstatus</a>   = (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#438">SSTATUS_MASK</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#438">SSTATUS_MASK</a>);

<a name="623"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,172)"  class=SW href="rvcorem.v.html#623">w_sstatus_t1</a> = (<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#418">MSTATUS_SPIE</a>) | (((<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &gt;&gt; <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a>) &amp; 1) &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#430">MSTATUS_SPIE_SHIFT</a>);
<a name="624"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,173)"  class=SW href="rvcorem.v.html#624">w_sstatus_t2</a> = (<a  onClick="return qs(event,this,172)"  class=SW href="rvcorem.v.html#623">w_sstatus_t1</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#421">MSTATUS_SPP</a>) | (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#432">MSTATUS_SPP_SHIFT</a>);
<a name="625"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#625">w_sstatus_t3</a> = (<a  onClick="return qs(event,this,173)"  class=SW href="rvcorem.v.html#624">w_sstatus_t2</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#414">MSTATUS_SIE</a>);
<a name="626"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#626">w_mstatus_t1</a> = (<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#420">MSTATUS_MPIE</a>) | (((<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#808">w_mstatus_nxt</a> &gt;&gt; <a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a>) &amp; 1) &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#431">MSTATUS_MPIE_SHIFT</a>);
<a name="627"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#627">w_mstatus_t2</a> = (<a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#626">w_mstatus_t1</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#423">MSTATUS_MPP</a>) | (<a  onClick="return qs(event,this,160)"  class=SR href="rvcorem.v.html#455">r_priv_t</a> &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>);
<a name="628"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,177)"  class=SW href="rvcorem.v.html#628">w_mstatus_t3</a> = (<a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#627">w_mstatus_t2</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#416">MSTATUS_MIE</a>);

<span class=P>`ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>    reg was_csrw_satp = 0;
</span><span class=P>    reg [31:0] old_insn_addr;
</span><span class=M>`endif</span>

<a name="635"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#654">r_ipi_max_displays</a>=0;
<a name="636"></a>    <span class=K>reg</span> <a  onClick="return qs(event,this,179)"  class=SR href="rvcorem.v.html#665">r_ipi_taken</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span> /***** write CSR registers *****/
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a>) <span class=K>begin</span>
            //<span class=K>if</span>(<a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a> &gt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#82">ENABLE_TIMER</a>) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#64">w_plic_we</a>) <span class=K>begin</span> // KEYBOARD INPUT
                    <span class=ST>$display</span>(&quot;----rvcorem <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#64">w_plic_we</a> <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= %x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>=%x&quot;, <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#883">w_mip</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>);
<a name="642"></a>                    <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#63">w_wmip</a>;
                <span class=K>end</span>
                <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#117">r_was_clint_we</a> &amp;&amp; (<a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#116">mtimecmp</a> &lt; <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#74">w_mtime</a>)) <span class=K>begin</span>
                    //<span class=ST>$display</span>(&quot;core%1x gets MTIP&quot;, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>);
                    <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MIP_MTIP</a>;
<a name="647"></a>                    <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#117">r_was_clint_we</a> &lt;= 0;
                <span class=K>end</span>
            //<span class=K>end</span>
                <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#58">w_ipi</a> &amp; (1&lt;&lt;<a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>)) <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,179)"  class=SR href="rvcorem.v.html#636">r_ipi_taken</a> == 0) <span class=K>begin</span>
                        <span class=K>if</span>((<a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#58">w_ipi</a> &gt;&gt; 16) &amp; (1&lt;&lt;<a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>)) <span class=K>begin</span>
                            <span class=K>if</span>(<a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#32">IPI_MAX_DISPLAYS</a>) <span class=K>begin</span>
<a name="654"></a>                                <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#654">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got ipi=%x ssip <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>=%x <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>=%x <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>=%x&quot;, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#58">w_ipi</a>, <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>, <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>, <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>);
                            <span class=K>end</span>
                            <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#441">MIP_SSIP</a>;
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span>(<a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#32">IPI_MAX_DISPLAYS</a>) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#654">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got ipi=%x msip <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>=%x <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>=%x <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>=%x&quot;, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#58">w_ipi</a>, <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>, <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a>, <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#757">mtvec</a>);
                            <span class=K>end</span>
                            <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#443">MIP_MSIP</a>;
                        <span class=K>end</span>
<a name="665"></a>                        <a  onClick="return qs(event,this,179)"  class=SR href="rvcorem.v.html#636">r_ipi_taken</a> &lt;= 1;
                    <span class=K>end</span>
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,179)"  class=SR href="rvcorem.v.html#636">r_ipi_taken</a> &lt;= 0;
                    <span class=K>if</span>(<a  onClick="return qs(event,this,179)"  class=SR href="rvcorem.v.html#636">r_ipi_taken</a> == 1)
                        <span class=K>if</span>(<a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#32">IPI_MAX_DISPLAYS</a>) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#635">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,178)"  class=SR href="rvcorem.v.html#654">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got clear ipi&quot;, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>);
                        <span class=K>end</span>
                <span class=K>end</span>
        <span class=K>end</span>

        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#293">S_EX2</a> || <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#64">w_plic_we</a>) <span class=K>begin</span>
                <span class=ST>$display</span>(&quot;----rvcorem <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#64">w_plic_we</a> <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= %x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>=%x&quot;, <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#883">w_mip</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>);
                <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a> &lt;= <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#63">w_wmip</a>;
            <span class=K>end</span>
        <span class=K>end</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#294">S_SD</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,31)"  class=SI href="rvcorem.v.html#62">w_clint_we</a>) <span class=K>begin</span>
                //<span class=ST>$display</span>(&quot;core%1x sets <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#116">mtimecmp</a>=%x&quot;, <a  onClick="return qs(event,this,51)"  class=SW href="rvcorem.v.html#97">mhartid</a>, <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#61">w_wmtimecmp</a>);
<a name="686"></a>                <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#116">mtimecmp</a>    &lt;= <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#61">w_wmtimecmp</a>;
                <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a>         &lt;= <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MIP_MTIP</a>;
                <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#117">r_was_clint_we</a> &lt;= 1;
            <span class=K>end</span>
        <span class=K>end</span>

        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> != ~0) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,165)"  class=SW href="rvcorem.v.html#527">w_deleg</a>) <span class=K>begin</span>
<a name="695"></a>                    <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#107">scause</a>  &lt;= <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a>;
<a name="696"></a>                    <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#106">sepc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>;
<a name="697"></a>                    <a  onClick="return qs(event,this,62)"  class=SR href="rvcorem.v.html#108">stval</a>   &lt;= <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#535">pending_tval</a>;
<a name="698"></a>                    <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#625">w_sstatus_t3</a>;
<a name="699"></a>                    <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">PRIV_S</a>;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
<a name="701"></a>                    <a  onClick="return qs(event,this,49)"  class=SR href="rvcorem.v.html#95">mcause</a>  &lt;= <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a>;
<a name="702"></a>                    <a  onClick="return qs(event,this,48)"  class=SR href="rvcorem.v.html#94">mepc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>;
<a name="703"></a>                    <a  onClick="return qs(event,this,50)"  class=SR href="rvcorem.v.html#96">mtval</a>   &lt;= <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#535">pending_tval</a>;
                    <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= <a  onClick="return qs(event,this,177)"  class=SW href="rvcorem.v.html#628">w_mstatus_t3</a>;
                    <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">PRIV_M</a>;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#177">w_interrupt_mask</a> != 0) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,165)"  class=SW href="rvcorem.v.html#527">w_deleg</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#107">scause</a>  &lt;= <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a>;
                    <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#106">sepc</a>    &lt;= (<a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#316">r_tkn</a>) ? <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 4;
                    <a  onClick="return qs(event,this,62)"  class=SR href="rvcorem.v.html#108">stval</a>   &lt;= <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#535">pending_tval</a>;
                    <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#625">w_sstatus_t3</a>;
                    <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">PRIV_S</a>;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,49)"  class=SR href="rvcorem.v.html#95">mcause</a>  &lt;= <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#526">cause</a>;
                    <a  onClick="return qs(event,this,48)"  class=SR href="rvcorem.v.html#94">mepc</a>    &lt;= (<a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#316">r_tkn</a>) ? <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#229">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a> + 4;
                    <a  onClick="return qs(event,this,50)"  class=SR href="rvcorem.v.html#96">mtval</a>   &lt;= <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#535">pending_tval</a>;
                    <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= <a  onClick="return qs(event,this,177)"  class=SW href="rvcorem.v.html#628">w_mstatus_t3</a>;
                    <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">PRIV_M</a>;
                <span class=K>end</span>
            <span class=K>end</span>
        <span class=K>end</span>

        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span> /***** COM stage *****/
            <span class=K>if</span>(<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#130">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#522">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#134">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#583">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#137">r_funct12</a>)
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#596">FUNCT12_URET__</a> : <span class=K>begin</span>
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#595">FUNCT12_SRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= (((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~(1&lt;&lt;<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8])) | (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[5] &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8])) | 32'h20) &amp; ~32'h100;
                        <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[8];
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#594">FUNCT12_MRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &lt;= (((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~(1 &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>]))
                                     | (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#431">MSTATUS_MPIE_SHIFT</a>] &lt;&lt; <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>])) 
                                    | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#420">MSTATUS_MPIE</a>) &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#423">MSTATUS_MPP</a>;
                        <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#114">priv</a>    &lt;= <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#433">MSTATUS_MPP_SHIFT</a>];
                    <span class=K>end</span>
                <span class=K>endcase</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,170)"  class=SW href="rvcorem.v.html#620">w_csr_we</a>) <span class=K>begin</span>
                <span class=K>case</span>(<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#137">r_funct12</a>)
		    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#367">CSR_STVEC</a>      : <span class=K>begin</span>
<a name="745"></a>			    <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#104">stvec</a>      &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; ~3;
<span class=P>			    `ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>			    $write(&quot;stvec write: \ttime:%x stvec&lt;=%x pc=%x\n&quot;,
</span><span class=P>				    w_mtime, (r_wb_data_csr &amp; ~3), pc);
</span>			    <span class=M>`endif</span>
		    <span class=K>end</span>
<a name="751"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#368">CSR_SCOUNTEREN</a> : <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#110">scounteren</a> &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; 5;
<a name="752"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#369">CSR_SSCRATCH</a>   : <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#105">sscratch</a>   &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#370">CSR_SEPC</a>       : <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#106">sepc</a>       &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; ~1;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#371">CSR_SCAUSE</a>     : <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#107">scause</a>     &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#372">CSR_STVAL</a>      : <a  onClick="return qs(event,this,62)"  class=SR href="rvcorem.v.html#108">stval</a>      &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;

<a name="757"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#386">CSR_MTVEC</a>      : <a  onClick="return qs(event,this,46)"  class=SR href="rvcorem.v.html#92">mtvec</a>      &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; ~3;
<a name="758"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#387">CSR_MCOUNTEREN</a> : <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#103">mcounteren</a> &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; 5;
<a name="759"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#388">CSR_MSCRATCH</a>   : <a  onClick="return qs(event,this,47)"  class=SR href="rvcorem.v.html#93">mscratch</a>   &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#389">CSR_MEPC</a>       : <a  onClick="return qs(event,this,48)"  class=SR href="rvcorem.v.html#94">mepc</a>       &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; ~1;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#390">CSR_MCAUSE</a>     : <a  onClick="return qs(event,this,49)"  class=SR href="rvcorem.v.html#95">mcause</a>     &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#391">CSR_MTVAL</a>      : <a  onClick="return qs(event,this,50)"  class=SR href="rvcorem.v.html#96">mtval</a>      &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>;

<a name="764"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#366">CSR_SIE</a>        : <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#99">mie</a>        &lt;= (<a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a> &amp; ~<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#373">CSR_SIP</a>        : <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a>        &lt;= (<a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> &amp; ~<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a>);

		            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#383">CSR_MEDELEG</a>    : <span class=K>begin</span> 
<a name="768"></a>		    			<a  onClick="return qs(event,this,55)"  class=SR href="rvcorem.v.html#101">medeleg</a>    &lt;= (<a  onClick="return qs(event,this,55)"  class=SR href="rvcorem.v.html#768">medeleg</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#455">WCSR_MASK1</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#455">WCSR_MASK1</a>);
<span class=P>					    `ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>					    $write(&quot;medeleg write: \ttime:%x medeleg&lt;=%x r_wb_data_csr=%d\n&quot;, w_mtime, (medeleg &amp; ~`WCSR_MASK1) | (r_wb_data_csr &amp; `WCSR_MASK1), r_wb_data_csr);
</span>					    <span class=M>`endif</span>
				    <span class=K>end</span>
<a name="773"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_MIDELEG</a>    : <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#102">mideleg</a>    &lt;= (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#773">mideleg</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#456">WCSR_MASK2</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#456">WCSR_MASK2</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#385">CSR_MIE</a>        : <a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#99">mie</a>        &lt;= (<a  onClick="return qs(event,this,53)"  class=SR href="rvcorem.v.html#764">mie</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#457">WCSR_MASK3</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#457">WCSR_MASK3</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#392">CSR_MIP</a>        : <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#100">mip</a>        &lt;= (<a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#458">WCSR_MASK4</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#458">WCSR_MASK4</a>);

		            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#374">CSR_SATP</a>       : <span class=K>begin</span> 
<a name="778"></a>		    			<a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#109">satp</a>       &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a>; 
<span class=P>					    `ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>					        if(r_wb_data_csr[31]) begin
</span><span class=P>						        $write(&quot;satp write: \ttime:%x pc=%x r_insn_addr=%x w_insn_data=%x satp&lt;=%x pending_exception=%x stvec=%x mtvec=%x w_deleg=%x w_busy=%x\n&quot;,
</span><span class=P>                                                        w_mtime, pc, r_insn_addr, w_insn_data, r_wb_data_csr, pending_exception, stvec, mtvec, w_deleg, w_busy);
</span><span class=P>						    was_csrw_satp &lt;= 1;
</span><span class=P>						    old_insn_addr &lt;= r_insn_addr;
</span><span class=P>					        end
</span>					    <span class=M>`endif</span>
		    		<span class=K>end</span>	

                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_MSTATUS</a>    : <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a>    &lt;= (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#363">CSR_SSTATUS</a>    : <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a>    &lt;= (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#621">w_sstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>);
                <span class=K>endcase</span>
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

<span class=P>`ifdef LAUR_DEBUG_AFTER_CSRW_SATP 
</span><span class=P>    reg [31:0] lcnt=0;
</span><span class=P>    always @(posedge CLK) begin
</span><span class=P>	    if(was_csrw_satp &amp;&amp; (old_insn_addr != r_insn_addr) &amp;&amp; (lcnt &lt; 10)) begin
</span><span class=P>		$write(&quot;new insn addr: \ttime:%x pc=%x r_insn_addr=%x w_insn_data=%x satp=%x pending_exception=%x stvec=%x mtvec=%x w_deleg=%x w_busy=%x\n&quot;,
</span><span class=P>                                                        w_mtime, pc, r_insn_addr, w_insn_data, satp, pending_exception, stvec, mtvec, w_deleg, w_busy);
</span><span class=P>		old_insn_addr &lt;= r_insn_addr;
</span><span class=P>		lcnt = lcnt + 1;
</span><span class=P>	    end
</span><span class=P>    end
</span><span class=M>`endif</span>

<a name="808"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#477">w_mstatus_nxt</a> =  (<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a> != ~0)             ? <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#449">r_mstatus_t</a> :
                        (<a  onClick="return qs(event,this,170)"  class=SW href="rvcorem.v.html#620">w_csr_we</a> &amp;&amp; <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_MSTATUS</a>) ? (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) :
                        (<a  onClick="return qs(event,this,170)"  class=SW href="rvcorem.v.html#620">w_csr_we</a> &amp;&amp; <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#363">CSR_SSTATUS</a>) ? (<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#621">w_sstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MASK_STATUS</a>) : <a  onClick="return qs(event,this,159)"  class=SR href="rvcorem.v.html#449">r_mstatus_t</a>;

    /***********************************       TLB FLUSH!       ***********************************/
<a name="813"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#821">r_tlb_flush</a>;
<a name="814"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#814">w_data_t</a> = (<a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#254">r_funct12</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_MSTATUS</a>) ? <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#355">r_wb_data_csr</a> : <a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#621">w_sstatus</a>;
<a name="815"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#815">w_mod</a>    = <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#814">w_data_t</a> ^ <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>;
    
<a name="817"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#85">w_tlb_flush</a>   = <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#821">r_tlb_flush</a>; // <span class=K>generate</span> this signal to flush TLBs 

    <span class=K>always</span>@(*) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a>) <span class=K>begin</span>
<a name="821"></a>            <span class=K>if</span>(<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#119">pending_exception</a> != ~0 || <a  onClick="return qs(event,this,118)"  class=SW href="rvcorem.v.html#177">w_interrupt_mask</a> != 0) <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 1;
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#146">r_op_SRET</a> || <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#147">r_op_MRET</a>) <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 1;
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#148">r_op_CSR_MSTA</a>) <span class=K>begin</span>
                <span class=K>if</span>((<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#815">w_mod</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">MSTATUS_MPRV</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">MSTATUS_SUM</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#428">MSTATUS_MXR</a>)) != 0 ||
                   ((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">MSTATUS_MPRV</a>) &amp;&amp; (<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#815">w_mod</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#423">MSTATUS_MPP</a>) != 0)) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 1;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#149">r_op_CSR_SSTA</a>) <span class=K>begin</span>
                <span class=K>if</span>((<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#815">w_mod</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">MSTATUS_MPRV</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">MSTATUS_SUM</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#428">MSTATUS_MXR</a>)) != 0 ||
                   ((<a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#91">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">MSTATUS_MPRV</a>) &amp;&amp; (<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#815">w_mod</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#423">MSTATUS_MPP</a>) != 0)) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 1;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>else</span> <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 0;
        <span class=K>end</span>
        <span class=K>else</span> <a  onClick="return qs(event,this,180)"  class=SR href="rvcorem.v.html#813">r_tlb_flush</a> &lt;= 0;
    <span class=K>end</span>

    <span class=C>/***********************************      STATE UPDATE      ***********************************/</span>
<a name="841"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#841">w_com</a> = ((<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a>!=~0 || <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>!=~0 || (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#291">S_EX1</a> &amp;&amp; <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#267">r_op_ECALL</a>)) 
                  &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>);

<a name="844"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#179">w_state</a> = (!<a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#57">RST_X</a> | <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#886">r_halt</a>)                                         ? 0      : <span class=C>// `S_INI
</span>                     (<a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#841">w_com</a>)                                                   ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> :
                     (<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#65">w_busy</a> || <a  onClick="return qs(event,this,154)"  class=SW href="rvcorem.v.html#306">w_ex1_busy</a>)                                    ? <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a>)                                           ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a> :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a>  &amp;&amp; <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#190">w_nalign4</a> &amp;&amp; <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#203">r_if_state</a>!=3)             ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a>  : <span class=C>// Note
</span>                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#291">S_EX1</a> &amp;&amp; !<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a> &amp;&amp; !<a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#264">r_op_STORE</a>) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#292">S_LD</a>  &amp;&amp; <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#264">r_op_STORE</a>)                             ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#294">S_SD</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#292">S_LD</a>  &amp;&amp; <a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a>)                              ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#295">S_WB</a>  : <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>+1;
         
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a> &lt;= <a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>;

<a name="855"></a>    <span class=K>reg</span> [2:0] <a  onClick="return qs(event,this,184)"  class=SR href="rvcorem.v.html#856">r_com</a>;
<a name="856"></a>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <a  onClick="return qs(event,this,184)"  class=SR href="rvcorem.v.html#855">r_com</a> &lt;= (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#296">S_COM</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#297">S_FIN</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#286">S_INI</a>) ? {<a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#312">pending_exception</a>!=~0, <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#66">w_pagefault</a>!=~0, (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#88">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#291">S_EX1</a> &amp;&amp; <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#267">r_op_ECALL</a>)} : 0;

    <span class=C>/**********************************************************************************************/</span>
<a name="859"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,185)"  class=SW href="rvcorem.v.html#859">w_d_we_t</a> = (<a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#294">S_SD</a> &amp;&amp; (<a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#264">r_op_STORE</a> || 
                                        (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a> &amp;&amp;  <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#261">r_op_AMO_SC</a> &amp;&amp; !<a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>[0]) || 
                                        (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#262">r_op_AMO_LR</a> &amp;&amp; !<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#261">r_op_AMO_SC</a>)));
<a name="862"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#862">w_d_en_t</a> = (<a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#292">S_LD</a> &amp;&amp; (<a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#263">r_op_LOAD</a> || (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#265">r_op_AMO</a> &amp;&amp; (!<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#261">r_op_AMO_SC</a>))));

         
<a name="865"></a>    <span class=K>reg</span>       <a  onClick="return qs(event,this,187)"  class=SR href="rvcorem.v.html#869">r_data_we</a>=0;
<a name="866"></a>    <span class=K>reg</span>       <a  onClick="return qs(event,this,188)"  class=SR href="rvcorem.v.html#870">r_data_en</a>=0; <span class=C>/* memory, read enable */</span>
<a name="867"></a>    <span class=K>reg</span> [2:0] <a  onClick="return qs(event,this,189)"  class=SR href="rvcorem.v.html#871">r_tlb_req</a>=0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>begin</span>
<a name="869"></a>        <a  onClick="return qs(event,this,187)"  class=SR href="rvcorem.v.html#865">r_data_we</a> &lt;= <a  onClick="return qs(event,this,185)"  class=SW href="rvcorem.v.html#859">w_d_we_t</a>;
<a name="870"></a>        <a  onClick="return qs(event,this,188)"  class=SR href="rvcorem.v.html#866">r_data_en</a> &lt;= <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#862">w_d_en_t</a>;
<a name="871"></a>        <a  onClick="return qs(event,this,189)"  class=SR href="rvcorem.v.html#867">r_tlb_req</a> &lt;= (<a  onClick="return qs(event,this,120)"  class=SW href="rvcorem.v.html#844">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#287">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#198">w_if_state</a>!=1) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">ACCESS_CODE</a>  :     <span class=C>//// Note!!
</span>                     (<a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#862">w_d_en_t</a>)                        ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#310">ACCESS_READ</a>  :
                     (<a  onClick="return qs(event,this,185)"  class=SW href="rvcorem.v.html#859">w_d_we_t</a>)                        ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#311">ACCESS_WRITE</a> : 2'h3;
    <span class=K>end</span>

<a name="876"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#83">w_tlb_req</a>  = <a  onClick="return qs(event,this,189)"  class=SR href="rvcorem.v.html#871">r_tlb_req</a>;
<a name="877"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#84">w_data_we</a>  = <a  onClick="return qs(event,this,187)"  class=SR href="rvcorem.v.html#869">r_data_we</a>;
<a name="878"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#76">w_priv</a>     = <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#699">priv</a>;
<a name="879"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#77">w_satp</a>     = <a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#778">satp</a>;
<a name="880"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,27)"  class=SO href="rvcorem.v.html#78">w_mstatus</a>  = <a  onClick="return qs(event,this,45)"  class=SR href="rvcorem.v.html#698">mstatus</a>;
    <span class=C>//assign w_mtime    = w_mtime;
</span><a name="882"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.html#75">w_mtimecmp</a> = <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#686">mtimecmp</a>;
<a name="883"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#79">w_mip</a>      = <a  onClick="return qs(event,this,54)"  class=SR href="rvcorem.v.html#642">mip</a>;

    <span class=C>/**********************************************************************************************/</span>
<a name="886"></a>    <span class=K>initial</span> <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#68">r_halt</a> = 0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#57">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#130">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#525">OPCODE_HALT____</a>) <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#68">r_halt</a> &lt;= 1;  <span class=C>//w_opcode
</span>
<a name="889"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,39)"  class=SO href="rvcorem.v.html#80">w_core_pc</a> = <a  onClick="return qs(event,this,44)"  class=SR href="rvcorem.v.html#534">pc</a>;
<a name="890"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,40)"  class=SO href="rvcorem.v.html#81">w_core_ir</a> = <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#228">r_ir</a>;
<a name="891"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,41)"  class=SO href="rvcorem.v.html#69">w_core_odata</a> = 0;
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>


<span class=C>/**************************************************************************************************/</span>
<span class=C>/* 32bit-32cycle divider (signed or unsigned)                                                     */</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_div_unit"></a><a  href="rvcorem.v.p2.html#m_alu_im_divunit"><img alt="[Up: m_alu_im divunit]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_div_unit</span><a  href="hierarchy-m.html#m_div_unit"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>(<a  onClick="return qs(event,this,190)"  class=SI href="rvcorem.v.html#900">CLK</a>, <a  onClick="return qs(event,this,191)"  class=SI href="rvcorem.v.html#900">RST_X</a>, <a  onClick="return qs(event,this,192)"  class=SI href="rvcorem.v.html#901">w_init</a>, <a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.html#901">w_signed</a>, <a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.html#902">w_dividend</a>, <a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.html#902">w_divisor</a>, <a  onClick="return qs(event,this,196)"  class=SO href="rvcorem.v.html#903">w_rslt</a>, <a  onClick="return qs(event,this,197)"  class=SO href="rvcorem.v.html#904">w_busy</a>);
<a name="900"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,190)"  class=SI href="rvcorem.v.p2.html#1009">CLK</a>, <a  onClick="return qs(event,this,191)"  class=SI href="rvcorem.v.p2.html#1009">RST_X</a>;
<a name="901"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,192)"  class=SI href="rvcorem.v.p2.html#1009">w_init</a>, <a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.p2.html#1010">w_signed</a>;
<a name="902"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.p2.html#1010">w_dividend</a>, <a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.p2.html#1010">w_divisor</a>;
<a name="903"></a>    <span class=K>output</span> <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,196)"  class=SO href="rvcorem.v.html#916">w_rslt</a>;
<a name="904"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,197)"  class=SO href="rvcorem.v.html#912">w_busy</a>;

<a name="906"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>=0, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>=0;

<a name="908"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#914">w_uint_dividend</a>, <a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#915">w_uint_divisor</a>;
<a name="909"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>;

<a name="m_div_unit_divcore"></a><a name="911"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.html#m_div_unit_core">m_div_unit_core</a> divcore(<a  onClick="return qs(event,this,190)"  class=SI href="rvcorem.v.html#900">CLK</a>, <a  onClick="return qs(event,this,191)"  class=SI href="rvcorem.v.html#900">RST_X</a>, <a  onClick="return qs(event,this,192)"  class=SI href="rvcorem.v.html#901">w_init</a>, <a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#908">w_uint_dividend</a>,
<a name="912"></a>                            <a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#908">w_uint_divisor</a>, <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#909">w_uint_rslt</a>, <a  onClick="return qs(event,this,197)"  class=SO href="rvcorem.v.html#904">w_busy</a>);

<a name="914"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#908">w_uint_dividend</a>  = (<a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.html#901">w_signed</a> &amp; <a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.html#902">w_dividend</a>[31]) ? ~<a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.html#902">w_dividend</a> + 1 : <a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.html#902">w_dividend</a>;
<a name="915"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#908">w_uint_divisor</a>   = (<a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.html#901">w_signed</a> &amp; <a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.html#902">w_divisor</a>[31])  ? ~<a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.html#902">w_divisor</a>  + 1 : <a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.html#902">w_divisor</a>;
<a name="916"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,196)"  class=SO href="rvcorem.v.html#903">w_rslt</a>[63:32]    = 
        (~<a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.html#901">w_signed</a>)?                   <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[63:32]     :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b00) ?  <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[63:32]     :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b01) ?  <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[63:32]     :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b10) ? ~<a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[63:32] + 1 :
                                                       ~<a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[63:32] + 1;
    <span class=K>assign</span> <a  onClick="return qs(event,this,196)"  class=SO href="rvcorem.v.html#903">w_rslt</a>[31: 0]    = 
        (~<a  onClick="return qs(event,this,193)"  class=SI href="rvcorem.v.html#901">w_signed</a>)?                     <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[31: 0]   :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b00) ?  <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[31: 0]     :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b01) ? ~<a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[31: 0] + 1 :
        ({<a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>, <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>} == 2'b10) ? ~<a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[31: 0] + 1 :
                                                        <a  onClick="return qs(event,this,202)"  class=SW href="rvcorem.v.html#912">w_uint_rslt</a>[31: 0];
        
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,190)"  class=SI href="rvcorem.v.html#900">CLK</a>) <span class=K>begin</span>
      <span class=K>if</span>(!<a  onClick="return qs(event,this,191)"  class=SI href="rvcorem.v.html#900">RST_X</a>) <span class=K>begin</span>
<a name="931"></a>          <a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#906">w_sign_dividend</a>   &lt;= 0;
<a name="932"></a>          <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#906">w_sign_divisor</a>    &lt;= 0;
      <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
          <a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#906">w_sign_dividend</a>   &lt;= (<a  onClick="return qs(event,this,192)"  class=SI href="rvcorem.v.html#901">w_init</a>) ? <a  onClick="return qs(event,this,194)"  class=SI href="rvcorem.v.html#902">w_dividend</a>[31] : <a  onClick="return qs(event,this,198)"  class=SR href="rvcorem.v.html#931">w_sign_dividend</a>;
          <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#906">w_sign_divisor</a>    &lt;= (<a  onClick="return qs(event,this,192)"  class=SI href="rvcorem.v.html#901">w_init</a>) ? <a  onClick="return qs(event,this,195)"  class=SI href="rvcorem.v.html#902">w_divisor</a>[31] : <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#932">w_sign_divisor</a>;
      <span class=K>end</span>
    <span class=K>end</span>
<span class=K>endmodule</span>

<span class=C>/**************************************************************************************************/</span>
<a name="m_div_unit_core"></a><a  href="rvcorem.v.html#m_div_unit_divcore"><img alt="[Up: m_div_unit divcore]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_div_unit_core</span><a  href="hierarchy-m.html#m_div_unit_core"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>(<a  onClick="return qs(event,this,203)"  class=SI href="rvcorem.v.html#942">CLK</a>, <a  onClick="return qs(event,this,204)"  class=SI href="rvcorem.v.html#942">RST_X</a>, <a  onClick="return qs(event,this,205)"  class=SI href="rvcorem.v.html#943">w_init</a>, <a  onClick="return qs(event,this,206)"  class=SI href="rvcorem.v.html#944">w_dividend</a>, <a  onClick="return qs(event,this,207)"  class=SI href="rvcorem.v.html#944">w_divisor</a>, <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#945">r_rslt</a>, <a  onClick="return qs(event,this,209)"  class=SO href="rvcorem.v.html#946">w_busy</a>);
<a name="942"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,203)"  class=SI href="rvcorem.v.html#911">CLK</a>, <a  onClick="return qs(event,this,204)"  class=SI href="rvcorem.v.html#911">RST_X</a>;
<a name="943"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,205)"  class=SI href="rvcorem.v.html#911">w_init</a>;
<a name="944"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,206)"  class=SI href="rvcorem.v.html#911">w_dividend</a>, <a  onClick="return qs(event,this,207)"  class=SI href="rvcorem.v.html#912">w_divisor</a>;
<a name="945"></a>    <span class=K>output</span> <span class=K>reg</span>  [63:0] <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#959">r_rslt</a>;
<a name="946"></a>    <span class=K>output</span> <span class=K>wire</span>        <a  onClick="return qs(event,this,209)"  class=SO href="rvcorem.v.html#953">w_busy</a>;

<a name="948"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#958">r_divisor</a>=0;
<a name="949"></a>    <span class=K>reg</span>   [5:0] <a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#960">r_count</a>=0;
    
<a name="951"></a>    <span class=K>wire</span> [32:0] <a  onClick="return qs(event,this,212)"  class=SW href="rvcorem.v.html#954">w_differ</a>;

<a name="953"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,209)"  class=SO href="rvcorem.v.html#946">w_busy</a>   = (<a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#960">r_count</a> &lt; 32);
<a name="954"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,212)"  class=SW href="rvcorem.v.html#951">w_differ</a> = <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#959">r_rslt</a>[63:31] - {1'b0, <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#958">r_divisor</a>};

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,203)"  class=SI href="rvcorem.v.html#942">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(!<a  onClick="return qs(event,this,204)"  class=SI href="rvcorem.v.html#942">RST_X</a>) <span class=K>begin</span>
<a name="958"></a>            <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#948">r_divisor</a>   &lt;= 0;
<a name="959"></a>            <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#945">r_rslt</a>      &lt;= 0;
<a name="960"></a>            <a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#949">r_count</a>     &lt;= 0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,205)"  class=SI href="rvcorem.v.html#943">w_init</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#948">r_divisor</a>   &lt;= <a  onClick="return qs(event,this,207)"  class=SI href="rvcorem.v.html#944">w_divisor</a>;
            <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#945">r_rslt</a>      &lt;= {32'h0, <a  onClick="return qs(event,this,206)"  class=SI href="rvcorem.v.html#944">w_dividend</a>};
            <a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#949">r_count</a>     &lt;= 0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#948">r_divisor</a>   &lt;= <a  onClick="return qs(event,this,210)"  class=SR href="rvcorem.v.html#958">r_divisor</a>;
            <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#945">r_rslt</a>      &lt;= (<a  onClick="return qs(event,this,212)"  class=SW href="rvcorem.v.html#954">w_differ</a>[32]) ? {<a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#959">r_rslt</a>[62:0], 1'h0} :
                                            {<a  onClick="return qs(event,this,212)"  class=SW href="rvcorem.v.html#954">w_differ</a>[31:0], <a  onClick="return qs(event,this,208)"  class=SOR href="rvcorem.v.html#959">r_rslt</a>[30:0], 1'h1};
            <a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#949">r_count</a>     &lt;= <a  onClick="return qs(event,this,211)"  class=SR href="rvcorem.v.html#960">r_count</a> + 1;
        <span class=K>end</span>
    <span class=K>end</span>
<span class=K>endmodule</span>

<span class=C>/***** ALU module                                                                             *****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_alu_im"></a><a  href="rvcorem.v.html#m_RVCoreM_ALU_IM"><img alt="[Up: m_RVCoreM ALU_IM]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_alu_im</span><a  href="hierarchy-m.html#m_alu_im"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>(<a  onClick="return qs(event,this,213)"  class=SI href="rvcorem.v.html#978">CLK</a>, <a  onClick="return qs(event,this,214)"  class=SI href="rvcorem.v.html#978">RST_X</a>, <a  onClick="return qs(event,this,215)"  class=SI href="rvcorem.v.html#979">w_le</a>, <a  onClick="return qs(event,this,216)"  class=SI href="rvcorem.v.html#980">w_in1</a>, <a  onClick="return qs(event,this,217)"  class=SI href="rvcorem.v.html#980">w_in2</a>, <a  onClick="return qs(event,this,218)"  class=SI href="rvcorem.v.html#981">w_funct3</a>, <a  onClick="return qs(event,this,219)"  class=SI href="rvcorem.v.html#982">w_funct7</a>, <a  onClick="return qs(event,this,220)"  class=SOR href="rvcorem.v.html#983">r_rslt</a>, <a  onClick="return qs(event,this,221)"  class=SO href="rvcorem.v.html#984">w_busy</a>,
                <a  onClick="return qs(event,this,222)"  class=SI href="rvcorem.v.html#985">w_mul_SS</a>, <a  onClick="return qs(event,this,223)"  class=SI href="rvcorem.v.html#986">w_mul_SU</a>, <a  onClick="return qs(event,this,224)"  class=SI href="rvcorem.v.html#987">w_mul_UU</a>);
<a name="978"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,213)"  class=SI href="rvcorem.v.html#305">CLK</a>, <a  onClick="return qs(event,this,214)"  class=SI href="rvcorem.v.html#305">RST_X</a>;
<a name="979"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,215)"  class=SI href="rvcorem.v.html#305">w_le</a>;
<a name="980"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,216)"  class=SI href="rvcorem.v.html#305">w_in1</a>, <a  onClick="return qs(event,this,217)"  class=SI href="rvcorem.v.html#305">w_in2</a>;
<a name="981"></a>    <span class=K>input</span>  <span class=K>wire</span>  [2:0]  <a  onClick="return qs(event,this,218)"  class=SI href="rvcorem.v.html#305">w_funct3</a>;
<a name="982"></a>    <span class=K>input</span>  <span class=K>wire</span>  [6:0]  <a  onClick="return qs(event,this,219)"  class=SI href="rvcorem.v.html#305">w_funct7</a>;
<a name="983"></a>    <span class=K>output</span> <span class=K>reg</span>  [31:0]  <a  onClick="return qs(event,this,220)"  class=SOR href="rvcorem.v.p2.html#1051">r_rslt</a>;
<a name="984"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,221)"  class=SO href="rvcorem.v.p2.html#1011">w_busy</a>;
<a name="985"></a>    <span class=K>input</span>  <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,222)"  class=SI href="rvcorem.v.html#306">w_mul_SS</a>;
<a name="986"></a>    <span class=K>input</span>  <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,223)"  class=SI href="rvcorem.v.html#306">w_mul_SU</a>;
<a name="987"></a>    <span class=K>input</span>  <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,224)"  class=SI href="rvcorem.v.html#306">w_mul_UU</a>;

<a name="989"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,225)"  class=SR href="rvcorem.v.p2.html#1021">r_div_first</a> = 1;

<a name="991"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,226)"  class=SW href="rvcorem.v.html#991">w_sin1</a> = <a  onClick="return qs(event,this,216)"  class=SI href="rvcorem.v.html#980">w_in1</a>;
<a name="992"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,227)"  class=SW href="rvcorem.v.html#992">w_sin2</a> = <a  onClick="return qs(event,this,217)"  class=SI href="rvcorem.v.html#980">w_in2</a>;

<a name="994"></a>    <span class=K>wire</span>  [4:0] <a  onClick="return qs(event,this,228)"  class=SW href="rvcorem.v.html#994">w_shamt</a>  = <a  onClick="return qs(event,this,217)"  class=SI href="rvcorem.v.html#980">w_in2</a>[4:0];

<span class=C>//    wire [63:0] w_mul_SS = {{32{w_sin1[31]}},w_sin1} * {{32{w_sin2[31]}},w_sin2};
</span><span class=C>//    wire [63:0] w_mul_SU = {{32{w_sin1[31]}},w_sin1} * {32'b0, w_in2};
</span><span class=C>//    wire [63:0] w_mul_UU = {32'b0, w_in1} * {32'b0, w_in2};
</span>
<a name="1000"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,229)"  class=SW href="rvcorem.v.p2.html#1010">w_divunit_busy</a>;
</pre>
<center><table class=NB cols=3 ><tr><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">Next</a></td><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">1</font></td><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">2</a></td></tr></table></center>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return "rvcorem.v.p2.html"; }
function first_page() { return ""; }
var extra_info = [
["S","rvcorem.v.html#21","","rvcorem.v.html#242","microc.v.html#22","hierarchy-s.p2.html#CLK___m_regfile"],
["S","rvcorem.v.html#22","","rvcorem.v.html#242","microc.v.html#69","hierarchy-s.p8.html#w_rs1___m_regfile"],
["S","rvcorem.v.html#22","","rvcorem.v.html#242","microc.v.html#70","hierarchy-s.p8.html#w_rs2___m_regfile"],
["S","rvcorem.v.html#23","rvcorem.v.html#31","","rvcorem.v.html#31","hierarchy-s.p8.html#w_rdata1___m_regfile"],
["S","rvcorem.v.html#23","rvcorem.v.html#32","","rvcorem.v.html#32","hierarchy-s.p8.html#w_rdata2___m_regfile"],
["S","rvcorem.v.html#24","","rvcorem.v.html#242","microc.v.html#79","hierarchy-s.p8.html#w_we___m_regfile"],
["S","rvcorem.v.html#25","","rvcorem.v.html#242","microc.v.html#88","hierarchy-s.p6.html#rd___m_regfile"],
["S","rvcorem.v.html#26","","rvcorem.v.html#242","microc.v.html#52","hierarchy-s.p8.html#w_wdata___m_regfile"],
["S","rvcorem.v.html#27","","rvcorem.v.html#242","cpummusim.v.html#8","hierarchy-s.p8.html#w_hart_id___m_regfile"],
["S","rvcorem.v.html#29","rvcorem.v.html#36","","rvcorem.v.html#36","hierarchy-s.p5.html#mem___m_regfile"],
["S","rvcorem.v.html#40","","","","hierarchy-s.p4.html#i___m_regfile"],
["S","rvcorem.v.html#57","","cpummusim.v.html#85","","hierarchy-s.p2.html#CLK___m_RVCoreM"],
["S","rvcorem.v.html#57","","cpummusim.v.html#86","main.v.html#268","hierarchy-s.p6.html#RST_X___m_RVCoreM"],
["S","rvcorem.v.html#57","","main.v.html#399","main.v.html#309","hierarchy-s.p8.html#w_stall___m_RVCoreM"],
["S","rvcorem.v.html#59","","cpummusim.v.html#88","cpummusim.v.html#8","hierarchy-s.p8.html#w_hart_id___m_RVCoreM"],
["S","rvcorem.v.html#58","","cpummusim.v.html#89","top.v.html#196","hierarchy-s.p8.html#w_ipi___m_RVCoreM"],
["S","rvcorem.v.html#68","rvcorem.v.html#886","","rvcorem.v.html#886","hierarchy-s.p6.html#r_halt___m_RVCoreM"],
["S","rvcorem.v.html#71","rvcorem.v.html#211","","rvcorem.v.html#211","hierarchy-s.p8.html#w_insn_addr___m_RVCoreM"],
["S","rvcorem.v.html#73","rvcorem.v.html#398","","rvcorem.v.html#398","hierarchy-s.p8.html#w_data_addr___m_RVCoreM"],
["S","rvcorem.v.html#60","","cpummusim.v.html#93","mmu.v.html#260","hierarchy-s.p8.html#w_insn_data___m_RVCoreM"],
["S","rvcorem.v.html#60","","cpummusim.v.html#94","","hierarchy-s.p8.html#w_data_data___m_RVCoreM"],
["S","rvcorem.v.html#70","rvcorem.v.html#428","","rvcorem.v.html#428","hierarchy-s.p8.html#w_data_wdata___m_RVCoreM"],
["S","rvcorem.v.html#84","rvcorem.v.html#877","","rvcorem.v.html#877","hierarchy-s.p8.html#w_data_we___m_RVCoreM"],
["S","rvcorem.v.html#72","rvcorem.v.html#397","","rvcorem.v.html#397","hierarchy-s.p8.html#w_data_ctrl___m_RVCoreM"],
["S","rvcorem.v.html#76","rvcorem.v.html#878","","rvcorem.v.html#878","hierarchy-s.p8.html#w_priv___m_RVCoreM"],
["S","rvcorem.v.html#77","rvcorem.v.html#879","","rvcorem.v.html#879","hierarchy-s.p8.html#w_satp___m_RVCoreM"],
["S","rvcorem.v.html#78","rvcorem.v.html#880","","rvcorem.v.html#880","hierarchy-s.p8.html#w_mstatus___m_RVCoreM"],
["S","rvcorem.v.html#74","","cpummusim.v.html#101","","hierarchy-s.p8.html#w_mtime___m_RVCoreM"],
["S","rvcorem.v.html#75","rvcorem.v.html#882","","rvcorem.v.html#882","hierarchy-s.p8.html#w_mtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#61","","cpummusim.v.html#103","","hierarchy-s.p8.html#w_wmtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#62","","cpummusim.v.html#104","","hierarchy-s.p8.html#w_clint_we___m_RVCoreM"],
["S","rvcorem.v.html#79","rvcorem.v.html#883","","rvcorem.v.html#883","hierarchy-s.p8.html#w_mip___m_RVCoreM"],
["S","rvcorem.v.html#63","","cpummusim.v.html#106","","hierarchy-s.p8.html#w_wmip___m_RVCoreM"],
["S","rvcorem.v.html#64","","cpummusim.v.html#107","","hierarchy-s.p8.html#w_plic_we___m_RVCoreM"],
["S","rvcorem.v.html#65","","cpummusim.v.html#108","mmu.v.html#280","hierarchy-s.p8.html#w_busy___m_RVCoreM"],
["S","rvcorem.v.html#66","","cpummusim.v.html#109","mmu.v.html#110","hierarchy-s.p8.html#w_pagefault___m_RVCoreM"],
["S","rvcorem.v.html#83","rvcorem.v.html#876","","rvcorem.v.html#876","hierarchy-s.p8.html#w_tlb_req___m_RVCoreM"],
["S","rvcorem.v.html#85","rvcorem.v.html#817","","rvcorem.v.html#817","hierarchy-s.p8.html#w_tlb_flush___m_RVCoreM"],
["S","rvcorem.v.html#80","rvcorem.v.html#889","","rvcorem.v.html#889","hierarchy-s.p8.html#w_core_pc___m_RVCoreM"],
["S","rvcorem.v.html#81","rvcorem.v.html#890","","rvcorem.v.html#890","hierarchy-s.p8.html#w_core_ir___m_RVCoreM"],
["S","rvcorem.v.html#69","rvcorem.v.html#891","","rvcorem.v.html#891","hierarchy-s.p8.html#w_core_odata___m_RVCoreM"],
["S","rvcorem.v.html#82","rvcorem.v.html#185","","rvcorem.v.html#185","hierarchy-s.p8.html#w_init_stage___m_RVCoreM"],
["S","rvcorem.v.html#88","rvcorem.v.html#88","","rvcorem.v.html#88","hierarchy-s.p7.html#state___m_RVCoreM"],
["S","rvcorem.v.html#89","rvcorem.v.html#534","","rvcorem.v.html#534","hierarchy-s.p6.html#pc___m_RVCoreM"],
["S","rvcorem.v.html#91","rvcorem.v.html#698","","rvcorem.v.html#698","hierarchy-s.p5.html#mstatus___m_RVCoreM"],
["S","rvcorem.v.html#92","rvcorem.v.html#757","","rvcorem.v.html#757","hierarchy-s.p5.html#mtvec___m_RVCoreM"],
["S","rvcorem.v.html#93","rvcorem.v.html#759","","rvcorem.v.html#759","hierarchy-s.p5.html#mscratch___m_RVCoreM"],
["S","rvcorem.v.html#94","rvcorem.v.html#702","","rvcorem.v.html#702","hierarchy-s.p5.html#mepc___m_RVCoreM"],
["S","rvcorem.v.html#95","rvcorem.v.html#701","","rvcorem.v.html#701","hierarchy-s.p5.html#mcause___m_RVCoreM"],
["S","rvcorem.v.html#96","rvcorem.v.html#703","","rvcorem.v.html#703","hierarchy-s.p5.html#mtval___m_RVCoreM"],
["S","rvcorem.v.html#97","rvcorem.v.html#97","","rvcorem.v.html#97","hierarchy-s.p5.html#mhartid___m_RVCoreM"],
["S","rvcorem.v.html#98","","","","hierarchy-s.p5.html#misa___m_RVCoreM"],
["S","rvcorem.v.html#99","rvcorem.v.html#764","","rvcorem.v.html#764","hierarchy-s.p5.html#mie___m_RVCoreM"],
["S","rvcorem.v.html#100","rvcorem.v.html#642","","rvcorem.v.html#642","hierarchy-s.p5.html#mip___m_RVCoreM"],
["S","rvcorem.v.html#101","rvcorem.v.html#768","","rvcorem.v.html#768","hierarchy-s.p5.html#medeleg___m_RVCoreM"],
["S","rvcorem.v.html#102","rvcorem.v.html#773","","rvcorem.v.html#773","hierarchy-s.p5.html#mideleg___m_RVCoreM"],
["S","rvcorem.v.html#103","rvcorem.v.html#758","","rvcorem.v.html#758","hierarchy-s.p5.html#mcounteren___m_RVCoreM"],
["S","rvcorem.v.html#104","rvcorem.v.html#745","","rvcorem.v.html#745","hierarchy-s.p7.html#stvec___m_RVCoreM"],
["S","rvcorem.v.html#105","rvcorem.v.html#752","","rvcorem.v.html#752","hierarchy-s.p7.html#sscratch___m_RVCoreM"],
["S","rvcorem.v.html#106","rvcorem.v.html#696","","rvcorem.v.html#696","hierarchy-s.p7.html#sepc___m_RVCoreM"],
["S","rvcorem.v.html#107","rvcorem.v.html#695","","rvcorem.v.html#695","hierarchy-s.p7.html#scause___m_RVCoreM"],
["S","rvcorem.v.html#108","rvcorem.v.html#697","","rvcorem.v.html#697","hierarchy-s.p7.html#stval___m_RVCoreM"],
["S","rvcorem.v.html#109","rvcorem.v.html#778","","rvcorem.v.html#778","hierarchy-s.p7.html#satp___m_RVCoreM"],
["S","rvcorem.v.html#110","rvcorem.v.html#751","","rvcorem.v.html#751","hierarchy-s.p7.html#scounteren___m_RVCoreM"],
["S","rvcorem.v.html#112","rvcorem.v.html#404","","rvcorem.v.html#404","hierarchy-s.p5.html#load_res___m_RVCoreM"],
["S","rvcorem.v.html#113","rvcorem.v.html#405","","rvcorem.v.html#405","hierarchy-s.p6.html#reserved___m_RVCoreM"],
["S","rvcorem.v.html#114","rvcorem.v.html#699","","rvcorem.v.html#699","hierarchy-s.p6.html#priv___m_RVCoreM"],
["S","rvcorem.v.html#116","rvcorem.v.html#686","","rvcorem.v.html#686","hierarchy-s.p5.html#mtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#117","rvcorem.v.html#647","","rvcorem.v.html#647","hierarchy-s.p6.html#r_was_clint_we___m_RVCoreM"],
["S","rvcorem.v.html#118","rvcorem.v.html#535","","rvcorem.v.html#535","hierarchy-s.p6.html#pending_tval___m_RVCoreM"],
["S","rvcorem.v.html#119","rvcorem.v.html#312","","rvcorem.v.html#312","hierarchy-s.p6.html#pending_exception___m_RVCoreM"],
["S","rvcorem.v.html#122","rvcorem.v.html#195","","rvcorem.v.html#195","hierarchy-s.p6.html#r_cpc___m_RVCoreM"],
["S","rvcorem.v.html#123","","","","hierarchy-s.p6.html#r_ir_org___m_RVCoreM"],
["S","rvcorem.v.html#125","rvcorem.v.html#229","","rvcorem.v.html#229","hierarchy-s.p6.html#r_cinsn___m_RVCoreM"],
["S","rvcorem.v.html#126","rvcorem.v.html#228","","rvcorem.v.html#228","hierarchy-s.p6.html#r_ir___m_RVCoreM"],
["S","rvcorem.v.html#127","rvcorem.v.html#230","","rvcorem.v.html#230","hierarchy-s.p6.html#r_ir16___m_RVCoreM"],
["S","rvcorem.v.html#128","rvcorem.v.html#543","","rvcorem.v.html#543","hierarchy-s.p6.html#r_ir16_v___m_RVCoreM"],
["S","rvcorem.v.html#130","rvcorem.v.html#247","","rvcorem.v.html#247","hierarchy-s.p6.html#r_opcode___m_RVCoreM"],
["S","rvcorem.v.html#131","rvcorem.v.html#248","","rvcorem.v.html#248","hierarchy-s.p6.html#r_rd___m_RVCoreM"],
["S","rvcorem.v.html#132","rvcorem.v.html#249","","rvcorem.v.html#249","hierarchy-s.p6.html#r_rs1___m_RVCoreM"],
["S","rvcorem.v.html#133","rvcorem.v.html#250","","rvcorem.v.html#250","hierarchy-s.p6.html#r_rs2___m_RVCoreM"],
["S","rvcorem.v.html#134","rvcorem.v.html#251","","rvcorem.v.html#251","hierarchy-s.p6.html#r_funct3___m_RVCoreM"],
["S","rvcorem.v.html#135","rvcorem.v.html#252","","rvcorem.v.html#252","hierarchy-s.p6.html#r_funct5___m_RVCoreM"],
["S","rvcorem.v.html#136","rvcorem.v.html#253","","rvcorem.v.html#253","hierarchy-s.p6.html#r_funct7___m_RVCoreM"],
["S","rvcorem.v.html#137","rvcorem.v.html#254","","rvcorem.v.html#254","hierarchy-s.p6.html#r_funct12___m_RVCoreM"],
["S","rvcorem.v.html#138","rvcorem.v.html#255","","rvcorem.v.html#255","hierarchy-s.p6.html#r_imm___m_RVCoreM"],
["S","rvcorem.v.html#139","rvcorem.v.html#261","","rvcorem.v.html#261","hierarchy-s.p6.html#r_op_AMO_SC___m_RVCoreM"],
["S","rvcorem.v.html#140","rvcorem.v.html#262","","rvcorem.v.html#262","hierarchy-s.p6.html#r_op_AMO_LR___m_RVCoreM"],
["S","rvcorem.v.html#141","rvcorem.v.html#263","","rvcorem.v.html#263","hierarchy-s.p6.html#r_op_LOAD___m_RVCoreM"],
["S","rvcorem.v.html#142","rvcorem.v.html#264","","rvcorem.v.html#264","hierarchy-s.p6.html#r_op_STORE___m_RVCoreM"],
["S","rvcorem.v.html#143","rvcorem.v.html#265","","rvcorem.v.html#265","hierarchy-s.p6.html#r_op_AMO___m_RVCoreM"],
["S","rvcorem.v.html#144","rvcorem.v.html#266","","rvcorem.v.html#266","hierarchy-s.p6.html#r_op_SYS___m_RVCoreM"],
["S","rvcorem.v.html#145","rvcorem.v.html#267","","rvcorem.v.html#267","hierarchy-s.p6.html#r_op_ECALL___m_RVCoreM"],
["S","rvcorem.v.html#146","rvcorem.v.html#268","","rvcorem.v.html#268","hierarchy-s.p6.html#r_op_SRET___m_RVCoreM"],
["S","rvcorem.v.html#147","rvcorem.v.html#269","","rvcorem.v.html#269","hierarchy-s.p6.html#r_op_MRET___m_RVCoreM"],
["S","rvcorem.v.html#148","rvcorem.v.html#270","","rvcorem.v.html#270","hierarchy-s.p6.html#r_op_CSR_MSTA___m_RVCoreM"],
["S","rvcorem.v.html#149","rvcorem.v.html#271","","rvcorem.v.html#271","hierarchy-s.p6.html#r_op_CSR_SSTA___m_RVCoreM"],
["S","rvcorem.v.html#151","rvcorem.v.html#245","","rvcorem.v.html#245","hierarchy-s.p6.html#r_rrs1___m_RVCoreM"],
["S","rvcorem.v.html#152","rvcorem.v.html#246","","rvcorem.v.html#246","hierarchy-s.p6.html#r_rrs2___m_RVCoreM"],
["S","rvcorem.v.html#153","rvcorem.v.html#292","","rvcorem.v.html#292","hierarchy-s.p6.html#r_rcsr___m_RVCoreM"],
["S","rvcorem.v.html#154","rvcorem.v.html#293","","rvcorem.v.html#293","hierarchy-s.p6.html#r_alu_in2___m_RVCoreM"],
["S","rvcorem.v.html#155","rvcorem.v.html#294","","rvcorem.v.html#294","hierarchy-s.p6.html#r_alu_f7___m_RVCoreM"],
["S","rvcorem.v.html#157","rvcorem.v.html#316","","rvcorem.v.html#316","hierarchy-s.p6.html#r_tkn___m_RVCoreM"],
["S","rvcorem.v.html#158","rvcorem.v.html#334","","rvcorem.v.html#334","hierarchy-s.p6.html#r_jmp_pc___m_RVCoreM"],
["S","rvcorem.v.html#159","rvcorem.v.html#288","","rvcorem.v.html#288","hierarchy-s.p6.html#r_mem_addr___m_RVCoreM"],
["S","rvcorem.v.html#160","rvcorem.v.html#325","","rvcorem.v.html#325","hierarchy-s.p6.html#r_wb_data___m_RVCoreM"],
["S","rvcorem.v.html#161","rvcorem.v.html#355","","rvcorem.v.html#355","hierarchy-s.p6.html#r_wb_data_csr___m_RVCoreM"],
["S","rvcorem.v.html#163","rvcorem.v.html#417","","rvcorem.v.html#417","hierarchy-s.p6.html#r_mem_rdata___m_RVCoreM"],
["S","rvcorem.v.html#164","rvcorem.v.html#418","","rvcorem.v.html#418","hierarchy-s.p6.html#r_atom_wdata___m_RVCoreM"],
["S","rvcorem.v.html#167","rvcorem.v.html#556","","rvcorem.v.html#556","hierarchy-s.p4.html#e_icount___m_RVCoreM"],
["S","rvcorem.v.html#168","","","","hierarchy-s.p6.html#r_if_done___m_RVCoreM"],
["S","rvcorem.v.html#169","rvcorem.v.html#194","","rvcorem.v.html#194","hierarchy-s.p6.html#r_if_irl___m_RVCoreM"],
["S","rvcorem.v.html#170","rvcorem.v.html#573","","rvcorem.v.html#573","hierarchy-s.p6.html#r_rcsr_t___m_RVCoreM"],
["S","rvcorem.v.html#171","rvcorem.v.html#489","","rvcorem.v.html#489","hierarchy-s.p4.html#irq_num___m_RVCoreM"],
["S","rvcorem.v.html#172","rvcorem.v.html#203","","rvcorem.v.html#203","hierarchy-s.p6.html#r_if_state___m_RVCoreM"],
["S","rvcorem.v.html#175","rvcorem.v.html#431","","rvcorem.v.html#431","hierarchy-s.p8.html#w_wb_r_data___m_RVCoreM"],
["S","rvcorem.v.html#176","rvcorem.v.html#435","","rvcorem.v.html#435","hierarchy-s.p8.html#w_wb_r_enable___m_RVCoreM"],
["S","rvcorem.v.html#177","rvcorem.v.html#483","","rvcorem.v.html#483","hierarchy-s.p8.html#w_interrupt_mask___m_RVCoreM"],
["S","rvcorem.v.html#178","rvcorem.v.html#484","","rvcorem.v.html#484","hierarchy-s.p8.html#w_irq_t___m_RVCoreM"],
["S","rvcorem.v.html#179","rvcorem.v.html#844","","rvcorem.v.html#844","hierarchy-s.p8.html#w_state___m_RVCoreM"],
["S","rvcorem.v.html#182","rvcorem.v.html#183","","rvcorem.v.html#183","hierarchy-s.p6.html#r_init_stage___m_RVCoreM"],
["S","rvcorem.v.html#188","rvcorem.v.html#188","","rvcorem.v.html#188","hierarchy-s.p8.html#w_vadr1___m_RVCoreM"],
["S","rvcorem.v.html#189","rvcorem.v.html#189","","rvcorem.v.html#189","hierarchy-s.p8.html#w_vadr2___m_RVCoreM"],
["S","rvcorem.v.html#190","rvcorem.v.html#190","","rvcorem.v.html#190","hierarchy-s.p8.html#w_nalign4___m_RVCoreM"],
["S","rvcorem.v.html#191","rvcorem.v.html#191","","rvcorem.v.html#191","hierarchy-s.p8.html#w_usestate___m_RVCoreM"],
["S","rvcorem.v.html#198","rvcorem.v.html#198","","rvcorem.v.html#198","hierarchy-s.p8.html#w_if_state___m_RVCoreM"],
["S","rvcorem.v.html#205","rvcorem.v.html#207","","rvcorem.v.html#207","hierarchy-s.p6.html#r_insn_addr___m_RVCoreM"],
["S","rvcorem.v.html#213","rvcorem.v.html#213","","rvcorem.v.html#213","hierarchy-s.p8.html#w_ir_org___m_RVCoreM"],
["S","rvcorem.v.html#218","rvcorem.v.html#218","","rvcorem.v.html#218","hierarchy-s.p8.html#w_cinsn___m_RVCoreM"],
["S","rvcorem.v.html#220","rvcorem.v.html#221","","rvcorem.v.p2.html#1272","hierarchy-s.p8.html#w_ir_t___m_RVCoreM"],
["S","rvcorem.v.html#223","rvcorem.v.html#223","","rvcorem.v.html#223","hierarchy-s.p8.html#w_nop___m_RVCoreM"],
["S","rvcorem.v.html#226","rvcorem.v.html#226","","rvcorem.v.html#226","hierarchy-s.p8.html#w_ir___m_RVCoreM"],
["S","rvcorem.v.html#234","rvcorem.v.html#235","","rvcorem.v.p2.html#1182","hierarchy-s.p8.html#w_imm___m_RVCoreM"],
["S","rvcorem.v.html#237","rvcorem.v.html#237","","rvcorem.v.html#237","hierarchy-s.p8.html#w_rs1___m_RVCoreM"],
["S","rvcorem.v.html#238","rvcorem.v.html#238","","rvcorem.v.html#238","hierarchy-s.p8.html#w_rs2___m_RVCoreM"],
["S","rvcorem.v.html#240","rvcorem.v.html#242","","rvcorem.v.html#31","hierarchy-s.p8.html#w_rrs1___m_RVCoreM"],
["S","rvcorem.v.html#240","rvcorem.v.html#242","","rvcorem.v.html#32","hierarchy-s.p8.html#w_rrs2___m_RVCoreM"],
["S","rvcorem.v.html#241","rvcorem.v.html#241","","rvcorem.v.html#241","hierarchy-s.p8.html#w_regfile_we___m_RVCoreM"],
["S","rvcorem.v.html#258","rvcorem.v.html#258","","rvcorem.v.html#258","hierarchy-s.p8.html#w_op_priv___m_RVCoreM"],
["S","rvcorem.v.html#259","rvcorem.v.html#259","","rvcorem.v.html#259","hierarchy-s.p8.html#w_op_csr___m_RVCoreM"],
["S","rvcorem.v.html#275","rvcorem.v.html#275","","rvcorem.v.html#275","hierarchy-s.p8.html#w_sin1___m_RVCoreM"],
["S","rvcorem.v.html#276","rvcorem.v.html#276","","rvcorem.v.html#276","hierarchy-s.p8.html#w_sin2___m_RVCoreM"],
["S","rvcorem.v.html#278","rvcorem.v.html#278","","rvcorem.v.html#278","hierarchy-s.p8.html#w_mul_SS___m_RVCoreM"],
["S","rvcorem.v.html#279","rvcorem.v.html#279","","rvcorem.v.html#279","hierarchy-s.p8.html#w_mul_SU___m_RVCoreM"],
["S","rvcorem.v.html#280","rvcorem.v.html#280","","rvcorem.v.html#280","hierarchy-s.p8.html#w_mul_UU___m_RVCoreM"],
["S","rvcorem.v.html#282","rvcorem.v.html#282","","rvcorem.v.html#282","hierarchy-s.p8.html#w_mem_addr___m_RVCoreM"],
["S","rvcorem.v.html#284","rvcorem.v.html#289","","rvcorem.v.html#289","hierarchy-s.p6.html#r_mul_SS___m_RVCoreM"],
["S","rvcorem.v.html#285","rvcorem.v.html#290","","rvcorem.v.html#290","hierarchy-s.p6.html#r_mul_SU___m_RVCoreM"],
["S","rvcorem.v.html#286","rvcorem.v.html#291","","rvcorem.v.html#291","hierarchy-s.p6.html#r_mul_UU___m_RVCoreM"],
["S","rvcorem.v.html#299","rvcorem.v.html#305","","rvcorem.v.p2.html#1051","hierarchy-s.p8.html#w_alu_im_rslt___m_RVCoreM"],
["S","rvcorem.v.html#300","rvcorem.v.html#307","","rvcorem.v.p2.html#1107","hierarchy-s.p8.html#w_alu_b_rslt___m_RVCoreM"],
["S","rvcorem.v.html#301","rvcorem.v.html#308","","rvcorem.v.p2.html#1155","hierarchy-s.p8.html#w_alu_c_rslt___m_RVCoreM"],
["S","rvcorem.v.html#302","rvcorem.v.html#302","","rvcorem.v.html#302","hierarchy-s.p8.html#w_ex1___m_RVCoreM"],
["S","rvcorem.v.html#303","rvcorem.v.html#306","","rvcorem.v.p2.html#1011","hierarchy-s.p8.html#w_ex1_busy___m_RVCoreM"],
["S","rvcorem.v.html#394","rvcorem.v.html#395","","rvcorem.v.html#395","hierarchy-s.p6.html#r_data_ctrl___m_RVCoreM"],
["S","rvcorem.v.html#400","rvcorem.v.html#400","","rvcorem.v.html#400","hierarchy-s.p8.html#w_mem_rdata___m_RVCoreM"],
["S","rvcorem.v.html#413","rvcorem.v.html#414","","rvcorem.v.p2.html#1130","hierarchy-s.p8.html#w_alu_a_rslt___m_RVCoreM"],
["S","rvcorem.v.html#422","rvcorem.v.html#424","","rvcorem.v.html#424","hierarchy-s.p6.html#r_data_wdata___m_RVCoreM"],
["S","rvcorem.v.html#445","rvcorem.v.html#449","","rvcorem.v.html#449","hierarchy-s.p6.html#r_mstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#446","rvcorem.v.html#455","","rvcorem.v.html#455","hierarchy-s.p6.html#r_priv_t___m_RVCoreM"],
["S","rvcorem.v.html#477","rvcorem.v.html#808","","rvcorem.v.html#808","hierarchy-s.p8.html#w_mstatus_nxt___m_RVCoreM"],
["S","rvcorem.v.html#479","rvcorem.v.html#479","","rvcorem.v.html#479","hierarchy-s.p6.html#pending_interrupts___m_RVCoreM"],
["S","rvcorem.v.html#480","rvcorem.v.html#480","","rvcorem.v.html#480","hierarchy-s.p4.html#enable_interrupts___m_RVCoreM"],
["S","rvcorem.v.html#526","rvcorem.v.html#526","","rvcorem.v.html#526","hierarchy-s.p2.html#cause___m_RVCoreM"],
["S","rvcorem.v.html#527","rvcorem.v.html#527","","rvcorem.v.html#527","hierarchy-s.p8.html#w_deleg___m_RVCoreM"],
["S","rvcorem.v.html#531","rvcorem.v.html#531","","rvcorem.v.html#531","hierarchy-s.p8.html#w_executing_wfi___m_RVCoreM"],
["S","rvcorem.v.html#562","rvcorem.v.html#562","","rvcorem.v.html#562","hierarchy-s.p8.html#w_csr_addr___m_RVCoreM"],
["S","rvcorem.v.html#568","rvcorem.v.html#568","","rvcorem.v.html#568","hierarchy-s.p8.html#w_sstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#569","rvcorem.v.html#569","","rvcorem.v.html#569","hierarchy-s.p8.html#w_mstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#620","rvcorem.v.html#620","","rvcorem.v.html#620","hierarchy-s.p8.html#w_csr_we___m_RVCoreM"],
["S","rvcorem.v.html#621","rvcorem.v.html#621","","rvcorem.v.html#621","hierarchy-s.p8.html#w_sstatus___m_RVCoreM"],
["S","rvcorem.v.html#623","rvcorem.v.html#623","","rvcorem.v.html#623","hierarchy-s.p8.html#w_sstatus_t1___m_RVCoreM"],
["S","rvcorem.v.html#624","rvcorem.v.html#624","","rvcorem.v.html#624","hierarchy-s.p8.html#w_sstatus_t2___m_RVCoreM"],
["S","rvcorem.v.html#625","rvcorem.v.html#625","","rvcorem.v.html#625","hierarchy-s.p8.html#w_sstatus_t3___m_RVCoreM"],
["S","rvcorem.v.html#626","rvcorem.v.html#626","","rvcorem.v.html#626","hierarchy-s.p8.html#w_mstatus_t1___m_RVCoreM"],
["S","rvcorem.v.html#627","rvcorem.v.html#627","","rvcorem.v.html#627","hierarchy-s.p8.html#w_mstatus_t2___m_RVCoreM"],
["S","rvcorem.v.html#628","rvcorem.v.html#628","","rvcorem.v.html#628","hierarchy-s.p8.html#w_mstatus_t3___m_RVCoreM"],
["S","rvcorem.v.html#635","rvcorem.v.html#654","","rvcorem.v.html#654","hierarchy-s.p6.html#r_ipi_max_displays___m_RVCoreM"],
["S","rvcorem.v.html#636","rvcorem.v.html#665","","rvcorem.v.html#665","hierarchy-s.p6.html#r_ipi_taken___m_RVCoreM"],
["S","rvcorem.v.html#813","rvcorem.v.html#821","","rvcorem.v.html#821","hierarchy-s.p6.html#r_tlb_flush___m_RVCoreM"],
["S","rvcorem.v.html#814","rvcorem.v.html#814","","rvcorem.v.html#814","hierarchy-s.p8.html#w_data_t___m_RVCoreM"],
["S","rvcorem.v.html#815","rvcorem.v.html#815","","rvcorem.v.html#815","hierarchy-s.p8.html#w_mod___m_RVCoreM"],
["S","rvcorem.v.html#841","rvcorem.v.html#841","","rvcorem.v.html#841","hierarchy-s.p8.html#w_com___m_RVCoreM"],
["S","rvcorem.v.html#855","rvcorem.v.html#856","","rvcorem.v.html#856","hierarchy-s.p6.html#r_com___m_RVCoreM"],
["S","rvcorem.v.html#859","rvcorem.v.html#859","","rvcorem.v.html#859","hierarchy-s.p8.html#w_d_we_t___m_RVCoreM"],
["S","rvcorem.v.html#862","rvcorem.v.html#862","","rvcorem.v.html#862","hierarchy-s.p8.html#w_d_en_t___m_RVCoreM"],
["S","rvcorem.v.html#865","rvcorem.v.html#869","","rvcorem.v.html#869","hierarchy-s.p6.html#r_data_we___m_RVCoreM"],
["S","rvcorem.v.html#866","rvcorem.v.html#870","","rvcorem.v.html#870","hierarchy-s.p6.html#r_data_en___m_RVCoreM"],
["S","rvcorem.v.html#867","rvcorem.v.html#871","","rvcorem.v.html#871","hierarchy-s.p6.html#r_tlb_req___m_RVCoreM"],
["S","rvcorem.v.html#900","","rvcorem.v.p2.html#1009","","hierarchy-s.p2.html#CLK___m_div_unit"],
["S","rvcorem.v.html#900","","rvcorem.v.p2.html#1009","main.v.html#268","hierarchy-s.p6.html#RST_X___m_div_unit"],
["S","rvcorem.v.html#901","","rvcorem.v.p2.html#1009","rvcorem.v.p2.html#1006","hierarchy-s.p8.html#w_init___m_div_unit"],
["S","rvcorem.v.html#901","","rvcorem.v.p2.html#1010","rvcorem.v.p2.html#1007","hierarchy-s.p8.html#w_signed___m_div_unit"],
["S","rvcorem.v.html#902","","rvcorem.v.p2.html#1010","rvcorem.v.html#245","hierarchy-s.p8.html#w_dividend___m_div_unit"],
["S","rvcorem.v.html#902","","rvcorem.v.p2.html#1010","rvcorem.v.html#293","hierarchy-s.p8.html#w_divisor___m_div_unit"],
["S","rvcorem.v.html#903","rvcorem.v.html#916","","rvcorem.v.html#916","hierarchy-s.p8.html#w_rslt___m_div_unit"],
["S","rvcorem.v.html#904","rvcorem.v.html#912","","rvcorem.v.html#953","hierarchy-s.p8.html#w_busy___m_div_unit"],
["S","rvcorem.v.html#906","rvcorem.v.html#931","","rvcorem.v.html#931","hierarchy-s.p8.html#w_sign_dividend___m_div_unit"],
["S","rvcorem.v.html#906","rvcorem.v.html#932","","rvcorem.v.html#932","hierarchy-s.p8.html#w_sign_divisor___m_div_unit"],
["S","rvcorem.v.html#908","rvcorem.v.html#914","","rvcorem.v.html#914","hierarchy-s.p8.html#w_uint_dividend___m_div_unit"],
["S","rvcorem.v.html#908","rvcorem.v.html#915","","rvcorem.v.html#915","hierarchy-s.p8.html#w_uint_divisor___m_div_unit"],
["S","rvcorem.v.html#909","rvcorem.v.html#912","","rvcorem.v.html#959","hierarchy-s.p8.html#w_uint_rslt___m_div_unit"],
["S","rvcorem.v.html#942","","rvcorem.v.html#911","","hierarchy-s.p2.html#CLK___m_div_unit_core"],
["S","rvcorem.v.html#942","","rvcorem.v.html#911","main.v.html#268","hierarchy-s.p6.html#RST_X___m_div_unit_core"],
["S","rvcorem.v.html#943","","rvcorem.v.html#911","rvcorem.v.p2.html#1006","hierarchy-s.p8.html#w_init___m_div_unit_core"],
["S","rvcorem.v.html#944","","rvcorem.v.html#911","rvcorem.v.html#914","hierarchy-s.p8.html#w_dividend___m_div_unit_core"],
["S","rvcorem.v.html#944","","rvcorem.v.html#912","rvcorem.v.html#915","hierarchy-s.p8.html#w_divisor___m_div_unit_core"],
["S","rvcorem.v.html#945","rvcorem.v.html#959","","rvcorem.v.html#959","hierarchy-s.p6.html#r_rslt___m_div_unit_core"],
["S","rvcorem.v.html#946","rvcorem.v.html#953","","rvcorem.v.html#953","hierarchy-s.p8.html#w_busy___m_div_unit_core"],
["S","rvcorem.v.html#948","rvcorem.v.html#958","","rvcorem.v.html#958","hierarchy-s.p6.html#r_divisor___m_div_unit_core"],
["S","rvcorem.v.html#949","rvcorem.v.html#960","","rvcorem.v.html#960","hierarchy-s.p6.html#r_count___m_div_unit_core"],
["S","rvcorem.v.html#951","rvcorem.v.html#954","","rvcorem.v.html#954","hierarchy-s.p8.html#w_differ___m_div_unit_core"],
["S","rvcorem.v.html#978","","rvcorem.v.html#305","","hierarchy-s.p2.html#CLK___m_alu_im"],
["S","rvcorem.v.html#978","","rvcorem.v.html#305","main.v.html#268","hierarchy-s.p6.html#RST_X___m_alu_im"],
["S","rvcorem.v.html#979","","rvcorem.v.html#305","rvcorem.v.html#302","hierarchy-s.p8.html#w_le___m_alu_im"],
["S","rvcorem.v.html#980","","rvcorem.v.html#305","rvcorem.v.html#245","hierarchy-s.p8.html#w_in1___m_alu_im"],
["S","rvcorem.v.html#980","","rvcorem.v.html#305","rvcorem.v.html#293","hierarchy-s.p8.html#w_in2___m_alu_im"],
["S","rvcorem.v.html#981","","rvcorem.v.html#305","rvcorem.v.html#251","hierarchy-s.p8.html#w_funct3___m_alu_im"],
["S","rvcorem.v.html#982","","rvcorem.v.html#305","rvcorem.v.html#294","hierarchy-s.p8.html#w_funct7___m_alu_im"],
["S","rvcorem.v.html#983","rvcorem.v.p2.html#1051","","rvcorem.v.p2.html#1051","hierarchy-s.p6.html#r_rslt___m_alu_im"],
["S","rvcorem.v.html#984","rvcorem.v.p2.html#1011","","rvcorem.v.p2.html#1011","hierarchy-s.p8.html#w_busy___m_alu_im"],
["S","rvcorem.v.html#985","","rvcorem.v.html#306","rvcorem.v.html#289","hierarchy-s.p8.html#w_mul_SS___m_alu_im"],
["S","rvcorem.v.html#986","","rvcorem.v.html#306","rvcorem.v.html#290","hierarchy-s.p8.html#w_mul_SU___m_alu_im"],
["S","rvcorem.v.html#987","","rvcorem.v.html#306","rvcorem.v.html#291","hierarchy-s.p8.html#w_mul_UU___m_alu_im"],
["S","rvcorem.v.html#989","rvcorem.v.p2.html#1021","","rvcorem.v.p2.html#1021","hierarchy-s.p6.html#r_div_first___m_alu_im"],
["S","rvcorem.v.html#991","rvcorem.v.html#991","","rvcorem.v.html#991","hierarchy-s.p8.html#w_sin1___m_alu_im"],
["S","rvcorem.v.html#992","rvcorem.v.html#992","","rvcorem.v.html#992","hierarchy-s.p8.html#w_sin2___m_alu_im"],
["S","rvcorem.v.html#994","rvcorem.v.html#994","","rvcorem.v.html#994","hierarchy-s.p8.html#w_shamt___m_alu_im"],
["S","rvcorem.v.html#1000","rvcorem.v.p2.html#1010","","rvcorem.v.html#953","hierarchy-s.p8.html#w_divunit_busy___m_alu_im"]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Fri Jun 16 14:01:27 2023</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
./rvcorem.v</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
