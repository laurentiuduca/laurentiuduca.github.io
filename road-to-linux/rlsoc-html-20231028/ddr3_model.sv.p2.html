<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>../rlsoc-tn/rvsoc_src_ver053/src/ddr3_model.sv page 2</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return "ddr3_model.sv.html"; }
function last_page() { return "ddr3_model.sv.p3.html"; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<center><table class=NB cols=4 ><tr><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.html#bottom_of_page';"><a target="_top" href="ddr3_model.sv.html#bottom_of_page">Prev</a></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.html';"><a target="_top" href="ddr3_model.sv.html">1</a></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">2</font></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.p3.html';"><a target="_top" href="ddr3_model.sv.p3.html">3</a></td></tr></table></center>
<pre>
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#218">LOAD_MODE</a>} ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#219">REFRESH</a>  } ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#220">PRECHARGE</a>} ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#221">ACTIVATE</a> } ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#222">WRITE</a>    } ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#224">ZQ</a>       } : <span class=K>begin</span> <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#307">tm_self_refresh</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2202">TXS</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#288">ck_self_refresh</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2203">TXS_TCK</a>))                                     <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:   tXS violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.html#909">cmd</a>]);                         <span class=K>end</span>
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#223">READ</a>     } : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#288">ck_self_refresh</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2204">TXSDLL</a>)                                                                           <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tXSDLL violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.html#909">cmd</a>]);                       <span class=K>end</span>
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#227">PWR_DOWN</a> } ,
            {1'bx, DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> , <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a> } : <span class=K>begin</span> <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#307">tm_self_refresh</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2202">TXS</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#288">ck_self_refresh</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2203">TXS_TCK</a>))                                     <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:   tXS violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.html#909">cmd</a>]);
                                                             <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#309">tm_cke_cmd</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1842">TCKE</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#293">ck_cke_cmd</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2153">TCKE_TCK</a>))                                             <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tCKE violation on CKE&quot;</span>, <span class=ST>$time</span>);                                             <span class=K>end</span>
        <span class=K>endcase</span>
    <span class=K>end</span>
    <span class=K>endtask</span>

<a name="ddr3_model_cmd_task"></a>    <span class=K>task</span> <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.p2.html#ddr3_model_cmd_task">cmd_task</a>;
<a name="1016"></a>        <span class=K>inout</span> <a  onClick="return qs(event,this,0)"  class=SIO href="ddr3_model.sv.p2.html#1714">prev_cke</a>;
<a name="1017"></a>        <span class=K>input</span> <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1017">cke</a>;
<a name="1018"></a>        <span class=K>input</span> [2:0] <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>;
<a name="1019"></a>        <span class=K>input</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2249">BA_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>;
<a name="1020"></a>        <span class=K>input</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2241">ADDR_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>;
<a name="1021"></a>        <span class=K>reg</span> [<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#132">BANKS</a>:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>;
<a name="1022"></a>        <span class=K>integer</span> <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>;
<a name="1023"></a>        <span class=K>reg</span> [<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#132">BANKS</a>:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1399">tfaw_cntr</a>;
<a name="1024"></a>        <span class=K>reg</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a>;
<a name="1025"></a>        <span class=K>reg</span> <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1025">group</a>;
        <span class=K>begin</span>
            <span class=C>// tRFC max check
</span>            <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#258">er_trfc_max</a> &amp;&amp; !<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a>) <span class=K>begin</span>
                <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#301">tm_refresh</a> &gt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2189">TRFC_MAX</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#124">check_strict_timing</a>) <span class=K>begin</span>
                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tRFC maximum violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
<a name="1031"></a>                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#258">er_trfc_max</a> = 1;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1017">cke</a>) <span class=K>begin</span>
                <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#225">NOP</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a> != <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#220">PRECHARGE</a>)) <span class=K>begin</span>
                    <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#299">tm_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2199">TXPR</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#276">ck_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2200">TXPR_TCK</a>))
                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tXPR violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                    <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>&lt;=<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>+1) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(SAME_BANK , <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>);
                        <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_BANK , <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>);
                        <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_GROUP, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>);
                    <span class=K>end</span>
                <span class=K>end</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>)
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#218">LOAD_MODE</a> : <span class=K>begin</span>
                        <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#322">odt_pipeline</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: ODTL violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#259">odt_state</a> &amp;&amp; !<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#127">feature_odt_hi</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: ODT must be off prior to %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);

                        <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>&gt;&gt;2) <span class=K>begin</span>
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved bank bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>end</span>
                            <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>)
                                0 : <span class=K>begin</span>
                                    <span class=C>// Burst Length
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0] == 2'b00) <span class=K>begin</span>
<a name="1063"></a>                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> = 8;
<a name="1064"></a>                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a> = 0;
<a name="1065"></a>                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#189">truebl4</a> = 0;
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Burst Length = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0] == 2'b01) <span class=K>begin</span>
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> = 8;
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a> = 1;
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Burst Length = Select via A12&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0] == 2'b10) <span class=K>begin</span>
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> = 4;
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a> = 0;
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Burst Length = Fixed %d (chop)&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Burst Length = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0]);
                                    <span class=K>end</span>
                                    <span class=C>// Burst Order
</span><a name="1079"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#186">burst_order</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[3];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#186">burst_order</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Burst Order = Sequential&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#186">burst_order</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Burst Order = Interleaved&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Burst Order = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#186">burst_order</a>);
                                    <span class=K>end</span>
                                    <span class=C>// CAS Latency
</span><a name="1088"></a>                                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#190">cas_latency</a> = {<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[2],<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[6:4]} + 4;
                                    <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_set_latency">set_latency</a>;
                                    <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#190">cas_latency</a> &gt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2134">CL_MIN</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1088">cas_latency</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2135">CL_MAX</a>)) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d CAS Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#233">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1088">cas_latency</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal CAS Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#190">cas_latency</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[7] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                    <span class=C>// DLL Reset
</span>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#191">dll_reset</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[8];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#191">dll_reset</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d DLL Reset = Normal&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#191">dll_reset</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d DLL Reset = Reset DLL&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#192">dll_locked</a> = 0;
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#254">init_dll_reset</a> = 1;
<a name="1107"></a>                                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#292">ck_dll_reset</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal DLL Reset = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#191">dll_reset</a>);
                                    <span class=K>end</span>

								   <span class=C>// Write Recovery
</span>								   <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11:9] == 0) <span class=K>begin</span>
<a name="1114"></a>									  <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#193">write_recovery</a>  = 16;
								   <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11:9] &lt; 4) <span class=K>begin</span>
									  <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#193">write_recovery</a>  = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11:9] + 4;
								   <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
									  <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#193">write_recovery</a>  = 2*<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11:9];
								   <span class=K>end</span>

                                    <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#193">write_recovery</a> &gt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2138">WR_MIN</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1114">write_recovery</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2139">WR_MAX</a>)) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Write Recovery = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#233">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1114">write_recovery</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Write Recovery = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#193">write_recovery</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Power Down Mode
</span><a name="1127"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a> = !<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[12];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Power Down Mode = DLL on&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Power Down Mode = DLL off&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Power Down Mode = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2241">ADDR_BITS</a>&gt;13 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[13] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                <span class=K>end</span>
                                1 : <span class=K>begin</span>
                                    <span class=C>// DLL Enable
</span>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a> = !<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[0];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d DLL Enable = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: %s %d DLL off mode is not fully modeled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d DLL Enable = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal DLL Enable = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Output Drive Strength
</span>                                    <span class=K>if</span> ({<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[5], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1]} == 2'b00) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2269">RZQ</a>/6);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ({<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[5], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1]} == 2'b01) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2269">RZQ</a>/7);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ({<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[5], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1]} == 2'b11) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Output Drive Strength = %d Ohm&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2269">RZQ</a>/5);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Output Drive Strength = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, {<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[5], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1]});
                                    <span class=K>end</span>
                                    <span class=C>// ODT Rtt (Rtt_NOM)
</span><a name="1162"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a> = {<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[9], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[6], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[2]};
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a> == 3'b000) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d ODT Rtt = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#198">odt_en</a> = 0;
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a> &lt; 4) || ((!<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[7] || (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[7] &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[12])) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a> &lt; 6))) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d ODT Rtt = %d Ohm&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=F href="ddr3_model.sv.html#ddr3_model_get_rtt_nom">get_rtt_nom</a>(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a>));
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#198">odt_en</a> = 1;
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal ODT Rtt = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#196">odt_rtt_nom</a>);
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#198">odt_en</a> = 0;
                                    <span class=K>end</span>
                                    <span class=C>// Report the additive latency value
</span><a name="1174"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#200">al</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[4:3];
                                    <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_set_latency">set_latency</a>;
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#200">al</a> == 0) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Additive Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#200">al</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#200">al</a> &gt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2136">AL_MIN</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1174">al</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2137">AL_MAX</a>)) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Additive Latency = CL - %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#233">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1174">al</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Additive Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#200">al</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Write Levelization
</span><a name="1184"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[7];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Write Levelization = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Write Levelization = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Write Levelization = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[8] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[10] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                    <span class=C>// TDQS Enable
</span><a name="1201"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#204">tdqs_en</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#204">tdqs_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d TDQS Enable = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#204">tdqs_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (8 == <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>) <span class=K>begin</span>
										    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d TDQS Enable = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <span class=K>end</span>
									    <span class=K>else</span> <span class=K>begin</span>
                                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: %s %d Illegal TDQS Enable.  TDQS only exists on a x8 part&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#204">tdqs_en</a> = 0;
										<span class=K>end</span>   
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal TDQS Enable = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#204">tdqs_en</a>);
                                    <span class=K>end</span> 
                                    <span class=C>// Output Enable
</span>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#205">out_en</a> = !<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[12];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#205">out_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Qoff = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#205">out_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Qoff = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Qoff = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#205">out_en</a>);
                                    <span class=K>end</span> 
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2241">ADDR_BITS</a>&gt;13 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[13] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                <span class=K>end</span>
                                2 : <span class=K>begin</span>
								    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#125">feature_pasr</a>) <span class=K>begin</span>
                                        <span class=C>// Partial Array Self Refresh
</span><a name="1232"></a>                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#206">pasr</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[2:0];
                                        <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#206">pasr</a>)
                                            3'b000 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-7&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b001 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-3&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b010 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0-1&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b011 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 0&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b100 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 2-7&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b101 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 4-7&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b110 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 6-7&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            3'b111 : <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Partial Array Self Refresh = Bank 7&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                            <span class=K>default</span> : <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Partial Array Self Refresh = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#206">pasr</a>);
                                        <span class=K>endcase</span> 
									<span class=K>end</span> 
								    <span class=K>else</span>
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[2:0] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                    <span class=C>// CAS Write Latency
</span><a name="1250"></a>                                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#207">cas_write_latency</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[5:3]+5;
                                    <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_set_latency">set_latency</a>;
                                    <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#207">cas_write_latency</a> &gt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2142">CWL_MIN</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1250">cas_write_latency</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2143">CWL_MAX</a>)) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d CAS Write Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#233">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1250">cas_write_latency</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal CAS Write Latency = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#207">cas_write_latency</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Auto Self Refresh Method
</span><a name="1258"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#208">asr</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[6];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#208">asr</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Auto Self Refresh = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#208">asr</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Auto Self Refresh = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: %s %d Auto Self Refresh is not modeled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Auto Self Refresh = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#208">asr</a>);
                                    <span class=K>end</span> 
                                    <span class=C>// Self Refresh Temperature
</span><a name="1268"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#209">srt</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[7];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#209">srt</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Self Refresh Temperature = Normal&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#209">srt</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Self Refresh Temperature = Extended&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: %s %d Self Refresh Temperature is not modeled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Self Refresh Temperature = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#209">srt</a>);
                                    <span class=K>end</span> 
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#208">asr</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#209">srt</a>)
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d SRT must be set to 0 when ASR is enabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[8] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                    <span class=C>// Dynamic ODT (Rtt_WR)
</span><a name="1284"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[10:9];
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a> == 2'b00) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Dynamic ODT = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#199">dyn_odt_en</a> = 0;
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a> &gt; 0) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a> &lt; 3)) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d Dynamic ODT Rtt = %d Ohm&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=F href="ddr3_model.sv.html#ddr3_model_get_rtt_wr">get_rtt_wr</a>(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a>));
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#199">dyn_odt_en</a> = 1;
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal Dynamic ODT = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#197">odt_rtt_wr</a>);
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#199">dyn_odt_en</a> = 0;
                                    <span class=K>end</span>
                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2241">ADDR_BITS</a>&gt;13 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[13:11] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                <span class=K>end</span>
                                3 : <span class=K>begin</span>
<a name="1301"></a>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0];
                                    <span class=C>// MultiPurpose Register Select
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a> == 2'b00) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d MultiPurpose Register Select = Pre-defined pattern&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal MultiPurpose Register Select = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a>);
                                    <span class=K>end</span>
                                    <span class=C>// MultiPurpose Register Enable
</span>                                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[2];
                                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d MultiPurpose Register Enable = Disabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s %d MultiPurpose Register Enable = Enabled&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal MultiPurpose Register Enable = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>);
                                    <span class=K>end</span> 

                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#126">feature_truebl4</a> &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11] == 1'b1)) <span class=K>begin</span>
                                     <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[11] == 1'b1) <span class=K>begin</span>
                                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#189">truebl4</a> = 1;
                                        <span class=ST>$display</span>(<span class=S>&quot; EMRS3 Set True Bl4 mode only &quot;</span>);
                                     <span class=K>end</span>
                                    <span class=K>end</span>

                                    <span class=C>// Reserved
</span>                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2241">ADDR_BITS</a>&gt;13 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[13:3] !== 0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#123">check_strict_mrbits</a>) <span class=K>begin</span>
                                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s %d Illegal value.  Reserved address bits must be programmed to zero&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                    <span class=K>end</span>
                                <span class=K>end</span>
                            <span class=K>endcase</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#199">dyn_odt_en</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a>)
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Dynamic ODT is not available during Write Leveling mode.&quot;</span>, <span class=ST>$time</span>);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#253">init_mode_reg</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1;
<a name="1334"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#185">mode_reg</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>;
			    <span class=C>// dll_reset bit self clear
</span>			    <span class=K>if</span>(<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>==0 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[8]==1'b1)
			      <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#185">mode_reg</a>[0][8] &lt;= #(<span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>)) 1'b0;
<a name="1338"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#300">tm_load_mode</a> &lt;= <span class=ST>$time</span>;
<a name="1339"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#277">ck_load_mode</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#219">REFRESH</a> : <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#258">er_trfc_max</a> = 0;
<a name="1352"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#273">ref_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1352">ref_cntr</a> + 1;
<a name="1353"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#301">tm_refresh</a> &lt;= <span class=ST>$time</span>;
<a name="1354"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#278">ck_refresh</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#220">PRECHARGE</a> : <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]) <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s All&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                        <span class=K>end</span>
                        <span class=C>// PRECHARGE command will be treated as a NOP if there is no open row in that bank (idle state), 
</span>                        <span class=C>// or if the previously open row is already in the process of precharging
</span>                        <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                            <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#299">tm_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2199">TXPR</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#276">ck_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2200">TXPR_TCK</a>))
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tXPR violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>&lt;<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#132">BANKS</a>; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>=<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>+1) <span class=K>begin</span>
                                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#870">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>]) <span class=K>begin</span>
                                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>] || (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a> == <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>)) <span class=K>begin</span>

                                            <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>&lt;=<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>+1) <span class=K>begin</span>
                                                <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(SAME_BANK, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>);
                                                <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_BANK, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>);
                                            <span class=K>end</span>

                                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#247">auto_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>]) <span class=K>begin</span>
                                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>);
                                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>);
                                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>] = 1'b0;
<a name="1385"></a>                                                <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#311">tm_bank_precharge</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>] &lt;= <span class=ST>$time</span>;
<a name="1386"></a>                                                <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#302">tm_precharge</a> &lt;= <span class=ST>$time</span>;
<a name="1387"></a>                                                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#279">ck_precharge</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                                            <span class=K>end</span>
                                        <span class=K>end</span>
                                    <span class=K>end</span>
                                <span class=K>end</span>
                            <span class=K>end</span>
                        <span class=K>end</span> <span class=C>// if (|active_bank)
</span>                        <span class=K>else</span> <span class=K>begin</span>
                            <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_BANK, 0, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#219">REFRESH</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#220">PRECHARGE</a>);
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#221">ACTIVATE</a> : <span class=K>begin</span>
<a name="1399"></a>                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1023">tfaw_cntr</a> = 0;
                        <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>&lt;<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#132">BANKS</a>; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>=<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>+1) <span class=K>begin</span>
                            <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.p2.html#1427">tm_bank_activate</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1021">i</a>] &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2080">TFAW</a>) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1399">tfaw_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1399">tfaw_cntr</a> + 1;
                            <span class=K>end</span>
                        <span class=K>end</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1023">tfaw_cntr</a> &gt; 3) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tFAW violation during %s to bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                        <span class=K>end</span>

                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>]) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Bank %d must be Precharged.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a> &gt;= 1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2242">ROW_BITS</a>) <span class=K>begin</span>
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: row = %h does not exist.  Maximum row = %h&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>, (1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2242">ROW_BITS</a>)-1);
                            <span class=K>end</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s bank %d row %h&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1'b1;
<a name="1424"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#250">active_row</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>;
<a name="1425"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#315">tm_group_activate</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>[1]] &lt;= <span class=ST>$time</span>;
<a name="1426"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#303">tm_activate</a> &lt;= <span class=ST>$time</span>;
<a name="1427"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#312">tm_bank_activate</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] &lt;= <span class=ST>$time</span>;
<a name="1428"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#296">ck_group_activate</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>[1]] &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1429"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#280">ck_activate</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#222">WRITE</a> : <span class=K>begin</span>
                        <span class=K>if</span> ((!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#267">rd_bc</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a>) || (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> == 4)) <span class=K>begin</span> <span class=C>// BL=4
</span>                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#189">truebl4</a>) <span class=K>begin</span>
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#298">ck_group_read</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>[1]] &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2170">TCCD</a>/2 + 2 - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a>)
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tRTW violation during %s to bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#282">ck_read</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2171">TCCD_DG</a>/2 + 2 - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a>)
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tRTW_DG violation during %s to bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#282">ck_read</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2170">TCCD</a>/2 + 2 - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a>)
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tRTW violation during %s to bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>end</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span> <span class=C>// BL=8
</span>                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#282">ck_read</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2170">TCCD</a> + 2 - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a>)
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tRTW violation during %s to bank %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                        <span class=K>end</span>

                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>])  <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#124">check_strict_timing</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Bank %d must be Activated.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#247">auto_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>]) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#281">ck_write</a> &lt; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a>/2) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#189">truebl4</a> == 0)) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Illegal burst interruption.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#247">auto_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1'b1;
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#248">write_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1'b1;
                            <span class=K>end</span>
<span class=P>`ifdef CA14PLUS
</span><span class=P>                            col = {addr[COL_BITS-1:BC+1], addr[BC-1:AP+1], addr[AP-1:0]}; </span><span class=P>// assume BC &gt; AP
</span><span class=M>`else</span>
<a name="1471"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> = {<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>-1:<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>+1], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>-1:0]}; <span class=C>// assume BC &gt; AP
</span><span class=M>`endif</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> &gt;= 1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>) <span class=K>begin</span>
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: col = %h does not exist.  Maximum col = %h&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a>, (1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>)-1);
                            <span class=K>end</span>
                            <span class=K>if</span> ((!<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>] &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a>) || (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> == 4)) <span class=K>begin</span> <span class=C>// BL=4
</span>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a> &amp; -4;
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span> <span class=C>// BL=8
</span>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a> &amp; -8;
                            <span class=K>end</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s bank %d col %h, auto precharge %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1]  = 1;
<a name="1483"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#325">ba_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1]  = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>;
<a name="1484"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#326">row_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1] = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1424">active_row</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>];
<a name="1485"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#327">col_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1] = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a>;
                            <span class=K>if</span> ((!<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>] &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a>) || (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> == 4)) <span class=K>begin</span> <span class=C>// BL=4
</span><a name="1487"></a>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#324">bl_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1] = 4;
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a>%4) <span class=K>begin</span>
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: col[1:0] must be set to 2'b00 during a BL4 Multipurpose Register read&quot;</span>, <span class=ST>$time</span>);
                                <span class=K>end</span>
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span> <span class=C>// BL=8
</span>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#324">bl_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1] = 8;
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#468">odt_in</a>) <span class=K>begin</span>
<a name="1494"></a>                                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#291">ck_odth8</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                                <span class=K>end</span>
                            <span class=K>end</span>
                            <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>&lt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#324">bl_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> + 1] + 4); <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>+1) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#895">dyn_odt_pipeline</a>[2*(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#786">write_latency</a> - 2) + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>] = 1'b1; <span class=C>// ODTLcnw = WL - 2, ODTLcwn = BL/2 + 2
</span>                            <span class=K>end</span>
<a name="1500"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#294">ck_bank_write</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1501"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#297">ck_group_write</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>[1]] &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1502"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#281">ck_write</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#223">READ</a> : <span class=K>begin</span>
                        <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#192">dll_locked</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: tDLLK violation during %s.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a> &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[1:0] != 2'b00)) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  addr[1:0] must be zero during Multipurpose Register Read.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Initialization sequence is not complete.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] &amp;&amp; !<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#124">check_strict_timing</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Bank %d must be Activated.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#247">auto_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>]) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Auto Precharge is scheduled to bank %d.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#282">ck_read</a> &lt; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a>/2) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#189">truebl4</a> == 0)) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Illegal burst interruption.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>] &amp;&amp; !<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#247">auto_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1'b1;
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#249">read_precharge_bank</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] = 1'b1;
                            <span class=K>end</span>
<span class=P>`ifdef CA14PLUS
</span><span class=P>                            col = {addr[COL_BITS-1:BC+1], addr[BC-1:AP+1], addr[AP-1:0]}; </span><span class=P>// assume BC &gt; AP
</span><span class=M>`else</span>
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> = {<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>-1:<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>+1], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>-1:0]}; <span class=C>// assume BC &gt; AP
</span><span class=M>`endif</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a> &gt;= 1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>) <span class=K>begin</span>
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: col = %h does not exist.  Maximum col = %h&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a>, (1&lt;&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>)-1);
                            <span class=K>end</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s bank %d col %h, auto precharge %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a>, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1]  = 1;
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#325">ba_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1]  = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>;
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#326">row_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1] = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1424">active_row</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>];
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#327">col_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1] = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1471">col</a>;
                            <span class=K>if</span> ((!<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>] &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#188">blotf</a>) || (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a> == 4)) <span class=K>begin</span> <span class=C>// BL=4
</span>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#324">bl_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1] = 4;
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a>%4) <span class=K>begin</span>
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: col[1:0] must be set to 2'b00 during a BL4 Multipurpose Register read&quot;</span>, <span class=ST>$time</span>);
                                <span class=K>end</span>
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span> <span class=C>// BL=8
</span>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#324">bl_pipeline</a>[2*<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#213">read_latency</a> - 1] = 8;
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1024">col</a>%8) <span class=K>begin</span>
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: col[2:0] must be set to 3'b000 during a BL8 Multipurpose Register read&quot;</span>, <span class=ST>$time</span>);
                                <span class=K>end</span>
                            <span class=K>end</span>
<a name="1552"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#267">rd_bc</a> = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2252">BC</a>];
<a name="1553"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#295">ck_bank_read</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>] &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1554"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#298">ck_group_read</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>[1]] &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1555"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#282">ck_read</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#224">ZQ</a> : <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s Failure.  All banks must be Precharged.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: %s long = %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>], <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1020">addr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2251">AP</a>]) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#257">zq_set</a> = 1;
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
<a name="1570"></a>                                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#284">ck_zqoper</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
<a name="1572"></a>                                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#283">ck_zqinit</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                                <span class=K>end</span>
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
<a name="1575"></a>                                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#285">ck_zqcs</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                            <span class=K>end</span>
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#225">NOP</a>: <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#251">in_power_down</a>) <span class=K>begin</span>
                            <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#308">tm_freq_change</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2208">TCKSRX</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#289">ck_freq_change</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2209">TCKSRX_TCK</a>))
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tCKSRX violation during Power Down Exit&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#309">tm_cke_cmd</a> &gt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2198">TPD_MAX</a>)
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tPD maximum violation during Power Down Exit&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Power Down Exit&quot;</span>, <span class=ST>$time</span>);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#251">in_power_down</a> = 0;
                            <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a> == 0) &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a>) <span class=K>begin</span> <span class=C>// precharge power down with dll off
</span>                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#290">ck_odt</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#214">write_latency</a> - 1)
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: tANPD violation during Power Down Exit.  Synchronous or asynchronous change in termination resistance is possible.&quot;</span>, <span class=ST>$time</span>);
<a name="1590"></a>                                <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#306">tm_slow_exit_pd</a> &lt;= <span class=ST>$time</span>;
<a name="1591"></a>                                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#287">ck_slow_exit_pd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                            <span class=K>end</span>
<a name="1593"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#305">tm_power_down</a> &lt;= <span class=ST>$time</span>;
<a name="1594"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#286">ck_power_down</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                        <span class=K>end</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a>) <span class=K>begin</span>
                            <span class=K>if</span> ((<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#308">tm_freq_change</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2208">TCKSRX</a>) || (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#289">ck_freq_change</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2209">TCKSRX_TCK</a>))
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tCKSRX violation during Self Refresh Exit&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#293">ck_cke_cmd</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2210">TCKESR_TCK</a>)
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tCKESR violation during Self Refresh Exit&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#351">tm_cke</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2205">TISXR</a>)
                                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tISXR violation during Self Refresh Exit&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Self Refresh Exit&quot;</span>, <span class=ST>$time</span>);
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a> = 0;
                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#292">ck_dll_reset</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1606"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#288">ck_self_refresh</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
<a name="1607"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#307">tm_self_refresh</a> &lt;= <span class=ST>$time</span>;
                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#301">tm_refresh</a> &lt;= <span class=ST>$time</span>;
                        <span class=K>end</span>
                    <span class=K>end</span>
                <span class=K>endcase</span>
                <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIO href="ddr3_model.sv.p2.html#1016">prev_cke</a> !== 1) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a> !== <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#225">NOP</a>)) <span class=K>begin</span>
                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: NOP or Deselect is required when CKE goes active.&quot;</span>, <span class=ST>$time</span>);
                <span class=K>end</span>

                <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                    <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#256">init_step</a>)
                        0 : <span class=K>begin</span>
                            <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#350">tm_rst_n</a> &lt; 500000000 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#124">check_strict_timing</a>) 
                                <span class=ST>$display</span> (<span class=S>&quot;%m at time %t WARNING: 500 us is required after RST_N goes inactive before CKE goes active.&quot;</span>, <span class=ST>$time</span>);
<a name="1621"></a>                            <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#299">tm_txpr</a> &lt;= <span class=ST>$time</span>;
<a name="1622"></a>                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#276">ck_txpr</a> &lt;= <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#543">ck_cntr</a>;
                            <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#256">init_step</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#878">init_step</a> + 1;
                        <span class=K>end</span>
                        1 : <span class=K>begin</span> 
                           <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a>) <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#256">init_step</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#878">init_step</a> + 1;
                        <span class=K>end</span>
                        2 : <span class=K>begin</span>
                            <span class=K>if</span> (&amp;<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#253">init_mode_reg</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#254">init_dll_reset</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#257">zq_set</a>) <span class=K>begin</span>
                                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Initialization Sequence is complete&quot;</span>, <span class=ST>$time</span>);
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a> = 1;
                            <span class=K>end</span>
                        <span class=K>end</span>
                    <span class=K>endcase</span>
                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIO href="ddr3_model.sv.p2.html#1016">prev_cke</a>) <span class=K>begin</span>
                <span class=K>if</span> ((!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#256">init_step</a> &gt; 1)) <span class=K>begin</span>
                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: CKE must remain active until the initialization sequence is complete.&quot;</span>, <span class=ST>$time</span>);
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                <span class=K>end</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a>)
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#219">REFRESH</a> : <span class=K>begin</span>
                        <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#299">tm_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2199">TXPR</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tXPR violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>]);
                        <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>&lt;=<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>+1) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_BANK, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>);
                        <span class=K>end</span>

                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Self Refresh Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Self Refresh Failure.  All banks must be Precharged.&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#259">odt_state</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Self Refresh Failure.  ODT must be off prior to entering Self Refresh&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Self Refresh Failure.  Initialization sequence is not complete.&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Self Refresh Enter&quot;</span>, <span class=ST>$time</span>);
						    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#125">feature_pasr</a>)
                                <span class=C>// Partial Array Self Refresh
</span>                                <span class=K>case</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#206">pasr</a>)
                                    3'b000 : ;<span class=C>//keep Bank 0-7
</span>                                    3'b001 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 4-7 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'hF0); <span class=K>end</span>
                                    3'b010 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 2-7 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'hFC); <span class=K>end</span>
                                    3'b011 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 1-7 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'hFE); <span class=K>end</span>
                                    3'b100 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 0-1 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'h03); <span class=K>end</span>
                                    3'b101 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 0-3 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'h0F); <span class=K>end</span>
                                    3'b110 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 0-5 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'h3F); <span class=K>end</span>
                                    3'b111 : <span class=K>begin</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span>(<span class=S>&quot;%m: at time %t INFO: Banks 0-6 will be lost due to Partial Array Self Refresh&quot;</span>, <span class=ST>$time</span>); <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_erase_banks">erase_banks</a>(8'h7F); <span class=K>end</span>
							    <span class=K>endcase</span>
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a> = 1;
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#192">dll_locked</a> = 0;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#225">NOP</a> : <span class=K>begin</span>
                        <span class=C>// entering precharge power down with dll off and tANPD has not been satisfied
</span>                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#194">low_power</a> &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a> == 0) &amp;&amp; |<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#322">odt_pipeline</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t WARNING: tANPD violation during %s.   Synchronous or asynchronous change in termination resistance is possible.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#227">PWR_DOWN</a>]);
                        <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#299">tm_txpr</a> &lt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2199">TXPR</a>)
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR:  tXPR violation during %s&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#231">cmd_string</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#227">PWR_DOWN</a>]);
                        <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>&lt;=<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#228">SELF_REF</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>+1) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_chk_err">chk_err</a>(DIFF_BANK, <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1019">bank</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1022">j</a>, <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#227">PWR_DOWN</a>);
                        <span class=K>end</span>

                        <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Power Down Failure.  Multipurpose Register must be disabled.&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#255">init_done</a>) <span class=K>begin</span>
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: Power Down Failure.  Initialization sequence is not complete.&quot;</span>, <span class=ST>$time</span>);
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2271">STOP_ON_ERROR</a>) <span class=ST>$stop</span>(0);
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=K>begin</span>
                                <span class=K>if</span> (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#246">active_bank</a>) <span class=K>begin</span>
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Active Power Down Enter&quot;</span>, <span class=ST>$time</span>);
                                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: Precharge Power Down Enter&quot;</span>, <span class=ST>$time</span>);
                                <span class=K>end</span>
                            <span class=K>end</span>
                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#251">in_power_down</a> = 1;
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <span class=K>default</span> : <span class=K>begin</span>
                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: NOP, Deselect, or Refresh is required when CKE goes inactive.&quot;</span>, <span class=ST>$time</span>);
                    <span class=K>end</span>
                <span class=K>endcase</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a> || <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#251">in_power_down</a>) <span class=K>begin</span>
                <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#275">ck_cntr</a> - <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#293">ck_cke_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2197">TCPDED</a>) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1018">cmd</a> !== <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#225">NOP</a>))
                    <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tCPDED violation during Power Down or Self Refresh Entry.  NOP or Deselect is required.&quot;</span>, <span class=ST>$time</span>);
            <span class=K>end</span>
<a name="1714"></a>            <a  onClick="return qs(event,this,0)"  class=SIO href="ddr3_model.sv.p2.html#1016">prev_cke</a>  = <a  onClick="return qs(event,this,0)"  class=SI href="ddr3_model.sv.p2.html#1017">cke</a>;

        <span class=K>end</span>
    <span class=K>endtask</span>    

<a name="ddr3_model_data_task"></a>    <span class=K>task</span> <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.p2.html#ddr3_model_data_task">data_task</a>;
<a name="1720"></a>        <span class=K>reg</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2249">BA_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1751">bank</a>;
<a name="1721"></a>        <span class=K>reg</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2242">ROW_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1752">row</a>;
<a name="1722"></a>        <span class=K>reg</span> [<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2243">COL_BITS</a>-1:0] <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1753">col</a>;
<a name="1723"></a>        <span class=K>integer</span> <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>;
<a name="1724"></a>        <span class=K>integer</span> <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>;
        <span class=K>begin</span>

            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a>) <span class=K>begin</span>
                <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;64; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#850">dq_in_valid</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#885">dll_locked</a> &amp;&amp; (<span class=ST>$time</span> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.p3.html#2866">tm_dqs_neg</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] &lt; <span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1828">TDSS</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>)))
                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tDSS violation on %s bit %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#391">dqs_string</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>/32], <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>%32);
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#344">check_write_dqs_high</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>])
                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s bit %d latching edge required during the preceding clock period.&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#389">dqs_string</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>/32], <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>%32);
                <span class=K>end</span>
<a name="1734"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#344">check_write_dqs_high</a> &lt;= 0;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;64; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#885">dll_locked</a> &amp;&amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#850">dq_in_valid</a>) <span class=K>begin</span>
<a name="1738"></a>                        <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.p2.html#1738">tm_tdqss</a> = <a  onClick="return qs(event,this,0)"  class=F href="ddr3_model.sv.html#ddr3_model_abs_value">abs_value</a>(1.0*<a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.p3.html#2230">tm_ck_pos</a> - <a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.p3.html#2759">tm_dqss_pos</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]);
                        <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#353">tm_tdqss</a> &lt; <a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.html#157">tck_avg</a>/2.0) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=STM href="ddr3_model.sv.html#353">tm_tdqss</a> &gt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1827">TDQSS</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.html#157">tck_avg</a>))
                            <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: tDQSS violation on %s bit %d&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#389">dqs_string</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>/32], <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>%32); 
                    <span class=K>end</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#345">check_write_dqs_low</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>])
                        <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: %s bit %d latching edge required during the preceding clock period&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#389">dqs_string</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>/32], <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>%32);
                <span class=K>end</span>
<a name="1745"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#343">check_write_preamble</a> &lt;= 0;
<a name="1746"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#342">check_write_postamble</a> &lt;= 0;
<a name="1747"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#345">check_write_dqs_low</a> &lt;= 0;
            <span class=K>end</span>

            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[0] || <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[0]) <span class=K>begin</span>
<a name="1751"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1720">bank</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1483">ba_pipeline</a>[0];
<a name="1752"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1721">row</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1484">row_pipeline</a>[0];
<a name="1753"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1722">col</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1485">col_pipeline</a>[0];
<a name="1754"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#340">burst_cntr</a> = 0;
                <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_memory_read">memory_read</a>(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1720">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1721">row</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1722">col</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#337">memory_data</a>);
            <span class=K>end</span>

            <span class=C>// burst counter
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#340">burst_cntr</a> &lt; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#187">burst_length</a>) <span class=K>begin</span>
<a name="1760"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#339">burst_position</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1753">col</a> ^ <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1754">burst_cntr</a>;
                <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#186">burst_order</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#339">burst_position</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2254">BO_BITS</a>-1:0] = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1753">col</a> + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1754">burst_cntr</a>;
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#340">burst_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1754">burst_cntr</a> + 1;
            <span class=K>end</span>

            <span class=C>// write dqs counter
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2283">WDQS_PRE</a> + 1]) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2283">WDQS_PRE</a> + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2283">WDQS_PRE</a> + 1] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2284">WDQS_PST</a> - 1;
            <span class=K>end</span>
            <span class=C>// write dqs
</span>            <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[2]) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#477">wdq_cntr</a> == 0)) <span class=K>begin</span> <span class=C>//write preamble
</span>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#343">check_write_preamble</a> &lt;= ({<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}}&lt;&lt;32) | {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}};
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> &gt; 1) <span class=K>begin</span>  <span class=C>// write data
</span>                <span class=K>if</span> ((<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2284">WDQS_PST</a>)%2) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#344">check_write_dqs_high</a> &lt;= ({<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}}&lt;&lt;32) | {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}};
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#345">check_write_dqs_low</a> &lt;= ({<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}}&lt;&lt;32) | {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}};
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> == <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2284">WDQS_PST</a>) <span class=K>begin</span> <span class=C>// write postamble
</span>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#342">check_write_postamble</a> &lt;= ({<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}}&lt;&lt;32) | {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{1'b1}};
            <span class=K>end</span> 
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> &gt; 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#476">wdqs_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#852">wdqs_cntr</a> - 1;
            <span class=K>end</span>

            <span class=C>// write dq
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#474">dq_in_valid</a>) <span class=K>begin</span> <span class=C>// write data
</span><a name="1791"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#338">bit_mask</a> = 0;
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a>) <span class=K>begin</span>
                    <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2240">DM_BITS</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a> | ({<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>{~<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p3.html#2399">dm_in_neg</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]}}&lt;&lt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>));
                    <span class=K>end</span>
<a name="1796"></a>                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#337">memory_data</a> = (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p3.html#2403">dq_in_neg</a>&lt;&lt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>) &amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a>) | (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1796">memory_data</a> &amp; ~<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a>);
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2240">DM_BITS</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a> | ({<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>{~<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p3.html#2366">dm_in_pos</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]}}&lt;&lt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>));
                    <span class=K>end</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#337">memory_data</a> = (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p3.html#2370">dq_in_pos</a>&lt;&lt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>) &amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a>) | (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1796">memory_data</a> &amp; ~<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1791">bit_mask</a>);
                <span class=K>end</span>
<a name="1803"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1796">memory_data</a>&gt;&gt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>);
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: WRITE @ DQS= bank = %h row = %h col = %h data = %h&quot;</span>,<span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1720">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1721">row</a>, (-1*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2141">BL_MAX</a> &amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1722">col</a>) + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#339">burst_position</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a>);
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#340">burst_cntr</a>%<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2140">BL_MIN</a> == 0) <span class=K>begin</span>
                    memory_write(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1720">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1721">row</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1722">col</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#337">memory_data</a>);
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[1]) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#477">wdq_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[1];
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#477">wdq_cntr</a> &gt; 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#477">wdq_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#853">wdq_cntr</a> - 1;
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#474">dq_in_valid</a> = 1'b1;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#474">dq_in_valid</a> = 1'b0;
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#475">dqs_in_valid</a> &lt;= 1'b0;
                <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;63; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#855">wdqs_pos_cntr</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]    &lt;= 0;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[0]) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#479">b2b_write</a> &lt;= 1'b0;
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#320">wr_pipeline</a>[2]) <span class=K>begin</span>
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#475">dqs_in_valid</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#479">b2b_write</a> &lt;= 1'b1;
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#475">dqs_in_valid</a> &lt;= 1'b1;
<a name="1830"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#480">wr_burst_length</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[2];
            <span class=K>end</span>

            <span class=C>// read dqs enable counter
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2277">RDQSEN_PRE</a>]) <span class=K>begin</span>
<a name="1835"></a>                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#523">rdqsen_cntr</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2277">RDQSEN_PRE</a> + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2277">RDQSEN_PRE</a>] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2278">RDQSEN_PST</a> - 1;
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#523">rdqsen_cntr</a> &gt; 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#523">rdqsen_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1835">rdqsen_cntr</a> - 1;
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#515">dqs_out_en</a> = 1'b1;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#515">dqs_out_en</a> = 1'b0;
            <span class=K>end</span>
            
            <span class=C>// read dqs counter
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2279">RDQS_PRE</a>]) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#524">rdqs_cntr</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2279">RDQS_PRE</a> + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2279">RDQS_PRE</a>] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2280">RDQS_PST</a> - 1;
            <span class=K>end</span>
            <span class=C>// read dqs
</span>            <span class=K>if</span> (((<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>&gt;&gt;1 &amp; {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2279">RDQS_PRE</a>{1'b1}}) &gt; 0) &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#526">rdq_cntr</a> == 0)) <span class=K>begin</span> <span class=C>//read preamble
</span><a name="1850"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#517">dqs_out</a> = 1'b0;
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#524">rdqs_cntr</a> &gt; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2280">RDQS_PST</a>) <span class=K>begin</span> <span class=C>// read data
</span>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#517">dqs_out</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#863">rdqs_cntr</a> - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2280">RDQS_PST</a>;
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#524">rdqs_cntr</a> &gt; 0) <span class=K>begin</span> <span class=C>// read postamble
</span>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#517">dqs_out</a> = 1'b0;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#517">dqs_out</a> = 1'b1;
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#524">rdqs_cntr</a> &gt; 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#524">rdqs_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#863">rdqs_cntr</a> - 1;
            <span class=K>end</span>

            <span class=C>// read dq enable counter
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2281">RDQEN_PRE</a>]) <span class=K>begin</span>
<a name="1864"></a>                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#525">rdqen_cntr</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2281">RDQEN_PRE</a> + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2281">RDQEN_PRE</a>] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2282">RDQEN_PST</a>;
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#525">rdqen_cntr</a> &gt; 0) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#525">rdqen_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1864">rdqen_cntr</a> - 1;
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#519">dq_out_en</a> = 1'b1;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#519">dq_out_en</a> = 1'b0;
            <span class=K>end</span>
            <span class=C>// read dq
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#321">rd_pipeline</a>[0]) <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#526">rdq_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1487">bl_pipeline</a>[0];
            <span class=K>end</span>
            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#526">rdq_cntr</a> &gt; 0) <span class=K>begin</span> <span class=C>// read data
</span>                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#211">mpr_en</a>) <span class=K>begin</span>
<span class=P>`ifdef MPR_DQ0 </span><span class=P>// DQ0 output MPR data, other DQ low				   
</span><span class=P>                    if (mpr_select == 2'b00) begin </span><span class=P>// Calibration Pattern
</span><span class=P>                        dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, calibration_pattern[burst_position]}};
</span><span class=P>                    end else if (odts_readout &amp;&amp; (mpr_select == 2'b11)) begin </span><span class=P>// Temp Sensor (ODTS)
</span><span class=P>                        dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, temp_sensor[burst_position]}};
</span><span class=P>                    end else begin </span><span class=P>// Reserved
</span><span class=P>                        dq_temp = {DQS_BITS{{`DQ_PER_DQS-1{1'b0}}, 1'bx}};
</span><span class=P>                    end
</span><span class=M>`else</span> <span class=C>// all DQ output MPR data
</span>                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a> == 2'b00) <span class=K>begin</span> <span class=C>// Calibration Pattern
</span>                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a> = {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{{<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>{<a  onClick="return qs(event,this,0)"  class=SW href="ddr3_model.sv.html#264">calibration_pattern</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>]}}}};
                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#212">odts_readout</a> &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a> == 2'b11)) <span class=K>begin</span> <span class=C>// Temp Sensor (ODTS)
</span>                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a> = {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{{<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>{<a  onClick="return qs(event,this,0)"  class=SW href="ddr3_model.sv.html#265">temp_sensor</a>[<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>]}}}};
                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span> <span class=C>// Reserved
</span>                        <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a> = {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{{<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>{1'bx}}}};
                    <span class=K>end</span>
<span class=M>`endif</span>				   
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t READ @ DQS MultiPurpose Register %d, col = %d,  data = %b&quot;</span>, <span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#210">mpr_select</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#339">burst_position</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a>[0]);
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1796">memory_data</a>&gt;&gt;(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1760">burst_position</a>*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>);
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2272">DEBUG</a>) <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t INFO: READ @ DQS= bank = %h row = %h col = %h data = %h&quot;</span>,<span class=ST>$time</span>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1720">bank</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1721">row</a>, (-1*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2141">BL_MAX</a> &amp; <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1722">col</a>) + <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#339">burst_position</a>, <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#341">dq_temp</a>);
                <span class=K>end</span>
<a name="1900"></a>                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#521">dq_out</a> = <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1803">dq_temp</a>;
                <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#526">rdq_cntr</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#861">rdq_cntr</a> - 1;
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#521">dq_out</a> = {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a>{1'b1}};
            <span class=K>end</span>

            <span class=C>// delay signals prior to output
</span>            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2274">RANDOM_OUT_DELAY</a> &amp;&amp; (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#515">dqs_out_en</a> || (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#516">dqs_out_en_dly</a>) || <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#519">dq_out_en</a> || (|<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#520">dq_out_en_dly</a>))) <span class=K>begin</span>
                <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>&lt;<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>+1) <span class=K>begin</span>
                    <span class=C>// DQSCK requirements
</span>                    <span class=C>// 1.) less than tDQSCK
</span>                    <span class=C>// 2.) greater than -tDQSCK
</span>                    <span class=C>// 3.) cannot change more than tQH + tDQSQ from previous DQS edge
</span><a name="1913"></a>                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1913">dqsck_max</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1830">TDQSCK</a>;
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#179">dqsck_max</a> &gt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#177">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.html#157">tck_avg</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1826">TDQSQ</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#179">dqsck_max</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1931">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a> + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1826">TDQSQ</a>;
                    <span class=K>end</span>
<a name="1917"></a>                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#178">dqsck_min</a> = -1*<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1830">TDQSCK</a>;
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#178">dqsck_min</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#177">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.html#157">tck_avg</a> - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1826">TDQSQ</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#178">dqsck_min</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1931">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a> - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1826">TDQSQ</a>;
                    <span class=K>end</span>

                    <span class=C>// DQSQ requirements
</span>                    <span class=C>// 1.) less than tDQSQ
</span>                    <span class=C>// 2.) greater than 0
</span>                    <span class=C>// 3.) greater than tQH from the previous DQS edge
</span><a name="1926"></a>                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#180">dqsq_min</a> = 0;
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#180">dqsq_min</a> &lt; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#177">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.html#157">tck_avg</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#180">dqsq_min</a> = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1931">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] - <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2157">TQH</a>*<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>;
                    <span class=K>end</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#178">dqsck_min</a> == <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#179">dqsck_max</a>) <span class=K>begin</span>
<a name="1931"></a>                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#177">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] = <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1917">dqsck_min</a>;
                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                        <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#177">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] = <span class=ST>$dist_uniform</span>(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#541">seed</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1917">dqsck_min</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1913">dqsck_max</a>);
                    <span class=K>end</span>
<a name="1935"></a>                    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#181">dqsq_max</a> = <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p2.html#1826">TDQSQ</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1931">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>];

<a name="1937"></a>                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#516">dqs_out_en_dly</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>] &lt;= #(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>/2) <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#862">dqs_out_en</a>;
<a name="1938"></a>                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#518">dqs_out_dly</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]    &lt;= #(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>/2 + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1931">dqsck</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>]) <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1850">dqs_out</a>;
                    <span class=K>if</span> (!<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a>) <span class=K>begin</span>
                        <span class=K>for</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>=0; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>&lt;<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a>; <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>=<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>+1) <span class=K>begin</span>
<a name="1941"></a>                            <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1941">dq_out_en_dly</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>] &lt;= #(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>/2) <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#860">dq_out_en</a>;
                            <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#180">dqsq_min</a> == <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#181">dqsq_max</a>) <span class=K>begin</span>
<a name="1943"></a>                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#522">dq_out_dly</a>   [<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>] &lt;= #(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>/2 + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1926">dqsq_min</a>) <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1900">dq_out</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>];
                            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#522">dq_out_dly</a>   [<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>] &lt;= #(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2170">tck_avg</a>/2 + <span class=ST>$dist_uniform</span>(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#541">seed</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1926">dqsq_min</a>, <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1935">dqsq_max</a>)) <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1900">dq_out</a>[<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1723">i</a>*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="ddr3_model.sv.html#131">DQ_PER_DQS</a> + <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1724">j</a>];
                            <span class=K>end</span>
                        <span class=K>end</span>
                    <span class=K>end</span>
                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#195">dll_en</a>)
                  <span class=K>if</span>(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a>)
<a name="1953"></a>               	    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#176">out_delay</a> = (<span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2217">tch_avg</a>) &gt; 50000) ? 0 : <span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2217">tch_avg</a>);
                  <span class=K>else</span>
               	    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#176">out_delay</a> = (<span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2244">tcl_avg</a>) &gt; 50000) ? 0 : <span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2244">tcl_avg</a>);
                <span class=K>else</span>
                  <span class=K>if</span>(<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a>)
               	    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#176">out_delay</a> = (<span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2217">tch_avg</a>) &gt; 50000) ? 0 : <span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2217">tch_avg</a>) + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2051">TDQSCK_DLLDIS</a>;
                  <span class=K>else</span>
               	    <a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.html#176">out_delay</a> = (<span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2244">tcl_avg</a>) &gt; 50000) ? 0 : <span class=ST>$rtoi</span>(<a  onClick="return qs(event,this,0)"  class=SRL href="ddr3_model.sv.p3.html#2244">tcl_avg</a>) + <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2051">TDQSCK_DLLDIS</a>;
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#516">dqs_out_en_dly</a> &lt;= #(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1953">out_delay</a>) {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#862">dqs_out_en</a>}};
                <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#518">dqs_out_dly</a>    &lt;= #(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1953">out_delay</a>) {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2245">DQS_BITS</a>{<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1850">dqs_out</a>   }};
                <span class=K>if</span> (<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#202">write_levelization</a> !== 1'b1) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#520">dq_out_en_dly</a>  &lt;= #(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1953">out_delay</a>) {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a> {<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#860">dq_out_en</a> }};
                    <a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.html#522">dq_out_dly</a>     &lt;= #(<a  onClick="return qs(event,this,0)"  class=SIT href="ddr3_model.sv.p2.html#1953">out_delay</a>) {<a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model_parameters.vh.p3.html#2244">DQ_BITS</a> {<a  onClick="return qs(event,this,0)"  class=SR href="ddr3_model.sv.p2.html#1900">dq_out</a>    }};
                <span class=K>end</span>
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>endtask</span>

    <span class=K>always</span> @ (<span class=K>posedge</span> <a  onClick="return qs(event,this,1)"  class=SR href="ddr3_model.sv.html#455">rst_n_in</a>) <span class=K>begin</span> : reset
        <span class=K>integer</span> i;
        <span class=K>if</span> (<a  onClick="return qs(event,this,1)"  class=SR href="ddr3_model.sv.html#455">rst_n_in</a>) <span class=K>begin</span>
            <span class=K>if</span> (<span class=ST>$time</span> &lt; 200000000 &amp;&amp; <a  onClick="return qs(event,this,0)"  class=PA href="ddr3_model.sv.html#124">check_strict_timing</a>) 
                <span class=ST>$display</span> (<span class=S>&quot;%m at time %t WARNING: 200 us is required before RST_N goes inactive.&quot;</span>, <span class=ST>$time</span>);
            <span class=K>if</span> (<a  onClick="return qs(event,this,2)"  class=SR href="ddr3_model.sv.html#458">cke_in</a> !== 1'b0)
                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: CKE must be inactive when RST_N goes inactive.&quot;</span>, <span class=ST>$time</span>);
            <span class=K>if</span> (<span class=ST>$time</span> - <a  onClick="return qs(event,this,3)"  class=STM href="ddr3_model.sv.html#351">tm_cke</a> &lt; 10000)
                <span class=ST>$display</span> (<span class=S>&quot;%m: at time %t ERROR: CKE must be maintained inactive for 10 ns before RST_N goes inactive.&quot;</span>, <span class=ST>$time</span>);

            <span class=C>// clear memory
</span><span class=P>`ifdef MAX_MEM
</span>            <span class=P>// verification group does not erase memory
</span>    <span class=P>//    for (banki = 0; banki &lt; `BANKS; banki = banki + 1) begin
</span>    <span class=P>//	          $fclose(memfd[banki]);
</span>    <span class=P>//            memfd[banki] = open_bank_file(banki);
</span>    <span class=P>//    end
</span><span class=M>`else</span>
            <a  onClick="return qs(event,this,4)"  class=SR href="ddr3_model.sv.html#451">memory_used</a> &lt;= 0; <span class=C>//erase memory
</span><span class=M>`endif</span>

        <span class=K>end</span>
    <span class=K>end</span>

    <span class=K>always</span> @(<span class=K>negedge</span> <a  onClick="return qs(event,this,1)"  class=SR href="ddr3_model.sv.html#455">rst_n_in</a> <span class=K>or</span> <span class=K>posedge</span> <a  onClick="return qs(event,this,5)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a> <span class=K>or</span> <span class=K>negedge</span> <a  onClick="return qs(event,this,5)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a>) <span class=K>begin</span> : main
        <span class=K>integer</span> i;
        <span class=K>if</span> (!<a  onClick="return qs(event,this,1)"  class=SR href="ddr3_model.sv.html#455">rst_n_in</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,0)"  class=T href="ddr3_model.sv.html#ddr3_model_reset_task">reset_task</a>;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <span class=K>if</span> (!<a  onClick="return qs(event,this,6)"  class=SR href="ddr3_model.sv.html#252">in_self_refresh</a> &amp;&amp; (<a  onClick="return qs(event,this,5)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a> !== 1'b0) &amp;&amp; (<a  onClick="return qs(event,this,5)"  class=SR href="ddr3_model.sv.html#482">diff_ck</a> !== 1'b1))
</pre>
<center><table class=NB cols=4 ><tr><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.p3.html';"><a target="_top" href="ddr3_model.sv.p3.html">Next</a></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.html';"><a target="_top" href="ddr3_model.sv.html">1</a></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">2</font></td><td align="center" width="25%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='ddr3_model.sv.p3.html';"><a target="_top" href="ddr3_model.sv.p3.html">3</a></td></tr></table></center>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return "ddr3_model.sv.p3.html"; }
function first_page() { return ""; }
var extra_info = [
["S","ddr3_model.sv.html#455","ddr3_model.sv.html#484","","ddr3_model.sv.html#484","hierarchy-s.p7.html#rst_n_in___ddr3_model"],
["S","ddr3_model.sv.html#458","ddr3_model.sv.html#489","","ddr3_model.sv.html#489","hierarchy-s.p2.html#cke_in___ddr3_model"],
["S","ddr3_model.sv.html#351","ddr3_model.sv.p3.html#2442","","ddr3_model.sv.p3.html#2442","hierarchy-s.p9.html#tm_cke___ddr3_model"],
["S","ddr3_model.sv.html#451","ddr3_model.sv.html#822","","ddr3_model.sv.html#822","hierarchy-s.p5.html#memory_used___ddr3_model"],
["S","ddr3_model.sv.html#482","ddr3_model.sv.html#502","","ddr3_model.sv.html#502","hierarchy-s.p3.html#diff_ck___ddr3_model"],
["S","ddr3_model.sv.html#252","ddr3_model.sv.html#889","","ddr3_model.sv.html#889","hierarchy-s.p4.html#in_self_refresh___ddr3_model"]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Mon Oct 30 14:02:55 2023</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
../rlsoc-tn/rvsoc_src_ver053/src/ddr3_model.sv</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
