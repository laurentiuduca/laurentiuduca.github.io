<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>../rlsoc-tn/rvsoc_src_ver053/src/define.vh</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return ""; }
function last_page() { return ""; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<pre>
<span class=C>// modified by: Laurentiu-Cristian Duca, date: 2023-05-25
</span><span class=C>// spdx license identifier MIT
</span><span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC  (Mini Kuroda/RISC-V)                      since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** config file v0.13                                                                        ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=P>`ifndef __CONFIG_VH__
</span><a name="8"></a><span class=P>`define __CONFIG_VH__
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>`timescale 1ps/1ps
</span>
<a name="12"></a><span class=P>`define NCORES  2
</span>
<span class=P>//`define ARTYA7
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>//`define SIM_MODE
</span><span class=P>//`define USE_SINGLE_CORE
</span><a name="18"></a><span class=P>`define DRAM_REFRESH_LOGIC </span><span class=P>// for tang nano
</span>
<span class=P>//`define SIM_MAIN // for xsim
</span><span class=P>`ifdef SIM_MAIN
</span><span class=P>`ifdef SIM_MODE
</span><span class=P>error
</span><span class=P>`endif
</span><span class=P>`endif
</span><span class=P>// verify dts
</span>
<span class=P>`ifdef SIM_MODE
</span><span class=P>//`define SIM_TNSRAM // tang nano sim ram
</span><span class=P>//`define RAM_DEBUG
</span><span class=P>`define mtsm 1
</span><span class=P>//`define DRAM_SIM // slower, for nexysa7
</span><span class=P>//`define CACHE_DEBUG
</span><span class=P>`endif
</span><span class=P>//`define RAM_DEBUG
</span>
<span class=P>//`define SKIP_CACHE
</span><a name="38"></a><span class=P>`define KEYBOARD_QUEUE_SIZE 32
</span><a name="39"></a><span class=P>`define IPI_MAX_DISPLAYS 20
</span><span class=P>//`define LAUR_DEBUG_IPI
</span><span class=P>//    `define laurmom 32'h094bd3e3
</span>
<a name="43"></a><span class=P>`define LINUX
</span><a name="44"></a><span class=P>`define TIMEOUT 64'd30000000001
</span><span class=P>//`define DEBUG
</span><span class=P>//`define TRACE
</span><span class=P>//`define MIDDLE
</span>
<a name="49"></a><span class=P>`define HEX_DIR </span><span class=P>&quot;./&quot;</span>
<span class=P>`ifdef LINUX
</span><span class=P>    `ifndef MIDDLE
</span><a name="52"></a><span class=P>        `define HEXFILE    </span><span class=P>&quot;../binary/init_kernel.txt&quot;</span>
<a name="53"></a><span class=P>        `define IMAGE_FILE </span><span class=P>&quot;../binary/init_disk.txt&quot;</span>
<span class=P>//        `define HEXFILE    &quot;init_kernel.txt&quot;
</span><span class=P>//        `define IMAGE_FILE &quot;init_disk.txt&quot;
</span><span class=P>    `else
</span><span class=P>        `define HEXFILE    </span><span class=P>&quot;./init_mem.txt&quot;</span>
<span class=P>        `define REGFILE    </span><span class=P>&quot;./init_reg.txt&quot;</span>
<span class=P>        `define IMAGE_FILE </span><span class=P>&quot;./init_dsk.txt&quot;</span>
<span class=P>    `endif
</span><span class=P>`else
</span><span class=P>    `define HEXFILE </span><span class=P>&quot;./test.mem&quot;</span>
<span class=P>`endif
</span>
<span class=P>// `define HEX_DIR &quot;&quot;
</span><span class=P>// `ifdef LINUX
</span><span class=P>//     `ifndef MIDDLE
</span><span class=P>//         `define HEXFILE    &quot;/home/miyazaki/riscv/trace/rv32imac/init_mem.txt&quot;
</span><span class=P>//         `define IMAGE_FILE &quot;/home/miyazaki/riscv/trace/rv32imac/init_dsk.txt&quot;
</span><span class=P>//     `else
</span><span class=P>//         `define HEXFILE    &quot;./init_mem.txt&quot;
</span><span class=P>//         `define REGFILE    &quot;./init_reg.txt&quot;
</span><span class=P>//         `define IMAGE_FILE &quot;./init_dsk.txt&quot;
</span><span class=P>//     `endif
</span><span class=P>// `else
</span><span class=P>//     `define HEXFILE &quot;/home/miyazaki/GitHub/MikuRV/MikuRV/app/test/test.mem&quot;
</span><span class=P>// `endif
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>`ifndef SIM_MODE
</span><a name="81"></a><span class=P>    `define REAL_MTIME
</span><span class=P>`endif
</span>
<span class=P>`ifdef REAL_MTIME
</span><span class=P>    `ifndef ARTYA7
</span><a name="86"></a><span class=P>        `define ENABLE_TIMER 64'd1600000000  </span><span class=P>// 80000000 * 20
</span><span class=P>    `else
</span><span class=P>        `define ENABLE_TIMER 64'd2000000000  </span><span class=P>// 80000000 * 25
</span><span class=P>    `endif
</span><span class=P>`else
</span><span class=P>`ifdef USE_SINGLE_CORE
</span><span class=P>    `define ENABLE_TIMER 64'd0650000000 </span><span class=P>// for 104 Mhz in dts
</span><span class=P>`else
</span><span class=P>    `define ENABLE_TIMER 64'd1160000000 </span><span class=P>// for 104 Mhz in dts
</span><span class=P>`endif
</span><span class=P>`endif
</span>
<span class=P>/**************************************************************************************************/</span>
<a name="99"></a><span class=P>`define LATENCY 0
</span><span class=P>// //`define TIMEOUT 1000000
</span><span class=P>// //`define HEX_DIR &quot;../app/hex/&quot;
</span><span class=P>// //`define HEXFILE &quot;template-asm2.hex&quot;
</span><span class=P>// //`define INST_HEX &quot;inst-template-asm2.hex&quot;
</span>
<a name="105"></a><span class=P>`define CACHE_SIZE (128*1024)
</span>
<a name="107"></a><span class=P>`define FREQ 27_000_000
</span><span class=P>`ifdef SIM_MAIN
</span><span class=P>// speed up a little bit the simulation
</span><span class=P>`define SERIAL_WCNT 2
</span><span class=P>`else
</span><span class=P>`ifdef SIM_MODE
</span><span class=P>`define SERIAL_WCNT 2
</span><span class=P>`else 
</span><a name="115"></a><span class=P>`define SERIAL_WCNT (`FREQ / 115200)
</span><a name="116"></a><span class=P>`define BYPASS_PLOADER
</span><span class=P>`endif
</span><span class=P>`endif
</span>

<span class=P>//`define STATE
</span><span class=P>//`define PC_TRACE
</span><span class=P>//`define MEM_DUMP
</span>
<span class=P>//`define VIRTIO_LOG &quot;init_virtio.txt&quot;
</span><span class=P>//`define CONSOLE_MEM &quot;/home/pub/riscv/data_vefify/cons-test-initmem.txt&quot;
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>//`ifdef LINUX
</span><span class=P>//    `undef HEX_DIR
</span><span class=P>//    `undef TIMEOUT
</span>    <span class=P>//`define TIMEOUT 10000000 //500000 //(74000000)
</span>    <span class=P>//`define TIMEOUT 70000000
</span><span class=P>//    `define TIMEOUT 80000000
</span>    <span class=P>//`define HEX_DIR &quot;/home/share/FPGA/riscv/data_vefify/&quot;
</span><span class=P>//    `define HEX_DIR &quot;&quot;
</span>    <span class=P>//`define MC_PROG &quot;./microctrl.hex&quot;
</span><span class=P>//    `ifdef MIDDLE
</span><span class=P>//        `define HEXFILE    &quot;/home/pub/riscv/hexdata/rv32ima/60M/init_mem.txt&quot;
</span><span class=P>//        `define REGFILE    &quot;/home/pub/riscv/hexdata/rv32ima/60M/init_reg.txt&quot;
</span><span class=P>//        `define IMAGE_FILE &quot;/home/pub/riscv/hexdata/rv32ima/60M/init_dsk.txt&quot;
</span>        <span class=P>//`define HEXFILE    &quot;./init_mem.txt&quot;
</span>        <span class=P>//`define REGFILE    &quot;./init_reg.txt&quot;
</span>        <span class=P>//`define IMAGE_FILE &quot;./init_dsk.txt&quot;
</span><span class=P>//    `else
</span>        <span class=P>//`define HEXFILE    &quot;/home/pub/riscv/data_vefify/bbl_v05.hex&quot;  //&quot;/home/pub/riscv/data_vefify/initmem_nofloat_comp.txt&quot;
</span>        <span class=P>//`define IMAGE_FILE &quot;/home/pub/riscv/data_vefify/root_v07.hex&quot; //&quot;/home/pub/riscv/data_vefify/initdsk_nofloat_comp.txt&quot;
</span><span class=P>//        `define HEXFILE    &quot;/home/miyazaki/riscv/trace/rv32imac/init_mem.txt&quot;
</span><span class=P>//        `define IMAGE_FILE &quot;/home/miyazaki/riscv/trace/rv32imac/init_dsk.txt&quot;
</span><span class=P>//    `endif
</span><span class=P>// `else
</span><span class=P>//     `ifndef HEXFILE
</span><span class=P>//         `ifdef TRACE2
</span><span class=P>//             `define HEXFILE &quot;rvc.hex&quot;
</span><span class=P>//         `else 
</span><span class=P>//             `ifdef CONSOLE_TEST
</span><span class=P>//                 `define HEXFILE &quot;console.hex&quot;
</span><span class=P>//             `else
</span><span class=P>//                 `define HEXFILE &quot;template-c.hex&quot;        /* default hex */
</span><span class=P>//             `endif
</span><span class=P>//         `endif
</span><span class=P>//     `endif
</span><span class=P>//`endif
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** Simulation                                                                               ****/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>`ifdef LINUX
</span><a name="169"></a><span class=P>`define D_START_PC      32'h80700000
</span><span class=P>`else
</span><span class=P>`define D_START_PC      0
</span><span class=P>`endif
</span>
<span class=P>/**** VirtIO                                                                                   ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="176"></a><span class=P>`define VIRTIO_BASE_ADDR    32'h40000000
</span><a name="177"></a><span class=P>`define VIRTIO_BASE_TADDR    4'h4
</span><a name="178"></a><span class=P>`define VIRTIO_SIZE         32'h08000000
</span>
<a name="180"></a><span class=P>`define VRING_DESC_F_NEXT       1
</span><a name="181"></a><span class=P>`define VRING_DESC_F_WRITE      2
</span><a name="182"></a><span class=P>`define VRING_DESC_F_INDIRECT   4
</span>
<span class=P>// Console
</span><a name="185"></a><span class=P>`define CONSOLE_QUEUE_NUM_MAX   2
</span><a name="186"></a><span class=P>`define VIRTIO_CONSOLE_IRQ      1
</span>
<span class=P>// Block Device (DISK)
</span><a name="189"></a><span class=P>`define SECTOR_SIZE         512
</span><a name="190"></a><span class=P>`define DISK_BUF_SIZE       512*512
</span><span class=P>`ifdef LINUX
</span><a name="192"></a><span class=P>    `define DISK_SIZE           64*1024*1024
</span><span class=P>`else
</span><span class=P>    `define DISK_SIZE           32*1024
</span><span class=P>`endif
</span><a name="196"></a><span class=P>`define DISK_QUEUE_NUM_MAX  4
</span><a name="197"></a><span class=P>`define VIRTIO_DISK_IRQ     2
</span><a name="198"></a><span class=P>`define VIRTIO_BLK_T_IN     0
</span><a name="199"></a><span class=P>`define VIRTIO_BLK_T_OUT    1
</span><a name="200"></a><span class=P>`define VIRTIO_BLK_S_OK     0
</span><a name="201"></a><span class=P>`define VIRTIO_BLK_IOERR    1
</span><a name="202"></a><span class=P>`define VIRTIO_BLK_UNSUPP   2
</span>
<span class=P>/**** PLIC (Platform-Level Interrupt Controller)                                               ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="206"></a><span class=P>`define PLIC_BASE_ADDR  32'h50000000
</span><a name="207"></a><span class=P>`define PLIC_BASE_TADDR  4'h5
</span><a name="208"></a><span class=P>`define PLIC_SIZE       32'h400000
</span><a name="209"></a><span class=P>`define PLIC_HART_BASE  32'h200000
</span><a name="210"></a><span class=P>`define PLIC_HART_SIZE  32'h1000
</span>
<span class=P>/**** CLINT (Core Local Interrupter)                                                           ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="214"></a><span class=P>`define CLINT_BASE_ADDR 32'h60000000
</span><a name="215"></a><span class=P>`define CLINT_BASE_TADDR 4'h6
</span><a name="216"></a><span class=P>`define CLINT_SIZE      32'hc0000
</span>
<a name="218"></a><span class=P>`define HVC_BASE_ADDR   32'h70000000
</span><a name="219"></a><span class=P>`define HVC_BASE_TADDR  4'h7
</span>
<span class=P>/**** Micro Controller                                                                         ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="223"></a><span class=P>`define MC_MEM_SIZE 8*1024    </span><span class=P>// 32KB
</span><a name="224"></a><span class=P>`define LINE_BUFFER_SIZE (8*100) </span><span class=P>// for debugging
</span><a name="225"></a><span class=P>`define D_INITD_ADDR    (6*1024*1024) </span><span class=P>// (7*1024*1024) //(32*1024*1024)
</span>
<span class=P>`ifndef SIM_MODE
</span><a name="228"></a><span class=P>	`define LAUR_MEM_RB </span><span class=P>// mem read-back after writing it with BBL
</span><a name="229"></a><span class=P>	`define LAUR_MEM_RB_ONLY_CHECK
</span><span class=P>`endif
</span>
<a name="232"></a><span class=P>`define BBL_SIZE (8*1024*1024) </span><span class=P>//(64*1024*1024)
</span>
<span class=P>`ifdef SIM_MAIN
</span><span class=P>`define BIN_BBL_SIZE   32 </span><span class=P>// Note!!
</span><span class=P>`define D_SIZE_DEVT 0
</span><span class=P>`define BIN_DISK_SIZE 0
</span><span class=P>`else
</span><a name="239"></a><span class=P>`define BIN_BBL_SIZE   `BBL_SIZE </span><span class=P>// (30*1024*1024)
</span><a name="240"></a><span class=P>`define D_SIZE_DEVT (4*1024)
</span><a name="241"></a><span class=P>`define BIN_DISK_SIZE 0 </span><span class=P>//(16*1024*1024)
</span><span class=P>`endif
</span><a name="243"></a><span class=P>`define BIN_SIZE       (`BIN_BBL_SIZE + `BIN_DISK_SIZE) </span><span class=P>// (`BIN_BBL_SIZE + `D_SIZE_DEVT + `BIN_DISK_SIZE) 
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** System Configuration                                                                     ****/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>// RV32 (bit) Register size
</span><a name="249"></a><span class=P>`define XLEN 32
</span>
<span class=P>// 32bit Instruction Length
</span><a name="252"></a><span class=P>`define INST_LEN 32
</span>
<span class=P>// Floating Point Lengh (Not Supported)
</span><span class=P>//`define FLEN 64
</span>
<span class=P>// NOP Instruction
</span><a name="258"></a><span class=P>`define RV32_NOP 32'h00000013
</span><span class=P>// ILLEGAL
</span><a name="260"></a><span class=P>`define ILLEGAL_INST 32'h0
</span>
<span class=P>// MEMORY (Byte)
</span><a name="263"></a><span class=P>`define MEM_BASE_ADDR 32'h80000000
</span><a name="264"></a><span class=P>`define MEM_BASE_TADDR 4'h8
</span><span class=P>`ifdef LINUX
</span><a name="266"></a><span class=P>`define MEM_SIZE (8*1024*1024) </span><span class=P>// 128MB (DRAM_SIZE)
</span><a name="267"></a><span class=P>`define ARTY_MEM_SIZE 256*1024*1024 </span><span class=P>// 256MB (DRAM_SIZE)
</span><a name="268"></a><span class=P>`define APP_MODE 0
</span><span class=P>`else
</span><span class=P>`define MEM_SIZE 1024*32      </span><span class=P>// 32KB
</span><span class=P>`define ARTY_MEM_SIZE 64*1024 </span><span class=P>// 64KB
</span><span class=P>`define APP_MODE 1
</span><span class=P>`endif
</span><a name="274"></a><span class=P>`define MEMORY_DATA_WIDTH 1 </span><span class=P>// 1 Byte
</span><a name="275"></a><span class=P>`define I_CACHE_SIZE 4096 </span><span class=P>// 4KB
</span><a name="276"></a><span class=P>`define D_CACHE_SIZE 4096 </span><span class=P>// 4KB
</span><span class=P>`ifdef SIM_MODE
</span><span class=P>`define TLB_SIZE 4
</span><span class=P>`else
</span><a name="280"></a><span class=P>`define TLB_SIZE 32
</span><span class=P>`endif
</span>
<span class=P>// TOHOST_ADDR
</span><a name="284"></a><span class=P>`define TOHOST_ADDR 32'h40008000
</span>
<span class=P>// command for application mode using tohost
</span><a name="287"></a><span class=P>`define CMD_PRINT_CHAR 1
</span><a name="288"></a><span class=P>`define CMD_POWER_OFF  2
</span>
<span class=P>// I-Cache TEST
</span><span class=P>// Note: This cache support only 4-byte instructions
</span><span class=P>//`define ICACHE_ENABLE
</span>
<span class=M>`endif</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC (Mini Kuroda/RISC-V)                       since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** System defines v0.01                                                                     ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=P>`ifndef __SYS_DEFINE_VH__
</span><a name="302"></a><span class=P>`define __SYS_DEFINE_VH__
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>/**** Multi Cycle Stage                                                                        ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="306"></a><span class=P>`define S_INI 0     </span><span class=P>// Init
</span><a name="307"></a><span class=P>`define S_IF  1     </span><span class=P>// Inst Fetch
</span><a name="308"></a><span class=P>`define S_CVT 2     </span><span class=P>// Convert
</span><a name="309"></a><span class=P>`define S_ID  3     </span><span class=P>// Inst Decode
</span><a name="310"></a><span class=P>`define LAUR_S_ID2
</span><span class=P>`ifdef LAUR_S_ID2
</span><a name="312"></a><span class=P>`define S_ID_BISS 4
</span><a name="313"></a><span class=P>`define S_OF  5     </span><span class=P>// Operand Fetch
</span><a name="314"></a><span class=P>`define S_EX1 6     </span><span class=P>// Execution 1
</span><a name="315"></a><span class=P>`define S_LD  7     </span><span class=P>// Load DATA
</span><a name="316"></a><span class=P>`define S_EX2 8     </span><span class=P>// Execution 2
</span><a name="317"></a><span class=P>`define S_SD  9     </span><span class=P>// Store DATA
</span><a name="318"></a><span class=P>`define S_WB  10     </span><span class=P>// Write Back
</span><a name="319"></a><span class=P>`define S_COM 11    </span><span class=P>// Complete Insn
</span><a name="320"></a><span class=P>`define S_FIN 12    </span><span class=P>// Finish
</span><span class=P>`else
</span><span class=P>`define S_OF  4     </span><span class=P>// Operand Fetch
</span><span class=P>`define S_EX1 5     </span><span class=P>// Execution 1
</span><span class=P>`define S_LD  6     </span><span class=P>// Load DATA
</span><span class=P>`define S_EX2 7     </span><span class=P>// Execution 2
</span><span class=P>`define S_SD  8     </span><span class=P>// Store DATA
</span><span class=P>`define S_WB  9     </span><span class=P>// Write Back
</span><span class=P>`define S_COM 10    </span><span class=P>// Complete Insn
</span><span class=P>`define S_FIN 11    </span><span class=P>// Finish
</span><span class=P>`endif
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>/**** TLB                                                                                      ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="334"></a><span class=P>`define PTE_V_MASK  32'h1
</span><a name="335"></a><span class=P>`define PTE_R_MASK  32'h2
</span><a name="336"></a><span class=P>`define PTE_W_MASK  32'h4
</span><a name="337"></a><span class=P>`define PTE_X_MASK  32'h8
</span><a name="338"></a><span class=P>`define PTE_U_MASK  32'h10
</span><a name="339"></a><span class=P>`define PTE_A_MASK  32'h40
</span><a name="340"></a><span class=P>`define PTE_D_MASK  32'h80
</span>
<a name="342"></a><span class=P>`define ACCESS_READ     0
</span><a name="343"></a><span class=P>`define ACCESS_WRITE    1
</span><a name="344"></a><span class=P>`define ACCESS_CODE     2
</span>
<a name="346"></a><span class=P>`define LEVELS      2
</span><a name="347"></a><span class=P>`define PTE_SIZE    4
</span><a name="348"></a><span class=P>`define PAGE_SIZE   (1 &lt;&lt; 12)
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** exception &amp; interrupt                                                                    ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="353"></a><span class=P>`define CAUSE_INTERRUPT 32'h80000000
</span>
<span class=P>// EXEPTION CODE
</span><a name="356"></a><span class=P>`define CAUSE_MISALIGNED_FETCH      32'h0
</span><a name="357"></a><span class=P>`define CAUSE_FAULT_FETCH           32'h1
</span><a name="358"></a><span class=P>`define CAUSE_ILLEGAL_INSTRUCTION   32'h2
</span><a name="359"></a><span class=P>`define CAUSE_BREAKPOINT            32'h3
</span><a name="360"></a><span class=P>`define CAUSE_MISALIGNED_LOAD       32'h4
</span><a name="361"></a><span class=P>`define CAUSE_FAULT_LOAD            32'h5
</span><a name="362"></a><span class=P>`define CAUSE_MISALIGNED_STORE      32'h6
</span><a name="363"></a><span class=P>`define CAUSE_FAULT_STORE           32'h7
</span><a name="364"></a><span class=P>`define CAUSE_USER_ECALL            32'h8
</span><a name="365"></a><span class=P>`define CAUSE_SUPERVISOR_ECALL      32'h9
</span><a name="366"></a><span class=P>`define CAUSE_HYPERVISOR_ECALL      32'ha
</span><a name="367"></a><span class=P>`define CAUSE_MACHINE_ECALL         32'hb
</span><a name="368"></a><span class=P>`define CAUSE_FETCH_PAGE_FAULT      32'hc
</span><a name="369"></a><span class=P>`define CAUSE_LOAD_PAGE_FAULT       32'hd
</span><a name="370"></a><span class=P>`define CAUSE_STORE_PAGE_FAULT      32'hf
</span>



<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** CSR Addr                                                                                 ****/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>// User-Mode
</span><a name="379"></a><span class=P>`define CSR_USTATUS     12'h000
</span><a name="380"></a><span class=P>`define CSR_FFLAGS      12'h001
</span><a name="381"></a><span class=P>`define CSR_FRM         12'h002
</span><a name="382"></a><span class=P>`define CSR_FCSR        12'h003
</span><a name="383"></a><span class=P>`define CSR_UIE         12'h004
</span><a name="384"></a><span class=P>`define CSR_UTVEC       12'h005
</span><a name="385"></a><span class=P>`define CSR_USCRATCH    12'h040
</span><a name="386"></a><span class=P>`define CSR_UEPC        12'h041
</span><a name="387"></a><span class=P>`define CSR_UCAUSE      12'h042
</span><a name="388"></a><span class=P>`define CSR_UTVAL       12'h043
</span><a name="389"></a><span class=P>`define CSR_UIP         12'h044
</span><a name="390"></a><span class=P>`define CSR_CYCLE       12'hc00
</span><a name="391"></a><span class=P>`define CSR_TIME        12'hc01
</span><a name="392"></a><span class=P>`define CSR_INSTRET     12'hc02
</span>
<span class=P>// Superviser-Mode
</span><a name="395"></a><span class=P>`define CSR_SSTATUS     12'h100
</span><a name="396"></a><span class=P>`define CSR_SEDELEG     12'h102
</span><a name="397"></a><span class=P>`define CSR_SIDELEG     12'h103
</span><a name="398"></a><span class=P>`define CSR_SIE         12'h104
</span><a name="399"></a><span class=P>`define CSR_STVEC       12'h105
</span><a name="400"></a><span class=P>`define CSR_SCOUNTEREN  12'h106
</span><a name="401"></a><span class=P>`define CSR_SSCRATCH    12'h140
</span><a name="402"></a><span class=P>`define CSR_SEPC        12'h141
</span><a name="403"></a><span class=P>`define CSR_SCAUSE      12'h142
</span><a name="404"></a><span class=P>`define CSR_STVAL       12'h143
</span><a name="405"></a><span class=P>`define CSR_SIP         12'h144
</span><a name="406"></a><span class=P>`define CSR_SATP        12'h180
</span>
<span class=P>// Machine-Mode
</span><a name="409"></a><span class=P>`define CSR_MVENDORID   12'hf11
</span><a name="410"></a><span class=P>`define CSR_MARCHID     12'hf12
</span><a name="411"></a><span class=P>`define CSR_MIMPID      12'hf13
</span><a name="412"></a><span class=P>`define CSR_MHARTID     12'hf14
</span><a name="413"></a><span class=P>`define CSR_MSTATUS     12'h300
</span><a name="414"></a><span class=P>`define CSR_MISA        12'h301
</span><a name="415"></a><span class=P>`define CSR_MEDELEG     12'h302
</span><a name="416"></a><span class=P>`define CSR_MIDELEG     12'h303
</span><a name="417"></a><span class=P>`define CSR_MIE         12'h304
</span><a name="418"></a><span class=P>`define CSR_MTVEC       12'h305
</span><a name="419"></a><span class=P>`define CSR_MCOUNTEREN  12'h306
</span><a name="420"></a><span class=P>`define CSR_MSCRATCH    12'h340
</span><a name="421"></a><span class=P>`define CSR_MEPC        12'h341
</span><a name="422"></a><span class=P>`define CSR_MCAUSE      12'h342
</span><a name="423"></a><span class=P>`define CSR_MTVAL       12'h343
</span><a name="424"></a><span class=P>`define CSR_MIP         12'h344
</span><a name="425"></a><span class=P>`define CSR_MCYCLE      12'hb00
</span><a name="426"></a><span class=P>`define CSR_MINSTRET    12'hb02
</span><a name="427"></a><span class=P>`define CSR_MCYCLEH     12'hb80
</span><a name="428"></a><span class=P>`define CSR_MINSTRETH   12'hb82
</span><a name="429"></a><span class=P>`define CSR_CYCLEH      12'hc80
</span><a name="430"></a><span class=P>`define CSR_TIMEH       12'hc81
</span><a name="431"></a><span class=P>`define CSR_INSTRETH    12'hc82
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** CSR Mask                                                                                 ****/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>// PRIV MODE
</span><a name="437"></a><span class=P>`define PRIV_U 0
</span><a name="438"></a><span class=P>`define PRIV_S 1
</span><a name="439"></a><span class=P>`define PRIV_H 2
</span><a name="440"></a><span class=P>`define PRIV_M 3
</span>
<span class=P>// CSR Masks
</span><a name="443"></a><span class=P>`define COUNTEREN_MASK  32'h5   </span><span class=P>// ((1 &lt;&lt; 0) | (1 &lt;&lt; 2))
</span>
<a name="445"></a><span class=P>`define MSTATUS_UIE     32'h1       </span><span class=P>// (1 &lt;&lt; 0)
</span><a name="446"></a><span class=P>`define MSTATUS_SIE     32'h2       </span><span class=P>// (1 &lt;&lt; 1)
</span><a name="447"></a><span class=P>`define MSTATUS_HIE     32'h4       </span><span class=P>// (1 &lt;&lt; 2)
</span><a name="448"></a><span class=P>`define MSTATUS_MIE     32'h8       </span><span class=P>// (1 &lt;&lt; 3)
</span><a name="449"></a><span class=P>`define MSTATUS_UPIE    32'h10      </span><span class=P>// (1 &lt;&lt; 4)
</span><a name="450"></a><span class=P>`define MSTATUS_SPIE    32'h20      </span><span class=P>// (1 &lt;&lt; 5)
</span><a name="451"></a><span class=P>`define MSTATUS_HPIE    32'h40      </span><span class=P>// (1 &lt;&lt; 6)
</span><a name="452"></a><span class=P>`define MSTATUS_MPIE    32'h80      </span><span class=P>// (1 &lt;&lt; 7)
</span><a name="453"></a><span class=P>`define MSTATUS_SPP     32'h100     </span><span class=P>// (1 &lt;&lt; 8)
</span><a name="454"></a><span class=P>`define MSTATUS_HPP     32'h600     </span><span class=P>// (3 &lt;&lt; 9)
</span><a name="455"></a><span class=P>`define MSTATUS_MPP     32'h1800    </span><span class=P>// (3 &lt;&lt; 11)
</span><a name="456"></a><span class=P>`define MSTATUS_FS      32'h6000    </span><span class=P>// (3 &lt;&lt; 13)
</span><a name="457"></a><span class=P>`define MSTATUS_XS      32'h18000   </span><span class=P>// (3 &lt;&lt; 15)
</span><a name="458"></a><span class=P>`define MSTATUS_MPRV    32'h20000   </span><span class=P>// (1 &lt;&lt; 17)
</span><a name="459"></a><span class=P>`define MSTATUS_SUM     32'h40000   </span><span class=P>// (1 &lt;&lt; 18)
</span><a name="460"></a><span class=P>`define MSTATUS_MXR     32'h80000   </span><span class=P>// (1 &lt;&lt; 19)
</span>
<a name="462"></a><span class=P>`define MSTATUS_SPIE_SHIFT  5
</span><a name="463"></a><span class=P>`define MSTATUS_MPIE_SHIFT  7
</span><a name="464"></a><span class=P>`define MSTATUS_SPP_SHIFT   8
</span><a name="465"></a><span class=P>`define MSTATUS_MPP_SHIFT   11
</span><a name="466"></a><span class=P>`define MSTATUS_FS_SHIFT    13
</span>
<a name="468"></a><span class=P>`define MSTATUS_MASK    32'h000e79bb
</span><a name="469"></a><span class=P>`define SSTATUS_MASK0   32'h000de133
</span><a name="470"></a><span class=P>`define SSTATUS_MASK    `SSTATUS_MASK0
</span>
<a name="472"></a><span class=P>`define MIP_USIP        32'h1   </span><span class=P>// (1 &lt;&lt; 0)
</span><a name="473"></a><span class=P>`define MIP_SSIP        32'h2   </span><span class=P>// (1 &lt;&lt; 1)
</span><a name="474"></a><span class=P>`define MIP_HSIP        32'h4   </span><span class=P>// (1 &lt;&lt; 2)
</span><a name="475"></a><span class=P>`define MIP_MSIP        32'h8   </span><span class=P>// (1 &lt;&lt; 3)
</span><a name="476"></a><span class=P>`define MIP_UTIP        32'h10   </span><span class=P>// (1 &lt;&lt; 4)
</span><a name="477"></a><span class=P>`define MIP_STIP        32'h20  </span><span class=P>// (1 &lt;&lt; 5)
</span><a name="478"></a><span class=P>`define MIP_HTIP        32'h40  </span><span class=P>// (1 &lt;&lt; 6)
</span><a name="479"></a><span class=P>`define MIP_MTIP        32'h80  </span><span class=P>// (1 &lt;&lt; 7)
</span><a name="480"></a><span class=P>`define MIP_UEIP        32'h100  </span><span class=P>// (1 &lt;&lt; 8)
</span><a name="481"></a><span class=P>`define MIP_SEIP        32'h200 </span><span class=P>// (1 &lt;&lt; 9)
</span><a name="482"></a><span class=P>`define MIP_HEIP        32'h400 </span><span class=P>// (1 &lt;&lt; 10)
</span><a name="483"></a><span class=P>`define MIP_MEIP        32'h800 </span><span class=P>// (1 &lt;&lt; 11)
</span>

<span class=P>// Write CSR
</span><a name="487"></a><span class=P>`define WCSR_MASK1  32'hffff    </span><span class=P>// ((1 &lt;&lt; (CAUSE_STORE_PAGE_FAULT + 1)) - 1;)
</span><a name="488"></a><span class=P>`define WCSR_MASK2  (`MIP_SSIP | `MIP_STIP | `MIP_SEIP)
</span><a name="489"></a><span class=P>`define WCSR_MASK3  (`MIP_MSIP | `MIP_MTIP | `MIP_SSIP | `MIP_STIP | `MIP_SEIP)
</span><a name="490"></a><span class=P>`define WCSR_MASK4  (`MIP_MSIP | `MIP_SSIP | `MIP_STIP) </span><span class=P>// allow clearing MIP_MSIP
</span>
<a name="492"></a><span class=P>`define MASK_STATUS (`MSTATUS_MASK &amp; ~`MSTATUS_FS)
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** VirtIO                                                                                   ****/</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>// Console
</span><a name="498"></a><span class=P>`define CONSOLE_MAGIC_VALUE         32'h74726976
</span><a name="499"></a><span class=P>`define CONSOLE_VERSION             2
</span><a name="500"></a><span class=P>`define CONSOLE_DEVICE_ID           3
</span><a name="501"></a><span class=P>`define CONSOLE_VENDOR_ID           32'hffff
</span><a name="502"></a><span class=P>`define CONSOLE_DEVICE_FEATURES     1
</span><a name="503"></a><span class=P>`define CONSOLE_CONFIG_GENERATION   0
</span>
<span class=P>// Disk
</span><a name="506"></a><span class=P>`define DISK_MAGIC_VALUE            32'h74726976
</span><a name="507"></a><span class=P>`define DISK_VERSION                2
</span><a name="508"></a><span class=P>`define DISK_DEVICE_ID              2
</span><a name="509"></a><span class=P>`define DISK_VENDOR_ID              32'hffff
</span><a name="510"></a><span class=P>`define DISK_DEVICE_FEATURES        1
</span><a name="511"></a><span class=P>`define DISK_CONFIG_GENERATION      0
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** Micro Controller                                                                         ****/</span>
<span class=P>/**************************************************************************************************/</span>
<a name="516"></a><span class=P>`define MODE_ADDR 32'h40009000
</span><a name="517"></a><span class=P>`define QNUM_ADDR 32'h40009004
</span><a name="518"></a><span class=P>`define QSEL_ADDR 32'h40009008
</span><a name="519"></a><span class=P>`define CONQ_ADDR 20'h4000a
</span><a name="520"></a><span class=P>`define DISQ_ADDR 20'h4000b
</span><a name="521"></a><span class=P>`define KEYQ_ADDR 32'h4000c000
</span><span class=M>`endif</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC (Mini Kuroda/RISC-V)                       since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** opecode defines v0.01                                                                    ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=P>`ifndef __OPCODES_VH__
</span><a name="530"></a><span class=P>`define __OPCODES_VH__
</span><span class=P>/**************************************************************************************************/</span>
<span class=P>/**** OPCODE                                                                                   ****/</span>
<span class=P>/**************************************************************************************************/</span>

<a name="535"></a><span class=P>`define OPCODE_OP______ 7'h33
</span><a name="536"></a><span class=P>`define OPCODE_OP_FP___ 7'h53
</span><a name="537"></a><span class=P>`define OPCODE_AMO_____ 7'h2F
</span><a name="538"></a><span class=P>`define OPCODE_OP_IMM__ 7'h13
</span><a name="539"></a><span class=P>`define OPCODE_LOAD____ 7'h03
</span><a name="540"></a><span class=P>`define OPCODE_LOAD_FP_ 7'h07
</span><a name="541"></a><span class=P>`define OPCODE_JALR____ 7'h67
</span><a name="542"></a><span class=P>`define OPCODE_STORE___ 7'h23
</span><a name="543"></a><span class=P>`define OPCODE_STORE_FP 7'h27
</span><a name="544"></a><span class=P>`define OPCODE_BRANCH__ 7'h63
</span><a name="545"></a><span class=P>`define OPCODE_LUI_____ 7'h37
</span><a name="546"></a><span class=P>`define OPCODE_AUIPC___ 7'h17
</span><a name="547"></a><span class=P>`define OPCODE_JAL_____ 7'h6F
</span><a name="548"></a><span class=P>`define OPCODE_JALR____ 7'h67
</span><a name="549"></a><span class=P>`define OPCODE_MADD____ 7'h43
</span><a name="550"></a><span class=P>`define OPCODE_MSUB____ 7'h47
</span><a name="551"></a><span class=P>`define OPCODE_NMADD___ 7'h4F
</span><a name="552"></a><span class=P>`define OPCODE_NMSUB___ 7'h4B
</span><a name="553"></a><span class=P>`define OPCODE_MISC_MEM 7'h0F
</span><a name="554"></a><span class=P>`define OPCODE_SYSTEM__ 7'h73
</span>
<span class=P>//special
</span><a name="557"></a><span class=P>`define OPCODE_HALT____ 7'h7F
</span>
<span class=P>/**************************************************************************************************/</span>
<span class=P>/**** FUNCT                                                                                    ****/</span>
<span class=P>/**************************************************************************************************/</span>

<span class=P>// OP_I
</span><a name="564"></a><span class=P>`define FUNCT3_ADD___ 3'h0
</span><a name="565"></a><span class=P>`define FUNCT3_SLL___ 3'h1
</span><a name="566"></a><span class=P>`define FUNCT3_SLT___ 3'h2
</span><a name="567"></a><span class=P>`define FUNCT3_SLTU__ 3'h3
</span><a name="568"></a><span class=P>`define FUNCT3_XOR___ 3'h4
</span><a name="569"></a><span class=P>`define FUNCT3_SRL___ 3'h5
</span><a name="570"></a><span class=P>`define FUNCT3_OR____ 3'h6
</span><a name="571"></a><span class=P>`define FUNCT3_AND___ 3'h7
</span>
<span class=P>// OP_M
</span><a name="574"></a><span class=P>`define FUNCT3_MUL___ 3'h0
</span><a name="575"></a><span class=P>`define FUNCT3_MULH__ 3'h1
</span><a name="576"></a><span class=P>`define FUNCT3_MULHSU 3'h2
</span><a name="577"></a><span class=P>`define FUNCT3_MULHU_ 3'h3
</span><a name="578"></a><span class=P>`define FUNCT3_DIV___ 3'h4
</span><a name="579"></a><span class=P>`define FUNCT3_DIVU__ 3'h5
</span><a name="580"></a><span class=P>`define FUNCT3_REM___ 3'h6
</span><a name="581"></a><span class=P>`define FUNCT3_REMU__ 3'h7
</span>
<span class=P>// STORE
</span><a name="584"></a><span class=P>`define FUNCT3_SB____ 3'h0
</span><a name="585"></a><span class=P>`define FUNCT3_SH____ 3'h1
</span><a name="586"></a><span class=P>`define FUNCT3_SW____ 3'h2
</span><a name="587"></a><span class=P>`define FUNCT3_SD____ 3'h3
</span><a name="588"></a><span class=P>`define FUNCT3_FSW___ 3'h2
</span><a name="589"></a><span class=P>`define FUNCT3_FSD___ 3'h3
</span>
<span class=P>// LOAD
</span><a name="592"></a><span class=P>`define FUNCT3_LB____ 3'h0
</span><a name="593"></a><span class=P>`define FUNCT3_LH____ 3'h1
</span><a name="594"></a><span class=P>`define FUNCT3_LW____ 3'h2
</span><a name="595"></a><span class=P>`define FUNCT3_LD____ 3'h3
</span><a name="596"></a><span class=P>`define FUNCT3_LBU___ 3'h4
</span><a name="597"></a><span class=P>`define FUNCT3_LHU___ 3'h5
</span><a name="598"></a><span class=P>`define FUNCT3_LWU___ 3'h6
</span><a name="599"></a><span class=P>`define FUNCT3_FLW___ 3'h2
</span><a name="600"></a><span class=P>`define FUNCT3_FLD___ 3'h3
</span>
<span class=P>// BRANCH
</span><a name="603"></a><span class=P>`define FUNCT3_BEQ___ 3'h0
</span><a name="604"></a><span class=P>`define FUNCT3_BNE___ 3'h1
</span><a name="605"></a><span class=P>`define FUNCT3_BLT___ 3'h4
</span><a name="606"></a><span class=P>`define FUNCT3_BGE___ 3'h5
</span><a name="607"></a><span class=P>`define FUNCT3_BLTU__ 3'h6
</span><a name="608"></a><span class=P>`define FUNCT3_BGEU__ 3'h7
</span>
<span class=P>// MISC_MEM
</span><a name="611"></a><span class=P>`define FUNCT3_FENCE_ 3'h0
</span><a name="612"></a><span class=P>`define FUNCT3_FENCEI 3'h1
</span>
<span class=P>// SYSTEM
</span><a name="615"></a><span class=P>`define FUNCT3_PRIV__ 3'h0
</span><a name="616"></a><span class=P>`define FUNCT3_CSRRW_ 3'h1
</span><a name="617"></a><span class=P>`define FUNCT3_CSRRS_ 3'h2
</span><a name="618"></a><span class=P>`define FUNCT3_CSRRC_ 3'h3
</span><a name="619"></a><span class=P>`define FUNCT3_CSRRWI 3'h5
</span><a name="620"></a><span class=P>`define FUNCT3_CSRRSI 3'h6
</span><a name="621"></a><span class=P>`define FUNCT3_CSRRCI 3'h7
</span>
<a name="623"></a><span class=P>`define FUNCT12_ECALL_ 12'h000
</span><a name="624"></a><span class=P>`define FUNCT12_EBREAK 12'h001
</span><a name="625"></a><span class=P>`define FUNCT12_ERET__ 12'h100
</span><a name="626"></a><span class=P>`define FUNCT12_MRET__ 12'h302
</span><a name="627"></a><span class=P>`define FUNCT12_SRET__ 12'h102
</span><a name="628"></a><span class=P>`define FUNCT12_URET__ 12'h002
</span><a name="629"></a><span class=P>`define FUNCT12_WFI___ 12'h105
</span><a name="630"></a><span class=P>`define FUNCT7_SFENCE_VMA 5'h09
</span>
<span class=P>// AMO
</span><a name="633"></a><span class=P>`define FUNCT5_AMO_LR__ 5'h02
</span><a name="634"></a><span class=P>`define FUNCT5_AMO_SC__ 5'h03
</span><a name="635"></a><span class=P>`define FUNCT5_AMO_SWAP 5'h01
</span><a name="636"></a><span class=P>`define FUNCT5_AMO_ADD_ 5'h00
</span><a name="637"></a><span class=P>`define FUNCT5_AMO_AND_ 5'h0c
</span><a name="638"></a><span class=P>`define FUNCT5_AMO_OR__ 5'h08
</span><a name="639"></a><span class=P>`define FUNCT5_AMO_XOR_ 5'h04
</span><a name="640"></a><span class=P>`define FUNCT5_AMO_MIN_ 5'h10
</span><a name="641"></a><span class=P>`define FUNCT5_AMO_MINU 5'h18
</span><a name="642"></a><span class=P>`define FUNCT5_AMO_MAX_ 5'h14
</span><a name="643"></a><span class=P>`define FUNCT5_AMO_MAXU 5'h1c
</span>
<a name="645"></a><span class=P>`define AMO_FAILURE_CODE 1
</span><a name="646"></a><span class=P>`define AMO_SUCCESS_CODE 0
</span>
<span class=M>`endif</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**************************************************************************************************/</span>

</pre>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return ""; }
function first_page() { return ""; }
var extra_info = [
[]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Mon Oct 30 14:02:56 2023</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
../rlsoc-tn/rvsoc_src_ver053/src/define.vh</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
