<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>../src/rvcorem.v</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return ""; }
function last_page() { return "rvcorem.v.p2.html"; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<center><table class=NB cols=2 ><tr><td align="center" width="50%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">1</font></td><td align="center" width="50%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">2</a></td></tr></table></center>
<pre>
<span class=C>// modified: Laurentiu-Cristian Duca, date: 20240322
</span><span class=C>// spdx license identifier MIT
</span>

<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC                                            since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** The Processor v0.01                                                                      ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`default_nettype</span> none
<span class=C>/**************************************************************************************************/</span>
<span class=M>`include</span> <a  onClick="return qs(event,this,0)"  class=S href="define.vh.html">&quot;define.vh&quot;</a>

<span class=C>/***** 2 read 1 write port, register file                                                     *****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_regfile"></a><a  href="rvcorem.v.html#m_RVCoreM_regs"><img alt="[Up: m_RVCoreM regs]" align=bottom border=0 src="v2html-up.gif"></a><a  href="microc.v.html#m_RVuc_regs"><img alt="[Up: m_RVuc regs]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_regfile</span><a  href="hierarchy-m.html#m_regfile"><img align=top border=0 alt="Index" src="v2html-i.gif"></a> (<a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#16">CLK</a>, <a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#17">w_rs1</a>, <a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#17">w_rs2</a>, <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#18">w_rdata1</a>, <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#18">w_rdata2</a>, <a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#19">w_we</a>, <a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#20">rd</a>, <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#21">w_wdata</a>, <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#22">w_hart_id</a>);
<a name="16"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#247">CLK</a>;
<a name="17"></a>    <span class=K>input</span>  <span class=K>wire</span> [ 4:0] <a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#247">w_rs1</a>, <a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#247">w_rs2</a>;
<a name="18"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#26">w_rdata1</a>, <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#27">w_rdata2</a>;
<a name="19"></a>    <span class=K>input</span>  <span class=K>wire</span>        <a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#247">w_we</a>;
<a name="20"></a>    <span class=K>input</span>  <span class=K>wire</span> [ 4:0] <a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#247">rd</a>;
<a name="21"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#247">w_wdata</a>;
<a name="22"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#247">w_hart_id</a>;

<a name="24"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#31">mem</a> [0:31];

<a name="26"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,4)"  class=SO href="rvcorem.v.html#18">w_rdata1</a> = (<a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#17">w_rs1</a> == 0) ? 0 : <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#31">mem</a>[<a  onClick="return qs(event,this,2)"  class=SI href="rvcorem.v.html#17">w_rs1</a>];
<a name="27"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,5)"  class=SO href="rvcorem.v.html#18">w_rdata2</a> = (<a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#17">w_rs2</a> == 0) ? 0 : <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#31">mem</a>[<a  onClick="return qs(event,this,3)"  class=SI href="rvcorem.v.html#17">w_rs2</a>];

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,1)"  class=SI href="rvcorem.v.html#16">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,6)"  class=SI href="rvcorem.v.html#19">w_we</a>) <span class=K>begin</span>
<a name="31"></a>            <span class=K>if</span>(<a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#20">rd</a>!=0) <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#24">mem</a>[<a  onClick="return qs(event,this,7)"  class=SI href="rvcorem.v.html#20">rd</a>] &lt;= <a  onClick="return qs(event,this,8)"  class=SI href="rvcorem.v.html#21">w_wdata</a>;
        <span class=K>end</span>
    <span class=K>end</span>

<a name="35"></a>    <span class=K>integer</span> <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>;
    <span class=K>initial</span> <span class=K>begin</span>
        <span class=K>for</span>(<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>=0; <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>&lt;32; <a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>=<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>+1) <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#31">mem</a>[<a  onClick="return qs(event,this,11)"  class=SIT href="rvcorem.v.html#35">i</a>] = 0;
<span class=M>`ifdef</span> <a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#44">LINUX</a>
        <a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#24">mem</a>[10] = <a  onClick="return qs(event,this,9)"  class=SI href="rvcorem.v.html#22">w_hart_id</a>;
        <span class=C>//mem[11] = `D_INITD_ADDR + `D_START_PC;
</span>	<a  onClick="return qs(event,this,10)"  class=SR href="rvcorem.v.html#24">mem</a>[11] = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#226">D_INITD_ADDR</a>;
<span class=M>`endif</span>
    <span class=K>end</span>
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/***** main processor                                                                         *****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_RVCoreM"></a><a  href="cpummu.v.html#m_cpummu_p"><img alt="[Up: m_cpummu p]" align=bottom border=0 src="v2html-up.gif"></a><a  href="main.v.html#m_main_p"><img alt="[Up: m_main p]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_RVCoreM</span><a  href="hierarchy-m.html#m_RVCoreM"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#54">RST_X</a>, <a  onClick="return qs(event,this,14)"  class=SI href="rvcorem.v.html#54">w_stall</a>, <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#56">w_hart_id</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#55">w_ipi</a>, <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#65">r_halt</a>, <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#68">w_insn_addr</a>, <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#70">w_data_addr</a>, <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#57">w_insn_data</a>, <a  onClick="return qs(event,this,21)"  class=SI href="rvcorem.v.html#57">w_data_data</a>,
                <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#67">w_data_wdata</a>, <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#81">w_data_we</a>, <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#69">w_data_ctrl</a>, <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#73">w_priv</a>, <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#74">w_satp</a>, <a  onClick="return qs(event,this,27)"  class=SO href="rvcorem.v.html#75">w_mstatus</a>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>,
                <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.html#72">w_mtimecmp</a>, <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#58">w_wmtimecmp</a>, <a  onClick="return qs(event,this,31)"  class=SI href="rvcorem.v.html#59">w_clint_we</a>, <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.html#76">w_mip</a>, <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#60">w_wmip</a>, <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#61">w_plic_we</a>, <a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>, <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>,
                <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#80">w_tlb_req</a>, <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#82">w_tlb_flush</a>, <a  onClick="return qs(event,this,39)"  class=SO href="rvcorem.v.html#77">w_core_pc</a>, <a  onClick="return qs(event,this,40)"  class=SO href="rvcorem.v.html#78">w_core_ir</a>, <a  onClick="return qs(event,this,41)"  class=SO href="rvcorem.v.html#66">w_core_odata</a>, <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#79">w_init_stage</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>, <a  onClick="return qs(event,this,46)"  class=SOR href="rvcorem.v.html#87">pc_stip</a>,
                <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a>, <a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a>, <a  onClick="return qs(event,this,49)"  class=SO href="rvcorem.v.html#112">hart_sc</a>, <a  onClick="return qs(event,this,50)"  class=SI href="rvcorem.v.html#113">w_oh_reserved</a>, <a  onClick="return qs(event,this,51)"  class=SI href="rvcorem.v.html#114">w_oh_load_res</a>, <a  onClick="return qs(event,this,52)"  class=SI href="rvcorem.v.html#113">w_oh_sc</a>, <a  onClick="return qs(event,this,53)"  class=SI href="rvcorem.v.html#115">w_oh_pc</a>, <a  onClick="return qs(event,this,54)"  class=SI href="rvcorem.v.html#116">w_grant</a>, <a  onClick="return qs(event,this,55)"  class=SOR href="rvcorem.v.html#682">r_ipi_taken</a>);
<a name="54"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,12)"  class=SI href="cpummu.v.html#111">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="cpummu.v.html#112">RST_X</a>, <a  onClick="return qs(event,this,14)"  class=SI href="main.v.html#399">w_stall</a>;
<a name="55"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,16)"  class=SI href="cpummu.v.html#115">w_ipi</a>;
<a name="56"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,15)"  class=SI href="cpummu.v.html#114">w_hart_id</a>;
<a name="57"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,20)"  class=SI href="cpummu.v.html#119">w_insn_data</a>, <a  onClick="return qs(event,this,21)"  class=SI href="cpummu.v.html#120">w_data_data</a>;
<a name="58"></a>    <span class=K>input</span>  <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,30)"  class=SI href="cpummu.v.html#129">w_wmtimecmp</a>;
<a name="59"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,31)"  class=SI href="cpummu.v.html#130">w_clint_we</a>;
<a name="60"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,33)"  class=SI href="cpummu.v.html#132">w_wmip</a>;
<a name="61"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,34)"  class=SI href="cpummu.v.html#133">w_plic_we</a>;
<a name="62"></a>    <span class=K>input</span>  <span class=K>wire</span>         <a  onClick="return qs(event,this,35)"  class=SI href="cpummu.v.html#134">w_busy</a>;
<a name="63"></a>    <span class=K>input</span>  <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,36)"  class=SI href="cpummu.v.html#135">w_pagefault</a>;

<a name="65"></a>    <span class=K>output</span> <span class=K>reg</span>          <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.p2.html#1007">r_halt</a>;         <span class=C>// register, set if the processor is halted
</span><a name="66"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,41)"  class=SO href="rvcorem.v.p2.html#1012">w_core_odata</a>;   <span class=C>// constant 0
</span><a name="67"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#439">w_data_wdata</a>;   <span class=C>// from r_data_wdata
</span><a name="68"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#216">w_insn_addr</a>;    <span class=C>// from r_insn_addr
</span><a name="69"></a>    <span class=K>output</span> <span class=K>wire</span> [2:0]   <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#400">w_data_ctrl</a>;    <span class=C>// from r_data_ctrl
</span><a name="70"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#401">w_data_addr</a>;    <span class=C>// from r_mem_addr
</span><a name="71"></a>    <span class=K>input</span> <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,28)"  class=SI href="cpummu.v.html#127">w_mtime</a>;        
<a name="72"></a>    <span class=K>output</span> <span class=K>wire</span> [63:0]  <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.p2.html#1003">w_mtimecmp</a>;     <span class=C>// from register mtimecmp
</span><a name="73"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#999">w_priv</a>;         <span class=C>// from register priv
</span><a name="74"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#1000">w_satp</a>;         <span class=C>// from register satp
</span><a name="75"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,27)"  class=SO href="rvcorem.v.p2.html#1001">w_mstatus</a>;      <span class=C>// from register mstatus
</span><a name="76"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,32)"  class=SO href="rvcorem.v.p2.html#1004">w_mip</a>;          <span class=C>// from register mip
</span><a name="77"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,39)"  class=SO href="rvcorem.v.p2.html#1010">w_core_pc</a>;      <span class=C>// from register pc
</span><a name="78"></a>    <span class=K>output</span> <span class=K>wire</span> [31:0]  <a  onClick="return qs(event,this,40)"  class=SO href="rvcorem.v.p2.html#1011">w_core_ir</a>;      <span class=C>// from r_ir
</span><a name="79"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#190">w_init_stage</a>;   <span class=C>// from r_init_stage
</span><a name="80"></a>    <span class=K>output</span> <span class=K>wire</span>  [1:0]  <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#997">w_tlb_req</a>;      <span class=C>// from r_tlb_req
</span><a name="81"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#998">w_data_we</a>;      <span class=C>// from r_data_we, write enable for DRAM memory
</span><a name="82"></a>    <span class=K>output</span> <span class=K>wire</span>         <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#914">w_tlb_flush</a>;    <span class=C>// from r_tlb_flush
</span>
    <span class=C>/***** registers and CPU architecture state ***************************************************/</span>
<a name="85"></a>    <span class=K>output</span> <span class=K>reg</span>   [3:0] <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>   = 0;            <span class=C>// State for Multi cycle Processor
</span><a name="86"></a>    <span class=K>output</span> <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>             = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#170">D_START_PC</a>;  <span class=C>// Program Counter
</span><a name="87"></a>    <span class=K>output</span> <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,46)"  class=SOR href="rvcorem.v.html#87">pc_stip</a> = 0;

<a name="89"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>        = 0;            <span class=C>///// CSRs
</span><a name="90"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>          = 0;            <span class=C>//
</span><a name="91"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#851">mscratch</a>       = 0;            <span class=C>//
</span><a name="92"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#771">mepc</a>           = 0;            <span class=C>//
</span><a name="93"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#770">mcause</a>         = 0;            <span class=C>//
</span><a name="94"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#772">mtval</a>          = 0;            <span class=C>//
</span><a name="95"></a>    <span class=K>wire</span>  [31:0] <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>        = <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#56">w_hart_id</a>;            <span class=C>//
</span><a name="96"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#96">misa</a>           = 32'h00141105; <span class=C>// RV32acim, Machine ISA register (MISA)
</span><a name="97"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>            = 0;            <span class=C>//
</span><a name="98"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a>            = 0;            <span class=C>//
</span><a name="99"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#860">medeleg</a>        = 0;            <span class=C>//
</span><a name="100"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>        = 0;            <span class=C>//
</span><a name="101"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#850">mcounteren</a>     = 0;            <span class=C>//
</span><a name="102"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#842">stvec</a>          = 0;            <span class=C>//
</span><a name="103"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#844">sscratch</a>       = 0;            <span class=C>//
</span><a name="104"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#765">sepc</a>           = 0;            <span class=C>//
</span><a name="105"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#764">scause</a>         = 0;            <span class=C>//
</span><a name="106"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#766">stval</a>          = 0;            <span class=C>//
</span><a name="107"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#867">satp</a>           = 0;            <span class=C>//
</span><a name="108"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#843">scounteren</a>     = 0;            <span class=C>//
</span>    
<a name="110"></a>    <span class=K>output</span> <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a>= 0;            <span class=C>// For aomic LR/SC
</span><a name="111"></a>    <span class=K>output</span> <span class=K>reg</span>  <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a>       = 0;            <span class=C>// For aomic LR/SC
</span><a name="112"></a>    <span class=K>output</span> <span class=K>wire</span> <a  onClick="return qs(event,this,49)"  class=SO href="rvcorem.v.html#117">hart_sc</a>           ;
<a name="113"></a>    <span class=K>input</span> <span class=K>wire</span> <a  onClick="return qs(event,this,50)"  class=SI href="cpummu.v.html#150">w_oh_reserved</a>, <a  onClick="return qs(event,this,52)"  class=SI href="cpummu.v.html#152">w_oh_sc</a>;
<a name="114"></a>    <span class=K>input</span> <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,51)"  class=SI href="cpummu.v.html#151">w_oh_load_res</a>;
<a name="115"></a>    <span class=K>input</span> <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,53)"  class=SI href="cpummu.v.html#153">w_oh_pc</a>;
<a name="116"></a>    <span class=K>input</span> <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,54)"  class=SI href="cpummu.v.html#154">w_grant</a>;
<a name="117"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,49)"  class=SO href="rvcorem.v.html#112">hart_sc</a> = <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a>;

<a name="119"></a>    <span class=K>reg</span>   [1:0] <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>           = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#429">PRIV_M</a>;      <span class=C>// Mode
</span>    <span class=C>//reg  [63:0] w_mtime          = 1;            // w_mtime
</span><a name="121"></a>    <span class=K>reg</span>  [63:0] <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#736">mtimecmp</a>       = 64'h0; 
<a name="122"></a>    <span class=K>reg</span>  [3:0] <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#739">r_was_clint_we</a>  = 0;
<a name="123"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#553">pending_tval</a>   = 0;            <span class=C>//
</span><a name="124"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a> = ~0;        <span class=C>//
</span>
    <span class=C>/***** CPU Stage registers ********************************************************************/</span>
<a name="127"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#200">r_cpc</a>          = 0;            <span class=C>// IF: current PC, the program counter of this insn
</span><a name="128"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,83)"  class=SR href="rvcorem.v.html#128">r_ir_org</a>       = 0;            <span class=C>// IF: NOTE! not used
</span>
<a name="130"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>        = 0;            <span class=C>// CV: set if the fetched insn is a compressed one
</span><a name="131"></a>    <span class=K>output</span> <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>    = 0;            <span class=C>// CV: 32-bit fetched insn
</span><a name="132"></a>    <span class=K>reg</span>  [15:0] <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#235">r_ir16</a>         = 0;
<a name="133"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#562">r_ir16_v</a>       = 0;

<a name="135"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a>       = 0;            <span class=C>// ID: 
</span><a name="136"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#253">r_rd</a>           = 0;            <span class=C>// ID: 
</span><a name="137"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#254">r_rs1</a>          = 0;            <span class=C>// ID: 
</span><a name="138"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#255">r_rs2</a>          = 0;            <span class=C>// ID: 
</span><a name="139"></a>    <span class=K>reg</span>   [2:0] <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>       = 0;            <span class=C>// ID: 
</span><a name="140"></a>    <span class=K>reg</span>   [4:0] <a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#257">r_funct5</a>       = 0;            <span class=C>// ID: 
</span><a name="141"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#258">r_funct7</a>       = 0;            <span class=C>// ID: 
</span><a name="142"></a>    <span class=K>reg</span>  [11:0] <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a>      = 0;            <span class=C>// ID: 
</span><a name="143"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>          = 0;            <span class=C>// ID: 
</span><a name="144"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a>    = 0;            <span class=C>// ID: these are used for the fast control
</span><a name="145"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#267">r_op_AMO_LR</a>    = 0;
<a name="146"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a>      = 0;
<a name="147"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#269">r_op_STORE</a>     = 0;
<a name="148"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a>       = 0;
<a name="149"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#271">r_op_SYS</a>       = 0;
<a name="150"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#272">r_op_ECALL</a>     = 0;
<a name="151"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#273">r_op_SRET</a>      = 0;
<a name="152"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#274">r_op_MRET</a>      = 0;
<a name="153"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#275">r_op_CSR_MSTA</a>  = 0;
<a name="154"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#276">r_op_CSR_SSTA</a>  = 0; 

<a name="156"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a>         = 0;            <span class=C>// OF:
</span><a name="157"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#251">r_rrs2</a>         = 0;            <span class=C>// OF:
</span><a name="158"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#297">r_rcsr</a>         = 0;            <span class=C>// OF:
</span><a name="159"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#298">r_alu_in2</a>      = 0;            <span class=C>// OF:
</span><a name="160"></a>    <span class=K>reg</span>   [6:0] <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#299">r_alu_f7</a>       = 0;            <span class=C>// OF:
</span>
<a name="162"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#321">r_tkn</a>          = 0;            <span class=C>// E1:         // flag for branck taken or untaken
</span><a name="163"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a>       = 0;            <span class=C>// E1:
</span><a name="164"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#293">r_mem_addr</a>     = 0;            <span class=C>// E1:
</span><a name="165"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>      = 0;            <span class=C>// E1:
</span><a name="166"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>  = 0;            <span class=C>// E1:
</span>
<a name="168"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,116)"  class=SR href="rvcorem.v.html#428">r_mem_rdata</a>    = 0;            <span class=C>// LD:
</span><a name="169"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,117)"  class=SR href="rvcorem.v.html#429">r_atom_wdata</a>   = 0;            <span class=C>// E2:
</span>
    <span class=C>/***** Other Registers ************************************************************************/</span>
<a name="172"></a>    <span class=K>reg</span>  [63:0] <a  onClick="return qs(event,this,118)"  class=SR href="rvcorem.v.html#575">e_icount</a>    = 1;
<a name="173"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,119)"  class=SR href="rvcorem.v.html#173">r_if_done</a>   = 0;
<a name="174"></a>    <span class=K>reg</span>  [15:0] <a  onClick="return qs(event,this,120)"  class=SR href="rvcorem.v.html#199">r_if_irl</a>    = 0;
<a name="175"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#601">r_rcsr_t</a>    = 0;
<a name="176"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#500">irq_num</a>     = 0;
<a name="177"></a>    <span class=K>reg</span>   [1:0] <a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>  = 0; <span class=C>/* state in IF state */</span>

    <span class=C>// WB Stage
</span><a name="180"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#442">w_wb_r_data</a>;
<a name="181"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,125)"  class=SW href="rvcorem.v.html#446">w_wb_r_enable</a>;
<a name="182"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#494">w_interrupt_mask</a>;
<a name="183"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,127)"  class=SW href="rvcorem.v.html#495">w_irq_t</a>;
<a name="184"></a>    <span class=K>wire</span> [3:0]  <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>;
    
    <span class=C>/***********************************           INI          ***********************************/</span>
<a name="187"></a>    <span class=K>reg</span> <a  onClick="return qs(event,this,129)"  class=SR href="rvcorem.v.html#188">r_init_stage</a>=0;
<a name="188"></a>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <a  onClick="return qs(event,this,129)"  class=SR href="rvcorem.v.html#187">r_init_stage</a> &lt;= (<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>);
                                        
<a name="190"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,42)"  class=SO href="rvcorem.v.html#79">w_init_stage</a> = <a  onClick="return qs(event,this,129)"  class=SR href="rvcorem.v.html#188">r_init_stage</a>;

    <span class=C>/***********************************           IF           ***********************************/</span>
<a name="193"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#193">w_vadr1</a> = {<a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>[31:2], 2'b0}; <span class=C>// address of the first  2-byte
</span><a name="194"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,131)"  class=SW href="rvcorem.v.html#194">w_vadr2</a> = <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 2;           <span class=C>// address of the second 2-byte
</span><a name="195"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#195">w_nalign4</a> = (<a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>[3:1]==3'b111);   <span class=C>// set when pc is not_align_4byte
</span><a name="196"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,133)"  class=SW href="rvcorem.v.html#196">w_usestate</a> = (<a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#195">w_nalign4</a> &amp;&amp; !<a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#562">r_ir16_v</a>);

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
<a name="199"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#177">r_if_state</a>==1 &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <a  onClick="return qs(event,this,120)"  class=SR href="rvcorem.v.html#174">r_if_irl</a> &lt;= <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#57">w_insn_data</a>[31:16];
<a name="200"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>==~0) <span class=K>begin</span> <a  onClick="return qs(event,this,82)"  class=SR href="rvcorem.v.html#127">r_cpc</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>; <span class=K>end</span>
    <span class=K>end</span>

<a name="203"></a>    <span class=K>wire</span> [1:0] <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#203">w_if_state</a> = ((!(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a> || <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#309">S_CVT</a>)) || <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>!=~0) ? 0 :
                            (<a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>==0 &amp;&amp; <a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#195">w_nalign4</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>)                 ? (<a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#562">r_ir16_v</a>) ? 3 : 1 :
                            (<a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>==1 &amp;&amp;              !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>)                 ? 2 :
                            (<a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>==2 &amp;&amp;              !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>)                 ? 3 : <a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>;
    
<a name="208"></a>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#177">r_if_state</a> &lt;= <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#203">w_if_state</a>;

<a name="210"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,135)"  class=SR href="rvcorem.v.html#212">r_insn_addr</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
<a name="212"></a>        <a  onClick="return qs(event,this,135)"  class=SR href="rvcorem.v.html#210">r_insn_addr</a> &lt;=  (<a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#195">w_nalign4</a> &amp;&amp; <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#562">r_ir16_v</a>) ? <a  onClick="return qs(event,this,131)"  class=SW href="rvcorem.v.html#194">w_vadr2</a> :
                        (<a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#203">w_if_state</a>==2 || <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#203">w_if_state</a>==3) ? <a  onClick="return qs(event,this,131)"  class=SW href="rvcorem.v.html#194">w_vadr2</a> :
                        (<a  onClick="return qs(event,this,133)"  class=SW href="rvcorem.v.html#196">w_usestate</a>) ? <a  onClick="return qs(event,this,130)"  class=SW href="rvcorem.v.html#193">w_vadr1</a> : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>;
    <span class=K>end</span>
<a name="216"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,18)"  class=SO href="rvcorem.v.html#68">w_insn_addr</a> = <a  onClick="return qs(event,this,135)"  class=SR href="rvcorem.v.html#212">r_insn_addr</a>;
      
<a name="218"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#218">w_ir_org</a> = (<a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a> == 3) ? (<a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#562">r_ir16_v</a>) ? {<a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#57">w_insn_data</a>[15:0], <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#235">r_ir16</a>} :
                                                            {<a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#57">w_insn_data</a>[15:0], <a  onClick="return qs(event,this,120)"  class=SR href="rvcorem.v.html#199">r_if_irl</a>} :
                                                            <a  onClick="return qs(event,this,20)"  class=SI href="rvcorem.v.html#57">w_insn_data</a>;

    <span class=C>/***********************************           CVT          ***********************************/</span>
<a name="223"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#223">w_cinsn</a> = (<a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#218">w_ir_org</a>[1:0] != 2'b11); <span class=C>// flag to indicate a compressed instruction
</span>    
<a name="225"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#226">w_ir_t</a>;
<a name="m_RVCoreM_decomp0"></a><a name="226"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_decomp">m_decomp</a> decomp0(<a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#218">w_ir_org</a>, <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#225">w_ir_t</a>);
    
<a name="228"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#228">w_nop</a> = (<a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#226">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#531">OPCODE_OP_FP___</a> ||  
                  <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#226">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#535">OPCODE_LOAD_FP_</a> ||  <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#226">w_ir_t</a>[6:0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#538">OPCODE_STORE_FP</a>);

<a name="231"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,140)"  class=SW href="rvcorem.v.html#231">w_ir</a> = (<a  onClick="return qs(event,this,139)"  class=SW href="rvcorem.v.html#228">w_nop</a>) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#259">RV32_NOP</a> : (<a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#223">w_cinsn</a>) ? <a  onClick="return qs(event,this,138)"  class=SW href="rvcorem.v.html#226">w_ir_t</a> : <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#218">w_ir_org</a>; <span class=C>// instruction
</span>    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#309">S_CVT</a>) <span class=K>begin</span> 
        <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>    &lt;= <a  onClick="return qs(event,this,140)"  class=SW href="rvcorem.v.html#231">w_ir</a>;
<a name="234"></a>        <a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#130">r_cinsn</a> &lt;= <a  onClick="return qs(event,this,137)"  class=SW href="rvcorem.v.html#223">w_cinsn</a>;
<a name="235"></a>        <span class=K>if</span>(!<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <a  onClick="return qs(event,this,85)"  class=SR href="rvcorem.v.html#132">r_ir16</a>  &lt;= <a  onClick="return qs(event,this,136)"  class=SW href="rvcorem.v.html#218">w_ir_org</a>[31:16];
    <span class=K>end</span>

    <span class=C>/***********************************         ID &amp; OF        ***********************************/</span>
<a name="239"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#240">w_imm</a>;
<a name="m_RVCoreM_imm_gen0"></a><a name="240"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_imm_gen">m_imm_gen</a> imm_gen0(<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>, <a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#239">w_imm</a>);

<a name="242"></a>    <span class=K>wire</span> [4:0] <a  onClick="return qs(event,this,142)"  class=SW href="rvcorem.v.html#242">w_rs1</a> = <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[19:15];
<a name="243"></a>    <span class=K>wire</span> [4:0] <a  onClick="return qs(event,this,143)"  class=SW href="rvcorem.v.html#243">w_rs2</a> = <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[24:20];
                      
<a name="245"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,144)"  class=SW href="rvcorem.v.html#247">w_rrs1</a>, <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#247">w_rrs2</a>;
<a name="246"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,146)"  class=SW href="rvcorem.v.html#246">w_regfile_we</a> = (<a  onClick="return qs(event,this,125)"  class=SW href="rvcorem.v.html#446">w_wb_r_enable</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a>);
<a name="m_RVCoreM_regs"></a><a name="247"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.html#m_regfile">m_regfile</a> regs(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>, <a  onClick="return qs(event,this,142)"  class=SW href="rvcorem.v.html#242">w_rs1</a>, <a  onClick="return qs(event,this,143)"  class=SW href="rvcorem.v.html#243">w_rs2</a>, <a  onClick="return qs(event,this,144)"  class=SW href="rvcorem.v.html#245">w_rrs1</a>, <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#245">w_rrs2</a>, <a  onClick="return qs(event,this,146)"  class=SW href="rvcorem.v.html#246">w_regfile_we</a>, <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#136">r_rd</a>, <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#180">w_wb_r_data</a>, <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#56">w_hart_id</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#310">S_ID</a>) <span class=K>begin</span>
<a name="250"></a>        <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#156">r_rrs1</a>    &lt;= <a  onClick="return qs(event,this,144)"  class=SW href="rvcorem.v.html#247">w_rrs1</a>;      <span class=C>// operand which is read from register file
</span><a name="251"></a>        <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#157">r_rrs2</a>    &lt;= <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#247">w_rrs2</a>;      <span class=C>// operand which is read from register file
</span><a name="252"></a>        <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#135">r_opcode</a>  &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0];
<a name="253"></a>        <a  onClick="return qs(event,this,88)"  class=SR href="rvcorem.v.html#136">r_rd</a>      &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[11: 7];
<a name="254"></a>        <a  onClick="return qs(event,this,89)"  class=SR href="rvcorem.v.html#137">r_rs1</a>     &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[19:15];
<a name="255"></a>        <a  onClick="return qs(event,this,90)"  class=SR href="rvcorem.v.html#138">r_rs2</a>     &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[24:20];
<a name="256"></a>        <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a>  &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[14:12];
<a name="257"></a>        <a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#140">r_funct5</a>  &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:27];
<a name="258"></a>        <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#141">r_funct7</a>  &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:25];
<a name="259"></a>        <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#142">r_funct12</a> &lt;= <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20];
<a name="260"></a>        <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#143">r_imm</a>     &lt;= <a  onClick="return qs(event,this,141)"  class=SW href="rvcorem.v.html#240">w_imm</a>;
    <span class=K>end</span>

<a name="263"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,147)"  class=SW href="rvcorem.v.html#263">w_op_priv</a> = (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[14:12]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>);
<a name="264"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,148)"  class=SW href="rvcorem.v.html#264">w_op_csr</a>  = (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[14:12]!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>);
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#310">S_ID</a>) <span class=K>begin</span>      <span class=C>////// ID stage
</span><a name="266"></a>        <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#144">r_op_AMO_SC</a>   &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:27]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#629">FUNCT5_AMO_SC__</a>); <span class=C>// r_funct5 ==
</span><a name="267"></a>        <a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#145">r_op_AMO_LR</a>   &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:27]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#628">FUNCT5_AMO_LR__</a>); <span class=C>// r_funct5 ==
</span><a name="268"></a>        <a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#146">r_op_LOAD</a>     &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#534">OPCODE_LOAD____</a>); <span class=C>// r_opcdde ==
</span><a name="269"></a>        <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#147">r_op_STORE</a>    &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#537">OPCODE_STORE___</a>); <span class=C>// r_opcdde ==
</span><a name="270"></a>        <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#148">r_op_AMO</a>      &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#532">OPCODE_AMO_____</a>); <span class=C>// r_opcdde ==
</span><a name="271"></a>        <a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#149">r_op_SYS</a>      &lt;= (<a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[ 6: 0]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a>); <span class=C>// r_opcdde ==
</span><a name="272"></a>        <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#150">r_op_ECALL</a>    &lt;= (<a  onClick="return qs(event,this,147)"  class=SW href="rvcorem.v.html#263">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#618">FUNCT12_ECALL_</a>);
<a name="273"></a>        <a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#151">r_op_SRET</a>     &lt;= (<a  onClick="return qs(event,this,147)"  class=SW href="rvcorem.v.html#263">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#622">FUNCT12_SRET__</a>);
<a name="274"></a>        <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#152">r_op_MRET</a>     &lt;= (<a  onClick="return qs(event,this,147)"  class=SW href="rvcorem.v.html#263">w_op_priv</a> &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#621">FUNCT12_MRET__</a>);
<a name="275"></a>        <a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#153">r_op_CSR_MSTA</a> &lt;= (<a  onClick="return qs(event,this,148)"  class=SW href="rvcorem.v.html#264">w_op_csr</a>  &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#402">CSR_MSTATUS</a>);
<a name="276"></a>        <a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#154">r_op_CSR_SSTA</a> &lt;= (<a  onClick="return qs(event,this,148)"  class=SW href="rvcorem.v.html#264">w_op_csr</a>  &amp;&amp; <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>[31:20]==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_SSTATUS</a>);
    <span class=K>end</span>
    
    <span class=C>/*********************************** OF ( &amp; compute mem addr &amp; mul) **************************/</span>
<a name="280"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,149)"  class=SW href="rvcorem.v.html#280">w_sin1</a> = <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a>;
<a name="281"></a>    <span class=K>wire</span> signed [31:0] <a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#281">w_sin2</a> = <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#251">r_rrs2</a>;

<a name="283"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,151)"  class=SW href="rvcorem.v.html#283">w_mul_SS</a> = {{32{<a  onClick="return qs(event,this,149)"  class=SW href="rvcorem.v.html#280">w_sin1</a>[31]}},<a  onClick="return qs(event,this,149)"  class=SW href="rvcorem.v.html#280">w_sin1</a>} * {{32{<a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#281">w_sin2</a>[31]}},<a  onClick="return qs(event,this,150)"  class=SW href="rvcorem.v.html#281">w_sin2</a>}; <span class=C>// Note!!
</span><a name="284"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,152)"  class=SW href="rvcorem.v.html#284">w_mul_SU</a> = {{32{<a  onClick="return qs(event,this,149)"  class=SW href="rvcorem.v.html#280">w_sin1</a>[31]}},<a  onClick="return qs(event,this,149)"  class=SW href="rvcorem.v.html#280">w_sin1</a>} * {32'b0, <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#251">r_rrs2</a>};
<a name="285"></a>    <span class=K>wire</span> [63:0] <a  onClick="return qs(event,this,153)"  class=SW href="rvcorem.v.html#285">w_mul_UU</a> = {32'b0, <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a>} * {32'b0, <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#251">r_rrs2</a>};

<a name="287"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,154)"  class=SW href="rvcorem.v.html#287">w_mem_addr</a> = (<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a> || <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#269">r_op_STORE</a>) ? <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a>+<a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a> : (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a>) ? <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a> : 0;
    
<a name="289"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#294">r_mul_SS</a> =0;
<a name="290"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,156)"  class=SR href="rvcorem.v.html#295">r_mul_SU</a> =0;
<a name="291"></a>    <span class=K>reg</span> [63:0]  <a  onClick="return qs(event,this,157)"  class=SR href="rvcorem.v.html#296">r_mul_UU</a> =0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#311">S_OF</a>) <span class=K>begin</span>
<a name="293"></a>        <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#164">r_mem_addr</a> &lt;= <a  onClick="return qs(event,this,154)"  class=SW href="rvcorem.v.html#287">w_mem_addr</a>; <span class=C>// memory address for Load, Store and Atomic
</span><a name="294"></a>        <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#289">r_mul_SS</a>   &lt;= <a  onClick="return qs(event,this,151)"  class=SW href="rvcorem.v.html#283">w_mul_SS</a>;
<a name="295"></a>        <a  onClick="return qs(event,this,156)"  class=SR href="rvcorem.v.html#290">r_mul_SU</a>   &lt;= <a  onClick="return qs(event,this,152)"  class=SW href="rvcorem.v.html#284">w_mul_SU</a>;
<a name="296"></a>        <a  onClick="return qs(event,this,157)"  class=SR href="rvcorem.v.html#291">r_mul_UU</a>   &lt;= <a  onClick="return qs(event,this,153)"  class=SW href="rvcorem.v.html#285">w_mul_UU</a>;
<a name="297"></a>        <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#158">r_rcsr</a>     &lt;= <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#601">r_rcsr_t</a>;
<a name="298"></a>        <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#159">r_alu_in2</a>  &lt;= (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#533">OPCODE_OP_IMM__</a>) ? <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a> : <a  onClick="return qs(event,this,145)"  class=SW href="rvcorem.v.html#247">w_rrs2</a>;
<a name="299"></a>        <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#160">r_alu_f7</a>   &lt;= (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#533">OPCODE_OP_IMM__</a>) ?
                      ((<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#559">FUNCT3_ADD___</a>) ? 0 : <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#258">r_funct7</a> &amp; 7'h20) : <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#258">r_funct7</a>;
    <span class=K>end</span>
    
    <span class=C>/***********************************           EX1          ***********************************/</span>
<a name="304"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,158)"  class=SW href="rvcorem.v.html#310">w_alu_im_rslt</a>;
<a name="305"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,159)"  class=SW href="rvcorem.v.html#312">w_alu_b_rslt</a>;
<a name="306"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,160)"  class=SW href="rvcorem.v.html#313">w_alu_c_rslt</a>;
<a name="307"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#307">w_ex1</a> = (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">S_EX1</a>);
<a name="308"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#311">w_ex1_busy</a>;

<a name="m_RVCoreM_ALU_IM"></a><a name="310"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_im">m_alu_im</a> ALU_IM(<a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>, <a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#54">RST_X</a>, <a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#307">w_ex1</a>, <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#156">r_rrs1</a>, <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#159">r_alu_in2</a>, <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a>, <a  onClick="return qs(event,this,110)"  class=SR href="rvcorem.v.html#160">r_alu_f7</a>, <a  onClick="return qs(event,this,158)"  class=SW href="rvcorem.v.html#304">w_alu_im_rslt</a>,
<a name="311"></a>                    <a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#308">w_ex1_busy</a>, <a  onClick="return qs(event,this,155)"  class=SR href="rvcorem.v.html#289">r_mul_SS</a>, <a  onClick="return qs(event,this,156)"  class=SR href="rvcorem.v.html#290">r_mul_SU</a>, <a  onClick="return qs(event,this,157)"  class=SR href="rvcorem.v.html#291">r_mul_UU</a>);
<a name="m_RVCoreM_ALU_B"></a><a name="312"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_b">m_alu_b</a>  ALU_B(<a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#156">r_rrs1</a>, <a  onClick="return qs(event,this,109)"  class=SR href="rvcorem.v.html#159">r_alu_in2</a>, <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a>, <a  onClick="return qs(event,this,159)"  class=SW href="rvcorem.v.html#305">w_alu_b_rslt</a>);
<a name="m_RVCoreM_ALU_C"></a><a name="313"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_c">m_alu_c</a>  ALU_C(<a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#158">r_rcsr</a>, <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#156">r_rrs1</a>, <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#143">r_imm</a>, <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a>, <a  onClick="return qs(event,this,160)"  class=SW href="rvcorem.v.html#306">w_alu_c_rslt</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a> != ~0) <span class=K>begin</span>
<a name="317"></a>            <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> &lt;= ~0;
<a name="321"></a>            <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>             &lt;= 0;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">S_EX1</a>) <span class=K>begin</span>
            <span class=K>case</span>(<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#135">r_opcode</a>)
<a name="325"></a>                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#540">OPCODE_LUI_____</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>;          <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#541">OPCODE_AUIPC___</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>;     <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#530">OPCODE_OP______</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,158)"  class=SW href="rvcorem.v.html#310">w_alu_im_rslt</a>;  <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#533">OPCODE_OP_IMM__</a> : <span class=K>begin</span> <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>  &lt;= <a  onClick="return qs(event,this,158)"  class=SW href="rvcorem.v.html#310">w_alu_im_rslt</a>;  <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#534">OPCODE_LOAD____</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#537">OPCODE_STORE___</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#542">OPCODE_JAL_____</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 1;
                    <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>   &lt;= (<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>+2 : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>+4;
<a name="334"></a>                    <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#543">OPCODE_JALR____</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 1;
                    <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a>   &lt;= (<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>+2 : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>+4;
                    <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a> + <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#532">OPCODE_AMO_____</a> : <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#144">r_op_AMO_SC</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#165">r_wb_data</a> &lt;= !((<a  onClick="return qs(event,this,106)"  class=SR href="rvcorem.v.html#250">r_rrs1</a>==<a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a>) &amp;&amp; <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a>);
                    <span class=K>end</span>
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#539">OPCODE_BRANCH__</a> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= <a  onClick="return qs(event,this,159)"  class=SW href="rvcorem.v.html#312">w_alu_b_rslt</a>;
                    <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + <a  onClick="return qs(event,this,95)"  class=SR href="rvcorem.v.html#260">r_imm</a>;
                <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#548">OPCODE_MISC_MEM</a> : <span class=K>begin</span> <span class=K>end</span>
                <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a> : <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                        <span class=K>case</span> (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#142">r_funct12</a>)
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#618">FUNCT12_ECALL_</a> : <span class=K>begin</span>
                                <span class=C>// `CAUSE_USER_ECALL + 3 = `CAUSE_MACHINE_ECALL                                
</span><a name="356"></a>                                <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#166">r_wb_data_csr</a>       &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#353">CAUSE_USER_ECALL</a> + <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>;
                                <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a>   &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#353">CAUSE_USER_ECALL</a> + <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#619">FUNCT12_EBREAK</a> : <span class=K>begin</span> <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#623">FUNCT12_URET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#297">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#622">FUNCT12_SRET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#297">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#621">FUNCT12_MRET__</a> : <span class=K>begin</span>
                                <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 1;
                                <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#297">r_rcsr</a>;
                            <span class=K>end</span>
                            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#624">FUNCT12_WFI___</a> : <span class=K>begin</span> <span class=K>end</span>
                            <span class=K>default</span>: <span class=K>begin</span>
                                <span class=K>if</span>(<a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#141">r_funct7</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#625">FUNCT7_SFENCE_VMA</a>) <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a> &lt;= 0;
                            <span class=K>end</span>
                        <span class=K>endcase</span>
                    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                        <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#166">r_wb_data_csr</a> &lt;= <a  onClick="return qs(event,this,160)"  class=SW href="rvcorem.v.html#313">w_alu_c_rslt</a>;
                    <span class=K>end</span>
                <span class=K>end</span>

                <span class=K>default</span> : <span class=K>begin</span>
                    <a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#162">r_tkn</a>       &lt;= 0;
                    <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#163">r_jmp_pc</a>    &lt;= 0;
<span class=M>`ifdef</span> <a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#16">SIM_MODE</a>
                    <span class=ST>$write</span>(<span class=S>&quot;UNKNOWN OPCODE DETECT!!\n&quot;</span>);
                    <span class=ST>$write</span>(<span class=S>&quot;TC:%08h PC:%08x OPCODE=%7b, ir=%8x hartid=%x\n&quot;</span>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0], <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#135">r_opcode</a>, <a  onClick="return qs(event,this,45)"  class=SOR href="rvcorem.v.html#131">r_ir</a>, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>);
                    <span class=ST>$write</span>(<span class=S>&quot;Simulation Stopped...\n&quot;</span>);
                    <span class=ST>$finish</span>();
<span class=M>`endif</span>
                <span class=K>end</span>
           <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           LD           ***********************************/</span>
<a name="397"></a>    <span class=K>reg</span> [2:0] <a  onClick="return qs(event,this,163)"  class=SR href="rvcorem.v.html#398">r_data_ctrl</a>=0;
<a name="398"></a>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <a  onClick="return qs(event,this,163)"  class=SR href="rvcorem.v.html#397">r_data_ctrl</a> &lt;= (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a>) ? 3'h2 : <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>;
    
<a name="400"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,24)"  class=SO href="rvcorem.v.html#69">w_data_ctrl</a> = <a  onClick="return qs(event,this,163)"  class=SR href="rvcorem.v.html#398">r_data_ctrl</a>;
<a name="401"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,19)"  class=SO href="rvcorem.v.html#70">w_data_addr</a> = <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#293">r_mem_addr</a>;
    
<a name="403"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#403">w_mem_rdata</a> = <a  onClick="return qs(event,this,21)"  class=SI href="rvcorem.v.html#57">w_data_data</a>;
<a name="404"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,165)"  class=SR href="rvcorem.v.html#414">r_lrpc</a>, <a  onClick="return qs(event,this,166)"  class=SR href="rvcorem.v.html#415">r_lrmtime</a>;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>

        <span class=K>if</span>(<a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a> &amp;&amp; (<a  onClick="return qs(event,this,51)"  class=SI href="rvcorem.v.html#114">w_oh_load_res</a> == <a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a>) &amp;&amp; <a  onClick="return qs(event,this,52)"  class=SI href="rvcorem.v.html#113">w_oh_sc</a> &amp;&amp; <a  onClick="return qs(event,this,50)"  class=SI href="rvcorem.v.html#113">w_oh_reserved</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a> &lt;= 0;
            <span class=ST>$display</span>(<span class=S>&quot;-------- %0d: reserved disabled for mhartid=%1x pc=%x lrpc=%x oh_pc=%x load_res=%x lrmtime=%x&quot;</span>, 
                <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,165)"  class=SR href="rvcorem.v.html#404">r_lrpc</a>, <a  onClick="return qs(event,this,53)"  class=SI href="rvcorem.v.html#115">w_oh_pc</a>, <a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a>, <a  onClick="return qs(event,this,166)"  class=SR href="rvcorem.v.html#404">r_lrmtime</a>);
        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a> &amp;&amp; (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#148">r_op_AMO</a> &amp;&amp; <a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#145">r_op_AMO_LR</a>)<span class=C>/* &amp;&amp; !w_busy*/</span>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,48)"  class=SOR href="rvcorem.v.html#110">load_res</a> &lt;= <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#293">r_mem_addr</a>;
            <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a> &lt;= 1;
<a name="414"></a>            <a  onClick="return qs(event,this,165)"  class=SR href="rvcorem.v.html#404">r_lrpc</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>;
<a name="415"></a>            <a  onClick="return qs(event,this,166)"  class=SR href="rvcorem.v.html#404">r_lrmtime</a> &lt;= <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>;
            <span class=C>//$display(&quot;-------- amo-lr mhartid=%1x r_mem_addr=%x&quot;, mhartid, r_mem_addr);
</span>        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a> &amp;&amp; <a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#148">r_op_AMO</a> &amp;&amp; <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#144">r_op_AMO_SC</a> <span class=C>/*&amp;&amp; !r_wb_data[0] &amp;&amp; !w_busy*/</span>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,47)"  class=SOR href="rvcorem.v.html#111">reserved</a> &lt;= 0;
            <span class=C>//$display(&quot;-------- amo-sc mhartid=%1x load_res=%x&quot;, mhartid, load_res);
</span>        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           EX2          ***********************************/</span>
<a name="424"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#425">w_alu_a_rslt</a>;
<a name="m_RVCoreM_ALU_A"></a><a name="425"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="rvcorem.v.p2.html#m_alu_a">m_alu_a</a> ALU_A (<a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#157">r_rrs2</a>, <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#403">w_mem_rdata</a>, <a  onClick="return qs(event,this,92)"  class=SR href="rvcorem.v.html#140">r_funct5</a>, <a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#424">w_alu_a_rslt</a>);

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#314">S_EX2</a>) <span class=K>begin</span>
<a name="428"></a>        <a  onClick="return qs(event,this,116)"  class=SR href="rvcorem.v.html#168">r_mem_rdata</a>  &lt;= <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#403">w_mem_rdata</a>;
<a name="429"></a>        <a  onClick="return qs(event,this,117)"  class=SR href="rvcorem.v.html#169">r_atom_wdata</a> &lt;= <a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#425">w_alu_a_rslt</a>;
    <span class=K>end</span>

    <span class=C>/***********************************           SD           ***********************************/</span>
<a name="433"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,168)"  class=SR href="rvcorem.v.html#435">r_data_wdata</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span> <span class=C>/***** Note!! *****/</span>
<a name="435"></a>        <span class=K>if</span>     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#313">S_LD</a> ) <a  onClick="return qs(event,this,168)"  class=SR href="rvcorem.v.html#433">r_data_wdata</a> &lt;= <a  onClick="return qs(event,this,107)"  class=SR href="rvcorem.v.html#251">r_rrs2</a>;
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#314">S_EX2</a>) <a  onClick="return qs(event,this,168)"  class=SR href="rvcorem.v.html#433">r_data_wdata</a> &lt;= <a  onClick="return qs(event,this,167)"  class=SW href="rvcorem.v.html#425">w_alu_a_rslt</a>;
    <span class=K>end</span>
    
<a name="439"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,22)"  class=SO href="rvcorem.v.html#67">w_data_wdata</a> = <a  onClick="return qs(event,this,168)"  class=SR href="rvcorem.v.html#435">r_data_wdata</a>;

    <span class=C>/***********************************           WB           ***********************************/</span>
<a name="442"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,124)"  class=SW href="rvcorem.v.html#180">w_wb_r_data</a> =    (<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a>)                ? <a  onClick="return qs(event,this,164)"  class=SW href="rvcorem.v.html#403">w_mem_rdata</a> : <span class=C>/** regfile write data **/</span>
                            (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a>) ? <a  onClick="return qs(event,this,116)"  class=SR href="rvcorem.v.html#428">r_mem_rdata</a> :
                            (<a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#271">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) ? <a  onClick="return qs(event,this,108)"  class=SR href="rvcorem.v.html#297">r_rcsr</a> : <a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>;

<a name="446"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,125)"  class=SW href="rvcorem.v.html#181">w_wb_r_enable</a> =  (<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a>)                    ? 1 : <span class=C>/** regfile write enable **/</span>
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#540">OPCODE_LUI_____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#541">OPCODE_AUIPC___</a>) ? 1 :
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#542">OPCODE_JAL_____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#543">OPCODE_JALR____</a>) ? 1 :
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#530">OPCODE_OP______</a>) ? 1 :
                            (<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#533">OPCODE_OP_IMM__</a>) ? 1 :
                            (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a>)                     ? 1 :
                            (<a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#271">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) ? 1 : 0;

<a name="456"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#460">r_mstatus_t</a> = 0;
<a name="457"></a>    <span class=K>reg</span>  [1:0] <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a>    = <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#429">PRIV_M</a>;

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
<a name="460"></a>        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>) <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#456">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>;
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#149">r_op_SYS</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#142">r_funct12</a>)
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#622">FUNCT12_SRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#456">r_mstatus_t</a> &lt;= (((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~(1&lt;&lt;<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[8])) | (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[5] &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[8])) | 32'h20) &amp; ~32'h100;
<a name="466"></a>                        <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#457">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>];
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#621">FUNCT12_MRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#456">r_mstatus_t</a> &lt;= (((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~(1 &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>])) 
                                         | (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#452">MSTATUS_MPIE_SHIFT</a>] &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>])) 
                                        | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#441">MSTATUS_MPIE</a>) &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#444">MSTATUS_MPP</a>;
                        <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#457">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>];
                    <span class=K>end</span>
                    <span class=K>default</span>: <span class=K>begin</span>
                        <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#456">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>;
                        <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#457">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>;
                    <span class=K>end</span>
                <span class=K>endcase</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>begin</span>
                <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#456">r_mstatus_t</a> &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>;
                <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#457">r_priv_t</a>    &lt;= <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>;
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           COM            ***********************************/</span>
<a name="488"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a>;

<a name="490"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,172)"  class=SW href="rvcorem.v.html#490">pending_interrupts</a> = <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>;
<a name="491"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,173)"  class=SW href="rvcorem.v.html#491">enable_interrupts</a>  = (<a  onClick="return qs(event,this,172)"  class=SW href="rvcorem.v.html#490">pending_interrupts</a>) ? (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#429">PRIV_M</a>) ? ((<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#437">MSTATUS_MIE</a>) ? ~<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a> : 0) :
                                                            (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>) ? ((<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#435">MSTATUS_SIE</a>) ? (~<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a> | <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>) : ~<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>) :
                                                            (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">PRIV_U</a>) ? ~0 : 0 : 0;
<a name="494"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> = <a  onClick="return qs(event,this,172)"  class=SW href="rvcorem.v.html#490">pending_interrupts</a> &amp; <a  onClick="return qs(event,this,173)"  class=SW href="rvcorem.v.html#491">enable_interrupts</a>;
<a name="495"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,127)"  class=SW href="rvcorem.v.html#183">w_irq_t</a>          = <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#494">w_interrupt_mask</a> &amp; (~<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#494">w_interrupt_mask</a>+1);

    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a>) <span class=K>begin</span>
            <span class=K>case</span> (<a  onClick="return qs(event,this,127)"  class=SW href="rvcorem.v.html#183">w_irq_t</a>)
<a name="500"></a>                32'h00000001: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 0;
                32'h00000002: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 1;
                32'h00000004: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 2;
                32'h00000008: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 3;
                32'h00000010: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 4;
                32'h00000020: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 5;
                32'h00000040: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 6;
                32'h00000080: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 7;
                32'h00000100: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 8;
                32'h00000200: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 9;
                32'h00000400: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 10;
                32'h00000800: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 11;
                32'h00001000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 12;
                32'h00002000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 13;
                32'h00004000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 14;
                32'h00008000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 15;
                32'h00010000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 16;
                32'h00020000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 17;
                32'h00040000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 18;
                32'h00080000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 19;
                32'h00100000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 20;
                32'h00200000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 21;
                32'h00400000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 22;
                32'h00800000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 23;
                32'h01000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 24;
                32'h02000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 25;
                32'h04000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 26;
                32'h08000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 27;
                32'h10000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 28;
                32'h20000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 29;
                32'h40000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 30;
                32'h80000000: <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 31;
                <span class=K>default</span>:      <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> &lt;= 32;
            <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

<a name="537"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a> = (<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a> != ~0) ? <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a> : (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#342">CAUSE_INTERRUPT</a> | <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#500">irq_num</a>);
<a name="538"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#538">w_deleg</a> = (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>) ? ((<a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#342">CAUSE_INTERRUPT</a>) ? (<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a> &gt;&gt; (<a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a> &amp; 32'h1f)) &amp; 1 :
                                                                                (<a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#860">medeleg</a> &gt;&gt; (<a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a> &amp; 32'h1f)) &amp; 1) : 0;

    <span class=C>// wfi keeps pc constant
</span><a name="542"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#542">w_executing_wfi</a> = ((<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#252">r_opcode</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a>) &amp;&amp; (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) &amp;&amp; (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a>== <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#624">FUNCT12_WFI___</a>));
<a name="543"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,177)"  class=SW href="rvcorem.v.html#543">w_exit_wfi</a> =                           (<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#478">MIP_MEIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#474">MIP_MTIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#470">MIP_MSIP</a>))  |
                      ((<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>) &amp;&amp; (<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#476">MIP_SEIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#472">MIP_STIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#468">MIP_SSIP</a>))) |
                      ((<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#426">PRIV_U</a>) &amp;&amp; (<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#475">MIP_UEIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#471">MIP_UTIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#467">MIP_USIP</a>)));

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span> <span class=C>/////// update program counter
</span>        <span class=K>if</span>(<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a> &amp; <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#97">mie</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#475">MIP_UEIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#471">MIP_UTIP</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#467">MIP_USIP</a>)) <span class=K>begin</span>
            <span class=ST>$display</span>(<span class=S>&quot;(mip &amp; mie &amp; (`MIP_UEIP | `MIP_UTIP | `MIP_USIP))&quot;</span>);
            <span class=ST>$finish</span>;
        <span class=K>end</span>
        <span class=K>if</span>(!<a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#54">RST_X</a> || <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.html#65">r_halt</a>) <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#170">D_START_PC</a>; <span class=K>end</span>
<a name="553"></a>        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a> != ~32'h0) <span class=K>begin</span>  <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#123">pending_tval</a> &lt;= (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> : (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#313">S_LD</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#315">S_SD</a>) ? 0 : <a  onClick="return qs(event,this,113)"  class=SR href="rvcorem.v.html#293">r_mem_addr</a>; <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> != ~0)             <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> &lt;= (<a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#538">w_deleg</a>) ? <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#842">stvec</a> : <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>; <span class=K>end</span>   <span class=C>// raise Exception
</span>            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a>) <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> &lt;= (<a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#538">w_deleg</a>) ? <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#842">stvec</a> : <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>; <span class=K>end</span>   <span class=C>// Interrupt HERE
</span>            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#542">w_executing_wfi</a>)  <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,177)"  class=SW href="rvcorem.v.html#543">w_exit_wfi</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 4; 
                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span>                      <span class=K>begin</span> <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> &lt;= (<a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#321">r_tkn</a>) ? <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 4; <span class=K>end</span>
<a name="562"></a>            <a  onClick="return qs(event,this,86)"  class=SR href="rvcorem.v.html#133">r_ir16_v</a>    &lt;= !((<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a> != ~0) || (<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#494">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a>) || (<a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#321">r_tkn</a>) || (!<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>));
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#123">pending_tval</a> &lt;= 0;
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           FIN          ***********************************/</span>
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span> 
            <span class=K>if</span>((<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> == ~0) ||
               (<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> != ~0 &amp;&amp; (<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#342">CAUSE_INTERRUPT</a>)) ||
               (<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> != ~0 &amp;&amp; <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#150">r_op_ECALL</a>)) <span class=K>begin</span>
<a name="575"></a>                <a  onClick="return qs(event,this,118)"  class=SR href="rvcorem.v.html#172">e_icount</a> &lt;= <a  onClick="return qs(event,this,118)"  class=SR href="rvcorem.v.html#575">e_icount</a> + 1;
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************           CSR          ***********************************/</span>
<a name="581"></a>    <span class=K>wire</span> [11:0] <a  onClick="return qs(event,this,179)"  class=SW href="rvcorem.v.html#581">w_csr_addr</a> = (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a>  != <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a> )  ? <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> :
                             (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#618">FUNCT12_ECALL_</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#407">CSR_MTVEC</a>:
                             (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#623">FUNCT12_URET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#375">CSR_UEPC</a> :
                             (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#622">FUNCT12_SRET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#391">CSR_SEPC</a> :
                             (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#621">FUNCT12_MRET__</a>)  ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#410">CSR_MEPC</a> : 0;
    
    <span class=C>/* mstatus[14:13]=FS[1:0].  The FS field encodes the status of the floating-point unit, 
        including the CSR fcsr and floating-point data registers f0f31. FS=0=&gt; is off
        XS field encodes the status of additional user-mode extensions and associated state. XS=0 =&gt; is off
        FS[1:0] WARL field and the XS[1:0] read-only field are used to reduce the cost of context save
        and restore by setting and tracking the current state of the floating-point unit and any other user-
        mode extensions respectivel
    */</span>
    <span class=C>// SSTATUS_MASK0=h000de133=&gt; sstatus has MXR, SUM, XS, FS, SPP, SPIE, SIE
</span>    <span class=C>// h6000 =&gt; FS
</span><a name="596"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,180)"  class=SW href="rvcorem.v.html#596">w_sstatus_t</a> = (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> | 32'h6000) &amp; 32'h000de133;
<a name="597"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a> = (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> | 32'h6000);

    <span class=K>always</span>@(*) <span class=K>begin</span> /***** read CSR register, <span class=K>for</span> OF stage  *****/
        <span class=K>case</span>(<a  onClick="return qs(event,this,179)"  class=SW href="rvcorem.v.html#581">w_csr_addr</a>)
<a name="601"></a>            12'h3A0         : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
            12'h3B0         : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#369">CSR_FFLAGS</a>     : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#370">CSR_FRM</a>        : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#371">CSR_FCSR</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#387">CSR_SIE</a>        : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#388">CSR_STVEC</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#842">stvec</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#389">CSR_SCOUNTEREN</a> : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#843">scounteren</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#390">CSR_SSCRATCH</a>   : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#844">sscratch</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#391">CSR_SEPC</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#765">sepc</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#392">CSR_SCAUSE</a>     : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#764">scause</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#393">CSR_STVAL</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#766">stval</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#394">CSR_SIP</a>        : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#395">CSR_SATP</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#867">satp</a>;

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#404">CSR_MEDELEG</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#860">medeleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#405">CSR_MIDELEG</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">CSR_MIE</a>        : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#407">CSR_MTVEC</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">CSR_MCOUNTEREN</a> : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#850">mcounteren</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#409">CSR_MSCRATCH</a>   : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#851">mscratch</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#410">CSR_MEPC</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#771">mepc</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#411">CSR_MCAUSE</a>     : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#770">mcause</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#412">CSR_MTVAL</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#772">mtval</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#413">CSR_MIP</a>        : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#403">CSR_MISA</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,63)"  class=SR href="rvcorem.v.html#96">misa</a> | 32'h40000000;

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#414">CSR_MCYCLE</a>     : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#415">CSR_MINSTRET</a>   : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#379">CSR_CYCLE</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#381">CSR_INSTRET</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#380">CSR_TIME</a>       : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[31:0];

            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#416">CSR_MCYCLEH</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#417">CSR_MINSTRETH</a>  : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#418">CSR_CYCLEH</a>     : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#420">CSR_INSTRETH</a>   : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[63:32];
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#419">CSR_TIMEH</a>      : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>[63:32];

            // h80000000 =&gt; SD
            // <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a>[31:13]==3 =&gt; FS, <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a>[31:15]==3 =&gt; XS
            /* The SD bit is a read-only bit that summarizes whether either the FS field <span class=K>or</span> XS field signals the
                presence of some dirty <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> that will require saving extended user context to memory. If both XS
                <span class=K>and</span> FS are hardwired to zero, then SD=<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[31] is also <span class=K>always</span> zero
                The FS field encodes the status of the floating-point unit, including
                the CSR fcsr <span class=K>and</span> floating-point data registers f0f31
            */
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_SSTATUS</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#601">r_rcsr_t</a> = (<a  onClick="return qs(event,this,180)"  class=SW href="rvcorem.v.html#596">w_sstatus_t</a>[31:13]==3 | <a  onClick="return qs(event,this,180)"  class=SW href="rvcorem.v.html#596">w_sstatus_t</a>[31:15]==3) ? (<a  onClick="return qs(event,this,180)"  class=SW href="rvcorem.v.html#596">w_sstatus_t</a> | 32'h80000000) : <a  onClick="return qs(event,this,180)"  class=SW href="rvcorem.v.html#596">w_sstatus_t</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#402">CSR_MSTATUS</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = (<a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a>[31:13]==3 | <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a>[31:15]==3) ? (<a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a> | 32'h80000000) : <a  onClick="return qs(event,this,181)"  class=SW href="rvcorem.v.html#597">w_mstatus_t</a>;
            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#401">CSR_MHARTID</a>    : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>;
            <span class=K>default</span>         : <a  onClick="return qs(event,this,121)"  class=SR href="rvcorem.v.html#175">r_rcsr_t</a> = 0;
        <span class=K>endcase</span>
    <span class=K>end</span>


<a name="656"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#656">w_csr_we</a>    = (<a  onClick="return qs(event,this,100)"  class=SR href="rvcorem.v.html#271">r_op_SYS</a>) &amp;&amp; (<a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#256">r_funct3</a> != <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>);
    // SSTATUS_MASK =  32'h000de133 see above
<a name="658"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#658">w_sstatus</a>   = (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#465">SSTATUS_MASK</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#465">SSTATUS_MASK</a>);

    // t1 sets mpie, t2 sets mpp, t3 clears <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#97">mie</a>
<a name="661"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,184)"  class=SW href="rvcorem.v.html#661">w_sstatus_t1</a> = (<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#439">MSTATUS_SPIE</a>) | (((<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &gt;&gt; <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a>) &amp; 1) &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#451">MSTATUS_SPIE_SHIFT</a>);
<a name="662"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,185)"  class=SW href="rvcorem.v.html#662">w_sstatus_t2</a> = (<a  onClick="return qs(event,this,184)"  class=SW href="rvcorem.v.html#661">w_sstatus_t1</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#442">MSTATUS_SPP</a>) | (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>);
<a name="663"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#663">w_sstatus_t3</a> = (<a  onClick="return qs(event,this,185)"  class=SW href="rvcorem.v.html#662">w_sstatus_t2</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#435">MSTATUS_SIE</a>);
<a name="664"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,187)"  class=SW href="rvcorem.v.html#664">w_mstatus_t1</a> = (<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#441">MSTATUS_MPIE</a>) | (((<a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#905">w_mstatus_nxt</a> &gt;&gt; <a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a>) &amp; 1) &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#452">MSTATUS_MPIE_SHIFT</a>);
<a name="665"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,188)"  class=SW href="rvcorem.v.html#665">w_mstatus_t2</a> = (<a  onClick="return qs(event,this,187)"  class=SW href="rvcorem.v.html#664">w_mstatus_t1</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#444">MSTATUS_MPP</a>) | (<a  onClick="return qs(event,this,170)"  class=SR href="rvcorem.v.html#466">r_priv_t</a> &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>);
<a name="666"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,189)"  class=SW href="rvcorem.v.html#666">w_mstatus_t3</a> = (<a  onClick="return qs(event,this,188)"  class=SW href="rvcorem.v.html#665">w_mstatus_t2</a>  &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#437">MSTATUS_MIE</a>);

<span class=P>`ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>    reg was_csrw_satp = 0;
</span><span class=P>    reg [31:0] old_insn_addr;
</span><span class=M>`endif</span>

    <span class=M>`ifdef</span> <a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#16">SIM_MODE</a>
<a name="674"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,190)"  class=SR href="rvcorem.v.html#674">laurpc</a>=0;
<a name="675"></a>    <span class=K>integer</span> <a  onClick="return qs(event,this,191)"  class=SIT href="rvcorem.v.html#677">f</a>, <a  onClick="return qs(event,this,192)"  class=SIT href="rvcorem.v.html#675">closed</a>=0;
    <span class=K>initial</span> <span class=K>begin</span>
<a name="677"></a>        <a  onClick="return qs(event,this,191)"  class=SIT href="rvcorem.v.html#675">f</a> = <span class=ST>$fopen</span>(&quot;stip.txt&quot;, &quot;w&quot;);
    <span class=K>end</span>
    <span class=M>`endif</span>
<a name="680"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a> = (<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#500">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#461">MIP_STIP_SHIFT</a>) ?  (<a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a> &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>) &amp;&amp; !<a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#272">r_op_ECALL</a> &amp;&amp; !<a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#273">r_op_SRET</a>: 1;
<a name="681"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#696">r_ipi_max_displays</a>=0;
<a name="682"></a>    <span class=K>output</span> <span class=K>reg</span> <a  onClick="return qs(event,this,55)"  class=SOR href="rvcorem.v.html#682">r_ipi_taken</a>=0;
<a name="683"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,194)"  class=SR href="rvcorem.v.html#683">rim</a>=0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span> /***** write CSR registers *****/
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a>) <span class=K>begin</span>
            //<span class=K>if</span>(<a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a> &gt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#95">ENABLE_TIMER</a>) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#61">w_plic_we</a>) <span class=K>begin</span> // KEYBOARD INPUT
                    <span class=ST>$display</span>(&quot;----rvcorem <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#61">w_plic_we</a> <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a> &lt;= %x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>=%x&quot;, <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#60">w_wmip</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>);
<a name="689"></a>                    <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[31:8] &lt;= <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#60">w_wmip</a>[31:8];
                <span class=K>end</span>
            //<span class=K>end</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#55">w_ipi</a> &amp; (1&lt;&lt;<a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>)) <span class=K>begin</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,55)"  class=SOR href="rvcorem.v.html#682">r_ipi_taken</a> == 0) <span class=K>begin</span>
                        <span class=K>if</span>((<a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#55">w_ipi</a> &gt;&gt; 16) &amp; (1&lt;&lt;<a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>)) <span class=K>begin</span>
                            <span class=K>if</span>(<a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#40">IPI_MAX_DISPLAYS</a> &gt;&gt; 1)) <span class=K>begin</span>
<a name="696"></a>                                <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#696">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got ipi=%x ssip <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>=%x <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>=%x <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>=%x <span class=K>time</span>=%x <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x&quot;, 
                                    <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#55">w_ipi</a>, <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>, <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>, <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>);
                            <span class=K>end</span>
                            <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[3:0] &lt;= <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a>[3:0] | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#468">MIP_SSIP</a>;
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <span class=K>if</span>(<a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#40">IPI_MAX_DISPLAYS</a> &gt;&gt; 1)) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#696">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got ipi=%x msip <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>=%x <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>=%x <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>=%x <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x&quot;, 
                                    <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,16)"  class=SI href="rvcorem.v.html#55">w_ipi</a>, <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>, <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a>, <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#849">mtvec</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>);
                            <span class=K>end</span>
                            <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[3:0] &lt;= <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a>[3:0] | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#470">MIP_MSIP</a>;
                        <span class=K>end</span>
                        <a  onClick="return qs(event,this,55)"  class=SOR href="rvcorem.v.html#682">r_ipi_taken</a> &lt;= 1;
                        //<span class=K>if</span>(!<a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#542">w_executing_wfi</a>)
                        //    <span class=ST>$display</span>(&quot;-------- %x: core%x received ipi <span class=K>while</span> <span class=K>not</span> <a  onClick="return qs(event,this,176)"  class=SW href="rvcorem.v.html#542">w_executing_wfi</a> <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x oh_pc=%x&quot;, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,53)"  class=SI href="rvcorem.v.html#115">w_oh_pc</a>); 
                    <span class=K>end</span>
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,55)"  class=SOR href="rvcorem.v.html#682">r_ipi_taken</a> &lt;= 0;
                <span class=K>end</span>
        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>((<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) &amp;&amp; (<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a>) &amp;&amp;
                    (<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#459">MIP_SSIP_SHIFT</a> || <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#460">MIP_MSIP_SHIFT</a>)) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[3:0] &lt;= 0;
                        <span class=K>if</span>(<a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#40">IPI_MAX_DISPLAYS</a> &gt;&gt; 1)) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#681">r_ipi_max_displays</a> &lt;= <a  onClick="return qs(event,this,193)"  class=SR href="rvcorem.v.html#696">r_ipi_max_displays</a> + 1;
                                <span class=ST>$display</span>(&quot;core%1x got clear ipi&quot;, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>);
                        <span class=K>end</span>
        <span class=K>end</span>


        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#314">S_EX2</a> || <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#61">w_plic_we</a>) <span class=K>begin</span>
                <span class=ST>$display</span>(&quot;----rvcorem <a  onClick="return qs(event,this,34)"  class=SI href="rvcorem.v.html#61">w_plic_we</a> <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a> &lt;= %x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>=%x&quot;, <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#60">w_wmip</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>);
                <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[31:8]     &lt;= <a  onClick="return qs(event,this,33)"  class=SI href="rvcorem.v.html#60">w_wmip</a>[31:8];
            <span class=K>end</span>
        <span class=K>end</span>
        //<span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#315">S_SD</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,31)"  class=SI href="rvcorem.v.html#59">w_clint_we</a>) <span class=K>begin</span>
                //<span class=K>if</span>(<a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a> &gt;= 460000000)
                //    <span class=ST>$display</span>(&quot;%0d: core%1x sets <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#736">mtimecmp</a>=%x <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>=%x&quot;, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#58">w_wmtimecmp</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>);
<a name="736"></a>                <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#121">mtimecmp</a>    &lt;= <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#58">w_wmtimecmp</a>;
                <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[7:4] &lt;= 0;
                <span class=K>if</span>(<a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a> &lt; 2)
<a name="739"></a>                    <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a> &lt;= <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#739">r_was_clint_we</a> + 1;
                <span class=K>else</span>
                    <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a> &lt;= 1;
                <span class=K>if</span>(<a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a> == 1 &amp;&amp; <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a> &gt; <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#58">w_wmtimecmp</a>) <span class=K>begin</span>
                    <span class=ST>$display</span>(&quot;warning: <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>=%0d &gt; <a  onClick="return qs(event,this,30)"  class=SI href="rvcorem.v.html#58">w_wmtimecmp</a>=%0d&quot;, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,29)"  class=SO href="rvcorem.v.p2.html#1003">w_mtimecmp</a>);
                    //<span class=ST>$finish</span>;
                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a>) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a>==2 &amp;&amp; (<a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a> &gt;= <a  onClick="return qs(event,this,78)"  class=SR href="rvcorem.v.html#736">mtimecmp</a>)) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a>[7:4] &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#472">MIP_STIP</a> &gt;&gt; 4;
                    <a  onClick="return qs(event,this,79)"  class=SR href="rvcorem.v.html#122">r_was_clint_we</a> &lt;= 0;
                    //<span class=ST>$display</span>(&quot;%0d: core%1x sets stip <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>=%x&quot;, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,62)"  class=SW href="rvcorem.v.html#95">mhartid</a>, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>);
                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a> &amp;&amp; <a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> == ~0 &amp;&amp; 
                        <a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a> &amp;&amp; <a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#461">MIP_STIP_SHIFT</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>[7:4] &lt;= 0; // however is disabled by <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#663">w_sstatus_t3</a>
            <span class=K>end</span>

        //<span class=K>end</span>

        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> != ~0) <span class=K>begin</span>
                //<span class=K>if</span>(!<a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#150">r_op_ECALL</a>)
                //    <span class=ST>$display</span>(&quot;pending exception&quot;);
                <span class=K>if</span>(<a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#538">w_deleg</a>) <span class=K>begin</span>
<a name="764"></a>                    <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#105">scause</a>  &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a>;
<a name="765"></a>                    <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#104">sepc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>;
<a name="766"></a>                    <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#106">stval</a>   &lt;= <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#553">pending_tval</a>;
<a name="767"></a>                    <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#663">w_sstatus_t3</a>;
<a name="768"></a>                    <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
<a name="770"></a>                    <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#93">mcause</a>  &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a>;
<a name="771"></a>                    <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#92">mepc</a>    &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>;
<a name="772"></a>                    <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#94">mtval</a>   &lt;= <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#553">pending_tval</a>;
                    <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= <a  onClick="return qs(event,this,189)"  class=SW href="rvcorem.v.html#666">w_mstatus_t3</a>;
                    <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#429">PRIV_M</a>;
                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a>) <span class=K>begin</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#461">MIP_STIP_SHIFT</a>) <span class=K>begin</span>
                    //<span class=ST>$display</span>(&quot;stip <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x hart=%x&quot;, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>, <a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#56">w_hart_id</a>);
                    <span class=M>`ifdef</span> <a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#16">SIM_MODE</a>
                    <span class=M>`ifndef</span> <span class=D>USE_SINGLE_CORE</span>
                    <span class=K>if</span>(<a  onClick="return qs(event,this,15)"  class=SI href="rvcorem.v.html#56">w_hart_id</a> == 0) <span class=K>begin</span>
<span class=P>                    `else
</span><span class=P>                    begin
</span>                    <span class=M>`endif</span>
                        <span class=K>if</span>(<a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a> &lt; 200000000/*<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#95">ENABLE_TIMER</a>*/)
                            <span class=ST>$fwrite</span>(<a  onClick="return qs(event,this,191)"  class=SIT href="rvcorem.v.html#675">f</a>, &quot;%0d %x\n&quot;, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>,    <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>);
                        <span class=K>else</span> <span class=K>if</span>(!<a  onClick="return qs(event,this,192)"  class=SIT href="rvcorem.v.html#675">closed</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,192)"  class=SIT href="rvcorem.v.html#675">closed</a> &lt;= 1;
                            <span class=ST>$fclose</span>(<a  onClick="return qs(event,this,191)"  class=SIT href="rvcorem.v.html#675">f</a>);
                        <span class=K>end</span>
                    <span class=K>end</span>
                    <span class=M>`endif</span>
                    <a  onClick="return qs(event,this,46)"  class=SOR href="rvcorem.v.html#87">pc_stip</a> &lt;= <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>;
                <span class=K>end</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == 2) <span class=K>begin</span>
                    <span class=ST>$display</span>(&quot;<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a>=2, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x&quot;, <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>);
                    <span class=ST>$finish</span>;
                <span class=K>end</span>
                <span class=K>if</span>(<a  onClick="return qs(event,this,175)"  class=SW href="rvcorem.v.html#538">w_deleg</a>) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#105">scause</a>  &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a>;
                    <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#104">sepc</a>    &lt;= (<a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#321">r_tkn</a>) ? <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 4;
                    <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#106">stval</a>   &lt;= <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#553">pending_tval</a>;
                    <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= <a  onClick="return qs(event,this,186)"  class=SW href="rvcorem.v.html#663">w_sstatus_t3</a>;
                    <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#427">PRIV_S</a>;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#93">mcause</a>  &lt;= <a  onClick="return qs(event,this,174)"  class=SW href="rvcorem.v.html#537">cause</a>;
                    <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#92">mepc</a>    &lt;= (<a  onClick="return qs(event,this,111)"  class=SR href="rvcorem.v.html#321">r_tkn</a>) ? <a  onClick="return qs(event,this,112)"  class=SR href="rvcorem.v.html#334">r_jmp_pc</a> : (<a  onClick="return qs(event,this,84)"  class=SR href="rvcorem.v.html#234">r_cinsn</a>) ? <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 2 : <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a> + 4;
                    <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#94">mtval</a>   &lt;= <a  onClick="return qs(event,this,80)"  class=SR href="rvcorem.v.html#553">pending_tval</a>;
                    <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= <a  onClick="return qs(event,this,189)"  class=SW href="rvcorem.v.html#666">w_mstatus_t3</a>;
                    <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#429">PRIV_M</a>;
                    <span class=K>if</span>(<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#461">MIP_STIP_SHIFT</a>) <span class=K>begin</span>
                        <span class=ST>$display</span>(&quot;<a  onClick="return qs(event,this,122)"  class=SR href="rvcorem.v.html#176">irq_num</a> <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#461">MIP_STIP_SHIFT</a> will be in privm&quot;);
                        <span class=ST>$finish</span>;
                    <span class=K>end</span>
                <span class=K>end</span>
            <span class=K>end</span>
        <span class=K>end</span>

        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span> /***** COM stage *****/
            <span class=K>if</span>(<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#135">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a>) <span class=K>begin</span>
                <span class=K>case</span> (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#142">r_funct12</a>)
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#623">FUNCT12_URET__</a> : <span class=K>begin</span>
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#622">FUNCT12_SRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= (((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~(1&lt;&lt;<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>])) | 
                                    (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#451">MSTATUS_SPIE_SHIFT</a>] &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>])) 
                                    | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#439">MSTATUS_SPIE</a>) &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#442">MSTATUS_SPP</a>;
                        <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>];
                        //<span class=ST>$display</span>(&quot;sret <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>&lt;=%x <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>=%x&quot;, <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#453">MSTATUS_SPP_SHIFT</a>], <a  onClick="return qs(event,this,44)"  class=SOR href="rvcorem.v.html#86">pc</a>);
                    <span class=K>end</span>
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#621">FUNCT12_MRET__</a> : <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &lt;= (((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~(1 &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>])) |
                                     (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#452">MSTATUS_MPIE_SHIFT</a>] &lt;&lt; <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>])) 
                                     | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#441">MSTATUS_MPIE</a>) &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#444">MSTATUS_MPP</a>;
                        <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#119">priv</a>    &lt;= <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>[<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>+1:<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>];
                    <span class=K>end</span>
                <span class=K>endcase</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#656">w_csr_we</a>) <span class=K>begin</span>
                <span class=K>case</span>(<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#142">r_funct12</a>)
<a name="842"></a>		            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#388">CSR_STVEC</a>      : <a  onClick="return qs(event,this,69)"  class=SR href="rvcorem.v.html#102">stvec</a>      &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; ~3;
<a name="843"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#389">CSR_SCOUNTEREN</a> : <a  onClick="return qs(event,this,75)"  class=SR href="rvcorem.v.html#108">scounteren</a> &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; 5;
<a name="844"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#390">CSR_SSCRATCH</a>   : <a  onClick="return qs(event,this,70)"  class=SR href="rvcorem.v.html#103">sscratch</a>   &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#391">CSR_SEPC</a>       : <a  onClick="return qs(event,this,71)"  class=SR href="rvcorem.v.html#104">sepc</a>       &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; ~1;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#392">CSR_SCAUSE</a>     : <a  onClick="return qs(event,this,72)"  class=SR href="rvcorem.v.html#105">scause</a>     &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#393">CSR_STVAL</a>      : <a  onClick="return qs(event,this,73)"  class=SR href="rvcorem.v.html#106">stval</a>      &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;

<a name="849"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#407">CSR_MTVEC</a>      : <a  onClick="return qs(event,this,57)"  class=SR href="rvcorem.v.html#90">mtvec</a>      &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; ~3;
<a name="850"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#408">CSR_MCOUNTEREN</a> : <a  onClick="return qs(event,this,68)"  class=SR href="rvcorem.v.html#101">mcounteren</a> &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; 5;
<a name="851"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#409">CSR_MSCRATCH</a>   : <a  onClick="return qs(event,this,58)"  class=SR href="rvcorem.v.html#91">mscratch</a>   &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#410">CSR_MEPC</a>       : <a  onClick="return qs(event,this,59)"  class=SR href="rvcorem.v.html#92">mepc</a>       &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; ~1;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#411">CSR_MCAUSE</a>     : <a  onClick="return qs(event,this,60)"  class=SR href="rvcorem.v.html#93">mcause</a>     &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#412">CSR_MTVAL</a>      : <a  onClick="return qs(event,this,61)"  class=SR href="rvcorem.v.html#94">mtval</a>      &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>;

<a name="856"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#387">CSR_SIE</a>        : <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#97">mie</a>        &lt;= (<a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; ~<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#394">CSR_SIP</a>        : <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>        &lt;= (<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; ~<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a>);

		            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#404">CSR_MEDELEG</a>    : <span class=K>begin</span> 
<a name="860"></a>		    			<a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#99">medeleg</a>    &lt;= (<a  onClick="return qs(event,this,66)"  class=SR href="rvcorem.v.html#860">medeleg</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#482">WCSR_MASK1</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#482">WCSR_MASK1</a>);
				    <span class=K>end</span>
<a name="862"></a>                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#405">CSR_MIDELEG</a>    : <a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#100">mideleg</a>    &lt;= (<a  onClick="return qs(event,this,67)"  class=SR href="rvcorem.v.html#862">mideleg</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#483">WCSR_MASK2</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#483">WCSR_MASK2</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#406">CSR_MIE</a>        : <a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#97">mie</a>        &lt;= (<a  onClick="return qs(event,this,64)"  class=SR href="rvcorem.v.html#856">mie</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#484">WCSR_MASK3</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#484">WCSR_MASK3</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#413">CSR_MIP</a>        : <a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#98">mip</a>        &lt;= (<a  onClick="return qs(event,this,65)"  class=SR href="rvcorem.v.html#689">mip</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#485">WCSR_MASK4</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#485">WCSR_MASK4</a>);

		            <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#395">CSR_SATP</a>       : <span class=K>begin</span> 
<a name="867"></a>		    			<a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#107">satp</a>       &lt;= <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a>; 
<span class=P>					    `ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>					        if(r_wb_data_csr[31]) begin
</span><span class=P>						        $write(&quot;satp write: \ttime:%08x pc=%x r_insn_addr=%x w_insn_data=%x satp&lt;=%x pending_exception=%x stvec=%x mtvec=%x w_deleg=%x w_busy=%x\n&quot;,
</span><span class=P>                                                        w_mtime, pc, r_insn_addr, w_insn_data, r_wb_data_csr, pending_exception, stvec, mtvec, w_deleg, w_busy);
</span><span class=P>						    was_csrw_satp &lt;= 1;
</span><span class=P>						    old_insn_addr &lt;= r_insn_addr;
</span><span class=P>					        end
</span>					    <span class=M>`endif</span>
		    		<span class=K>end</span>	

                     /* MASK_STATUS (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#463">MSTATUS_MASK</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#445">MSTATUS_FS</a>) = h000e79bb &amp; ~h6000 = h000e19bb = 
                            MXR SUM MPRV MPP SPP MPIE SPIE MIE SIE
                            The MPRV (Modify PRiVilege) bit modifies the privilege level at which loads <span class=K>and</span> stores execute
                            in all privilege modes. When MPRV=0, loads <span class=K>and</span> stores behave as normal, using the translation
                            <span class=K>and</span> protection mechanisms of the current privilege mode. When MPRV=1, load <span class=K>and</span> store memory
                            addresses are translated <span class=K>and</span> protected, <span class=K>and</span> endianness is applied, as though the current privilege
                            mode were set to MPP. Instruction address-translation <span class=K>and</span> protection are unaffected by the setting
                            of MPRV. MPRV is hardwired to 0 <span class=K>if</span> U-mode is <span class=K>not</span> supported.
                     */
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#402">CSR_MSTATUS</a>    : <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>    &lt;= (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>);
                    <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_SSTATUS</a>    : <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a>    &lt;= (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#658">w_sstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>);
                <span class=K>endcase</span>
            <span class=K>end</span>
        <span class=K>end</span>
    <span class=K>end</span>

<span class=P>`ifdef LAUR_DEBUG_AFTER_CSRW_SATP
</span><span class=P>    always @(posedge CLK) begin
</span><span class=P>	    if(was_csrw_satp &amp;&amp; (old_insn_addr != r_insn_addr)) begin
</span><span class=P>		$write(&quot;new insn addr: \ttime:%08x pc=%x r_insn_addr=%x w_insn_data=%x satp=%x pending_exception=%x stvec=%x mtvec=%x w_deleg=%x w_busy=%x\n&quot;,
</span><span class=P>                                                        w_mtime, pc, r_insn_addr, w_insn_data, satp, pending_exception, stvec, mtvec, w_deleg, w_busy);
</span><span class=P>		old_insn_addr &lt;= r_insn_addr;
</span><span class=P>        was_csrw_satp &lt;= 0;
</span><span class=P>	    end
</span><span class=P>    end
</span><span class=M>`endif</span>

<a name="905"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,171)"  class=SW href="rvcorem.v.html#488">w_mstatus_nxt</a> =  (<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a> != ~0)             ? <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#460">r_mstatus_t</a> :
                        (<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#656">w_csr_we</a> &amp;&amp; <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#402">CSR_MSTATUS</a>) ? (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) :
                        (<a  onClick="return qs(event,this,182)"  class=SW href="rvcorem.v.html#656">w_csr_we</a> &amp;&amp; <a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#384">CSR_SSTATUS</a>) ? (<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a> &amp; ~<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) | (<a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#658">w_sstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#487">MASK_STATUS</a>) : <a  onClick="return qs(event,this,169)"  class=SR href="rvcorem.v.html#460">r_mstatus_t</a>;

    /***********************************       TLB FLUSH!       ***********************************/
<a name="910"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#918">r_tlb_flush</a>;
<a name="911"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,196)"  class=SW href="rvcorem.v.html#911">w_data_t</a> = (<a  onClick="return qs(event,this,94)"  class=SR href="rvcorem.v.html#259">r_funct12</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#402">CSR_MSTATUS</a>) ? <a  onClick="return qs(event,this,115)"  class=SR href="rvcorem.v.html#356">r_wb_data_csr</a> : <a  onClick="return qs(event,this,183)"  class=SW href="rvcorem.v.html#658">w_sstatus</a>;
<a name="912"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,197)"  class=SW href="rvcorem.v.html#912">w_mod</a>    = <a  onClick="return qs(event,this,196)"  class=SW href="rvcorem.v.html#911">w_data_t</a> ^ <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#767">mstatus</a>;
    
<a name="914"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,38)"  class=SO href="rvcorem.v.html#82">w_tlb_flush</a>   = <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#918">r_tlb_flush</a>; // <span class=K>generate</span> this signal to flush TLBs 

    <span class=K>always</span>@(*) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a> &amp;&amp; !<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a>) <span class=K>begin</span>
<a name="918"></a>            <span class=K>if</span>(<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#124">pending_exception</a> != ~0 || (<a  onClick="return qs(event,this,126)"  class=SW href="rvcorem.v.html#182">w_interrupt_mask</a> &amp;&amp; <a  onClick="return qs(event,this,178)"  class=SW href="rvcorem.v.html#680">w_take_int</a>)) <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 1;
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,102)"  class=SR href="rvcorem.v.html#151">r_op_SRET</a> || <a  onClick="return qs(event,this,103)"  class=SR href="rvcorem.v.html#152">r_op_MRET</a>) <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 1;
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,104)"  class=SR href="rvcorem.v.html#153">r_op_CSR_MSTA</a>) <span class=K>begin</span>
                <span class=K>if</span>((<a  onClick="return qs(event,this,197)"  class=SW href="rvcorem.v.html#912">w_mod</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#448">MSTATUS_SUM</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#449">MSTATUS_MXR</a>)) != 0 ||
                   ((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a>) &amp;&amp; (<a  onClick="return qs(event,this,197)"  class=SW href="rvcorem.v.html#912">w_mod</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#444">MSTATUS_MPP</a>) != 0)) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 1;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <span class=C>//$display(&quot;r_tlb_flush remains %x ---------------------&quot;, r_tlb_flush);
</span>                    <span class=C>// avoid latch warning
</span>                    <span class=C>//r_tlb_flush &lt;= 0;
</span>                <span class=K>end</span>
            <span class=K>end</span>
            <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,105)"  class=SR href="rvcorem.v.html#154">r_op_CSR_SSTA</a>) <span class=K>begin</span>
                <span class=K>if</span>((<a  onClick="return qs(event,this,197)"  class=SW href="rvcorem.v.html#912">w_mod</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#448">MSTATUS_SUM</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#449">MSTATUS_MXR</a>)) != 0 ||
                   ((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a>) &amp;&amp; (<a  onClick="return qs(event,this,197)"  class=SW href="rvcorem.v.html#912">w_mod</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#444">MSTATUS_MPP</a>) != 0)) <span class=K>begin</span>
                    <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 1;
                <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                    <span class=C>//$display(&quot;r_tlb_flush remains %x ---------------------&quot;, r_tlb_flush);
</span>                    <span class=C>// avoid latch warning
</span>                    <span class=C>//r_tlb_flush &lt;= 0;
</span>                <span class=K>end</span>
            <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> ((<a  onClick="return qs(event,this,87)"  class=SR href="rvcorem.v.html#135">r_opcode</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#549">OPCODE_SYSTEM__</a> &amp;&amp; <a  onClick="return qs(event,this,91)"  class=SR href="rvcorem.v.html#139">r_funct3</a> == <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#610">FUNCT3_PRIV__</a> &amp;&amp; <a  onClick="return qs(event,this,93)"  class=SR href="rvcorem.v.html#141">r_funct7</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#625">FUNCT7_SFENCE_VMA</a>))
                         <span class=C>//(r_opcode == `OPCODE_MISC_MEM &amp;&amp; (r_funct3 == `FUNCT3_FENCE_ || r_funct3 == `FUNCT3_FENCEI)))
</span>                <span class=K>begin</span>
                <span class=C>//if(r_opcode == `OPCODE_MISC_MEM)
</span>                    <span class=C>//$display (&quot;%08x, fence opcode=%x&quot;, w_mtime, r_opcode);
</span>                <span class=C>// sfence.vma is called write after satp write in setup_vm_final by local_flush_tlb_all()
</span>                <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 1;
            <span class=K>end</span>
            <span class=K>else</span> <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 0;
        <span class=K>end</span> 
        <span class=K>else</span> <a  onClick="return qs(event,this,195)"  class=SR href="rvcorem.v.html#910">r_tlb_flush</a> &lt;= 0;

        <span class=K>if</span>((<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &amp; (<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#448">MSTATUS_SUM</a> | <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#449">MSTATUS_MXR</a>)) != 0) <span class=K>begin</span>
            <span class=K>if</span>(<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#447">MSTATUS_MPRV</a>)
                <span class=ST>$display</span>(<span class=S>&quot;%x MSTATUS_MPRV mpp=%x --------------------&quot;</span>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>, <a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a>&amp;(3 &lt;&lt; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#454">MSTATUS_MPP_SHIFT</a>));
            <span class=C>//if(mstatus &amp; `MSTATUS_SUM)
</span>                <span class=C>//$display(&quot;%x MSTATUS_SUM&quot;, w_mtime);
</span>            <span class=K>if</span>(<a  onClick="return qs(event,this,56)"  class=SR href="rvcorem.v.html#89">mstatus</a> &amp; <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#449">MSTATUS_MXR</a>)
                <span class=ST>$display</span>(<span class=S>&quot;%x MSTATUS_MXR --------------------------&quot;</span>, <a  onClick="return qs(event,this,28)"  class=SI href="rvcorem.v.html#71">w_mtime</a>);
        <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>/***********************************      STATE UPDATE      ***********************************/</span>
<a name="962"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,198)"  class=SW href="rvcorem.v.html#962">w_com</a> = ((<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a>!=~0 || <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>!=~0 || (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">S_EX1</a> &amp;&amp; <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#272">r_op_ECALL</a>)) 
                  &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>);

<a name="965"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#184">w_state</a> = (!<a  onClick="return qs(event,this,13)"  class=SI href="rvcorem.v.html#54">RST_X</a> | <a  onClick="return qs(event,this,17)"  class=SOR href="rvcorem.v.p2.html#1007">r_halt</a>)                                         ? 0      : <span class=C>// `S_INI
</span>                     (<a  onClick="return qs(event,this,198)"  class=SW href="rvcorem.v.html#962">w_com</a>)                                                   ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a> :
                     ((<a  onClick="return qs(event,this,35)"  class=SI href="rvcorem.v.html#62">w_busy</a> &amp;&amp; !<a  onClick="return qs(event,this,161)"  class=SW href="rvcorem.v.html#307">w_ex1</a>) || <a  onClick="return qs(event,this,162)"  class=SW href="rvcorem.v.html#311">w_ex1_busy</a>)                    ? <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a>)                                           ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a> :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a>  &amp;&amp; <a  onClick="return qs(event,this,132)"  class=SW href="rvcorem.v.html#195">w_nalign4</a> &amp;&amp; <a  onClick="return qs(event,this,123)"  class=SR href="rvcorem.v.html#208">r_if_state</a>!=3)             ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a>  : <span class=C>// Note
</span>                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">S_EX1</a> &amp;&amp; !<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a> &amp;&amp; !<a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#269">r_op_STORE</a>) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#313">S_LD</a>  &amp;&amp; <a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#269">r_op_STORE</a>)                             ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#315">S_SD</a>  :
                     (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#313">S_LD</a>  &amp;&amp; <a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a>)                              ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#316">S_WB</a>  : <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>+1;
         
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a> &lt;= <a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>;

<a name="976"></a>    <span class=K>reg</span> [2:0] <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#977">r_com</a>;
<a name="977"></a>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <a  onClick="return qs(event,this,199)"  class=SR href="rvcorem.v.html#976">r_com</a> &lt;= (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#317">S_COM</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#318">S_FIN</a> &amp;&amp; <a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>!=<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#307">S_INI</a>) ? {<a  onClick="return qs(event,this,81)"  class=SR href="rvcorem.v.html#317">pending_exception</a>!=~0, <a  onClick="return qs(event,this,36)"  class=SI href="rvcorem.v.html#63">w_pagefault</a>!=~0, (<a  onClick="return qs(event,this,43)"  class=SOR href="rvcorem.v.html#85">state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#312">S_EX1</a> &amp;&amp; <a  onClick="return qs(event,this,101)"  class=SR href="rvcorem.v.html#272">r_op_ECALL</a>)} : 0;

    <span class=C>/**********************************************************************************************/</span>
<a name="980"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#980">w_d_we_t</a> = (<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#315">S_SD</a> &amp;&amp; (<a  onClick="return qs(event,this,98)"  class=SR href="rvcorem.v.html#269">r_op_STORE</a> || 
                                        (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a> &amp;&amp;  <a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a> &amp;&amp; !<a  onClick="return qs(event,this,114)"  class=SR href="rvcorem.v.html#325">r_wb_data</a>[0]) || 
                                        (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a> &amp;&amp; !<a  onClick="return qs(event,this,96)"  class=SR href="rvcorem.v.html#267">r_op_AMO_LR</a> &amp;&amp; !<a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a>)));
<a name="983"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#983">w_d_en_t</a> = (<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#313">S_LD</a> &amp;&amp; (<a  onClick="return qs(event,this,97)"  class=SR href="rvcorem.v.html#268">r_op_LOAD</a> || (<a  onClick="return qs(event,this,99)"  class=SR href="rvcorem.v.html#270">r_op_AMO</a> &amp;&amp; (!<a  onClick="return qs(event,this,76)"  class=SR href="rvcorem.v.html#266">r_op_AMO_SC</a>))));

         
<a name="986"></a>    <span class=K>reg</span>       <a  onClick="return qs(event,this,202)"  class=SR href="rvcorem.v.html#990">r_data_we</a>=0;
<a name="987"></a>    <span class=K>reg</span>       <a  onClick="return qs(event,this,203)"  class=SR href="rvcorem.v.html#991">r_data_en</a>=0; <span class=C>/* memory, read enable */</span>
<a name="988"></a>    <span class=K>reg</span> [1:0] <a  onClick="return qs(event,this,204)"  class=SR href="rvcorem.v.html#992">r_tlb_req</a>=0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,12)"  class=SI href="rvcorem.v.html#54">CLK</a>) <span class=K>begin</span>
<a name="990"></a>        <a  onClick="return qs(event,this,202)"  class=SR href="rvcorem.v.html#986">r_data_we</a> &lt;= <a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#980">w_d_we_t</a>;
<a name="991"></a>        <a  onClick="return qs(event,this,203)"  class=SR href="rvcorem.v.html#987">r_data_en</a> &lt;= <a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#983">w_d_en_t</a>;
<a name="992"></a>        <a  onClick="return qs(event,this,204)"  class=SR href="rvcorem.v.html#988">r_tlb_req</a> &lt;= (<a  onClick="return qs(event,this,128)"  class=SW href="rvcorem.v.html#965">w_state</a>==<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#308">S_IF</a> &amp;&amp; <a  onClick="return qs(event,this,134)"  class=SW href="rvcorem.v.html#203">w_if_state</a>!=1) ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#332">ACCESS_CODE</a>  :     <span class=C>//// Note!!
</span>                     (<a  onClick="return qs(event,this,201)"  class=SW href="rvcorem.v.html#983">w_d_en_t</a>)                        ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#330">ACCESS_READ</a>  :
                     (<a  onClick="return qs(event,this,200)"  class=SW href="rvcorem.v.html#980">w_d_we_t</a>)                        ? <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#331">ACCESS_WRITE</a> : <span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#333">ACCESS_NONE</a>;
    <span class=K>end</span>

<a name="997"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,37)"  class=SO href="rvcorem.v.html#80">w_tlb_req</a>  = <a  onClick="return qs(event,this,204)"  class=SR href="rvcorem.v.html#992">r_tlb_req</a>;
<a name="998"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,23)"  class=SO href="rvcorem.v.html#81">w_data_we</a>  = <a  onClick="return qs(event,this,202)"  class=SR href="rvcorem.v.html#990">r_data_we</a>;
<a name="999"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,25)"  class=SO href="rvcorem.v.html#73">w_priv</a>     = <a  onClick="return qs(event,this,77)"  class=SR href="rvcorem.v.html#768">priv</a>;
<a name="1000"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,26)"  class=SO href="rvcorem.v.html#74">w_satp</a>     = <a  onClick="return qs(event,this,74)"  class=SR href="rvcorem.v.html#867">satp</a>;
</pre>
<center><table class=NB cols=3 ><tr><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">Next</a></td><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';" ><font color="#808080">1</font></td><td align="center" width="33%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='rvcorem.v.p2.html';"><a target="_top" href="rvcorem.v.p2.html">2</a></td></tr></table></center>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return "rvcorem.v.p2.html"; }
function first_page() { return ""; }
var extra_info = [
["S","rvcorem.v.html#16","","rvcorem.v.html#247","microc.v.html#22","hierarchy-s.p2.html#CLK___m_regfile"],
["S","rvcorem.v.html#17","","rvcorem.v.html#247","microc.v.html#69","hierarchy-s.p9.html#w_rs1___m_regfile"],
["S","rvcorem.v.html#17","","rvcorem.v.html#247","microc.v.html#70","hierarchy-s.p9.html#w_rs2___m_regfile"],
["S","rvcorem.v.html#18","rvcorem.v.html#26","","rvcorem.v.html#26","hierarchy-s.p9.html#w_rdata1___m_regfile"],
["S","rvcorem.v.html#18","rvcorem.v.html#27","","rvcorem.v.html#27","hierarchy-s.p9.html#w_rdata2___m_regfile"],
["S","rvcorem.v.html#19","","rvcorem.v.html#247","microc.v.html#79","hierarchy-s.p9.html#w_we___m_regfile"],
["S","rvcorem.v.html#20","","rvcorem.v.html#247","microc.v.html#88","hierarchy-s.p7.html#rd___m_regfile"],
["S","rvcorem.v.html#21","","rvcorem.v.html#247","microc.v.html#52","hierarchy-s.p9.html#w_wdata___m_regfile"],
["S","rvcorem.v.html#22","","rvcorem.v.html#247","cpummu.v.html#8","hierarchy-s.p9.html#w_hart_id___m_regfile"],
["S","rvcorem.v.html#24","rvcorem.v.html#31","","rvcorem.v.html#31","hierarchy-s.p5.html#mem___m_regfile"],
["S","rvcorem.v.html#35","","","","hierarchy-s.p4.html#i___m_regfile"],
["S","rvcorem.v.html#54","","cpummu.v.html#111","","hierarchy-s.p2.html#CLK___m_RVCoreM"],
["S","rvcorem.v.html#54","","cpummu.v.html#112","main.v.html#268","hierarchy-s.p7.html#RST_X___m_RVCoreM"],
["S","rvcorem.v.html#54","","main.v.html#399","main.v.html#309","hierarchy-s.p9.html#w_stall___m_RVCoreM"],
["S","rvcorem.v.html#56","","cpummu.v.html#114","cpummu.v.html#8","hierarchy-s.p9.html#w_hart_id___m_RVCoreM"],
["S","rvcorem.v.html#55","","cpummu.v.html#115","maintn.v.html#259","hierarchy-s.p9.html#w_ipi___m_RVCoreM"],
["S","rvcorem.v.html#65","rvcorem.v.p2.html#1007","","rvcorem.v.p2.html#1007","hierarchy-s.p7.html#r_halt___m_RVCoreM"],
["S","rvcorem.v.html#68","rvcorem.v.html#216","","rvcorem.v.html#216","hierarchy-s.p9.html#w_insn_addr___m_RVCoreM"],
["S","rvcorem.v.html#70","rvcorem.v.html#401","","rvcorem.v.html#401","hierarchy-s.p9.html#w_data_addr___m_RVCoreM"],
["S","rvcorem.v.html#57","","cpummu.v.html#119","mmu.v.html#331","hierarchy-s.p9.html#w_insn_data___m_RVCoreM"],
["S","rvcorem.v.html#57","","cpummu.v.html#120","","hierarchy-s.p9.html#w_data_data___m_RVCoreM"],
["S","rvcorem.v.html#67","rvcorem.v.html#439","","rvcorem.v.html#439","hierarchy-s.p9.html#w_data_wdata___m_RVCoreM"],
["S","rvcorem.v.html#81","rvcorem.v.html#998","","rvcorem.v.html#998","hierarchy-s.p9.html#w_data_we___m_RVCoreM"],
["S","rvcorem.v.html#69","rvcorem.v.html#400","","rvcorem.v.html#400","hierarchy-s.p9.html#w_data_ctrl___m_RVCoreM"],
["S","rvcorem.v.html#73","rvcorem.v.html#999","","rvcorem.v.html#999","hierarchy-s.p9.html#w_priv___m_RVCoreM"],
["S","rvcorem.v.html#74","rvcorem.v.html#1000","","rvcorem.v.html#1000","hierarchy-s.p9.html#w_satp___m_RVCoreM"],
["S","rvcorem.v.html#75","rvcorem.v.p2.html#1001","","rvcorem.v.p2.html#1001","hierarchy-s.p9.html#w_mstatus___m_RVCoreM"],
["S","rvcorem.v.html#71","","cpummu.v.html#127","","hierarchy-s.p9.html#w_mtime___m_RVCoreM"],
["S","rvcorem.v.html#72","rvcorem.v.p2.html#1003","","rvcorem.v.p2.html#1003","hierarchy-s.p9.html#w_mtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#58","","cpummu.v.html#129","mmu.v.html#358","hierarchy-s.p9.html#w_wmtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#59","","cpummu.v.html#130","mmu.v.html#367","hierarchy-s.p9.html#w_clint_we___m_RVCoreM"],
["S","rvcorem.v.html#76","rvcorem.v.p2.html#1004","","rvcorem.v.p2.html#1004","hierarchy-s.p9.html#w_mip___m_RVCoreM"],
["S","rvcorem.v.html#60","","cpummu.v.html#132","","hierarchy-s.p9.html#w_wmip___m_RVCoreM"],
["S","rvcorem.v.html#61","","cpummu.v.html#133","","hierarchy-s.p9.html#w_plic_we___m_RVCoreM"],
["S","rvcorem.v.html#62","","cpummu.v.html#134","mmu.v.html#355","hierarchy-s.p9.html#w_busy___m_RVCoreM"],
["S","rvcorem.v.html#63","","cpummu.v.html#135","mmu.v.html#136","hierarchy-s.p9.html#w_pagefault___m_RVCoreM"],
["S","rvcorem.v.html#80","rvcorem.v.html#997","","rvcorem.v.html#997","hierarchy-s.p9.html#w_tlb_req___m_RVCoreM"],
["S","rvcorem.v.html#82","rvcorem.v.html#914","","rvcorem.v.html#914","hierarchy-s.p9.html#w_tlb_flush___m_RVCoreM"],
["S","rvcorem.v.html#77","rvcorem.v.p2.html#1010","","rvcorem.v.p2.html#1010","hierarchy-s.p9.html#w_core_pc___m_RVCoreM"],
["S","rvcorem.v.html#78","rvcorem.v.p2.html#1011","","rvcorem.v.p2.html#1011","hierarchy-s.p9.html#w_core_ir___m_RVCoreM"],
["S","rvcorem.v.html#66","rvcorem.v.p2.html#1012","","rvcorem.v.p2.html#1012","hierarchy-s.p9.html#w_core_odata___m_RVCoreM"],
["S","rvcorem.v.html#79","rvcorem.v.html#190","","rvcorem.v.html#190","hierarchy-s.p9.html#w_init_stage___m_RVCoreM"],
["S","rvcorem.v.html#85","rvcorem.v.html#85","","rvcorem.v.html#85","hierarchy-s.p8.html#state___m_RVCoreM"],
["S","rvcorem.v.html#86","rvcorem.v.html#86","","rvcorem.v.html#86","hierarchy-s.p6.html#pc___m_RVCoreM"],
["S","rvcorem.v.html#131","rvcorem.v.html#131","","rvcorem.v.html#131","hierarchy-s.p7.html#r_ir___m_RVCoreM"],
["S","rvcorem.v.html#87","rvcorem.v.html#87","","rvcorem.v.html#87","hierarchy-s.p6.html#pc_stip___m_RVCoreM"],
["S","rvcorem.v.html#111","rvcorem.v.html#111","","rvcorem.v.html#111","hierarchy-s.p7.html#reserved___m_RVCoreM"],
["S","rvcorem.v.html#110","rvcorem.v.html#110","","rvcorem.v.html#110","hierarchy-s.p5.html#load_res___m_RVCoreM"],
["S","rvcorem.v.html#112","rvcorem.v.html#117","","rvcorem.v.html#117","hierarchy-s.p4.html#hart_sc___m_RVCoreM"],
["S","rvcorem.v.html#113","","cpummu.v.html#150","rvcorem.v.html#111","hierarchy-s.p9.html#w_oh_reserved___m_RVCoreM"],
["S","rvcorem.v.html#114","","cpummu.v.html#151","rvcorem.v.html#110","hierarchy-s.p9.html#w_oh_load_res___m_RVCoreM"],
["S","rvcorem.v.html#113","","cpummu.v.html#152","rvcorem.v.html#117","hierarchy-s.p9.html#w_oh_sc___m_RVCoreM"],
["S","rvcorem.v.html#115","","cpummu.v.html#153","rvcorem.v.html#86","hierarchy-s.p9.html#w_oh_pc___m_RVCoreM"],
["S","rvcorem.v.html#116","","cpummu.v.html#154","busarbiter.v.html#40","hierarchy-s.p9.html#w_grant___m_RVCoreM"],
["S","rvcorem.v.html#682","rvcorem.v.html#682","","rvcorem.v.html#682","hierarchy-s.p7.html#r_ipi_taken___m_RVCoreM"],
["S","rvcorem.v.html#89","rvcorem.v.html#767","","rvcorem.v.html#767","hierarchy-s.p5.html#mstatus___m_RVCoreM"],
["S","rvcorem.v.html#90","rvcorem.v.html#849","","rvcorem.v.html#849","hierarchy-s.p5.html#mtvec___m_RVCoreM"],
["S","rvcorem.v.html#91","rvcorem.v.html#851","","rvcorem.v.html#851","hierarchy-s.p5.html#mscratch___m_RVCoreM"],
["S","rvcorem.v.html#92","rvcorem.v.html#771","","rvcorem.v.html#771","hierarchy-s.p5.html#mepc___m_RVCoreM"],
["S","rvcorem.v.html#93","rvcorem.v.html#770","","rvcorem.v.html#770","hierarchy-s.p5.html#mcause___m_RVCoreM"],
["S","rvcorem.v.html#94","rvcorem.v.html#772","","rvcorem.v.html#772","hierarchy-s.p5.html#mtval___m_RVCoreM"],
["S","rvcorem.v.html#95","rvcorem.v.html#95","","rvcorem.v.html#95","hierarchy-s.p5.html#mhartid___m_RVCoreM"],
["S","rvcorem.v.html#96","","","","hierarchy-s.p5.html#misa___m_RVCoreM"],
["S","rvcorem.v.html#97","rvcorem.v.html#856","","rvcorem.v.html#856","hierarchy-s.p5.html#mie___m_RVCoreM"],
["S","rvcorem.v.html#98","rvcorem.v.html#689","","rvcorem.v.html#689","hierarchy-s.p5.html#mip___m_RVCoreM"],
["S","rvcorem.v.html#99","rvcorem.v.html#860","","rvcorem.v.html#860","hierarchy-s.p5.html#medeleg___m_RVCoreM"],
["S","rvcorem.v.html#100","rvcorem.v.html#862","","rvcorem.v.html#862","hierarchy-s.p5.html#mideleg___m_RVCoreM"],
["S","rvcorem.v.html#101","rvcorem.v.html#850","","rvcorem.v.html#850","hierarchy-s.p5.html#mcounteren___m_RVCoreM"],
["S","rvcorem.v.html#102","rvcorem.v.html#842","","rvcorem.v.html#842","hierarchy-s.p8.html#stvec___m_RVCoreM"],
["S","rvcorem.v.html#103","rvcorem.v.html#844","","rvcorem.v.html#844","hierarchy-s.p8.html#sscratch___m_RVCoreM"],
["S","rvcorem.v.html#104","rvcorem.v.html#765","","rvcorem.v.html#765","hierarchy-s.p8.html#sepc___m_RVCoreM"],
["S","rvcorem.v.html#105","rvcorem.v.html#764","","rvcorem.v.html#764","hierarchy-s.p8.html#scause___m_RVCoreM"],
["S","rvcorem.v.html#106","rvcorem.v.html#766","","rvcorem.v.html#766","hierarchy-s.p8.html#stval___m_RVCoreM"],
["S","rvcorem.v.html#107","rvcorem.v.html#867","","rvcorem.v.html#867","hierarchy-s.p8.html#satp___m_RVCoreM"],
["S","rvcorem.v.html#108","rvcorem.v.html#843","","rvcorem.v.html#843","hierarchy-s.p8.html#scounteren___m_RVCoreM"],
["S","rvcorem.v.html#144","rvcorem.v.html#266","","rvcorem.v.html#266","hierarchy-s.p7.html#r_op_AMO_SC___m_RVCoreM"],
["S","rvcorem.v.html#119","rvcorem.v.html#768","","rvcorem.v.html#768","hierarchy-s.p6.html#priv___m_RVCoreM"],
["S","rvcorem.v.html#121","rvcorem.v.html#736","","rvcorem.v.html#736","hierarchy-s.p5.html#mtimecmp___m_RVCoreM"],
["S","rvcorem.v.html#122","rvcorem.v.html#739","","rvcorem.v.html#739","hierarchy-s.p7.html#r_was_clint_we___m_RVCoreM"],
["S","rvcorem.v.html#123","rvcorem.v.html#553","","rvcorem.v.html#553","hierarchy-s.p6.html#pending_tval___m_RVCoreM"],
["S","rvcorem.v.html#124","rvcorem.v.html#317","","rvcorem.v.html#317","hierarchy-s.p6.html#pending_exception___m_RVCoreM"],
["S","rvcorem.v.html#127","rvcorem.v.html#200","","rvcorem.v.html#200","hierarchy-s.p7.html#r_cpc___m_RVCoreM"],
["S","rvcorem.v.html#128","","","","hierarchy-s.p7.html#r_ir_org___m_RVCoreM"],
["S","rvcorem.v.html#130","rvcorem.v.html#234","","rvcorem.v.html#234","hierarchy-s.p7.html#r_cinsn___m_RVCoreM"],
["S","rvcorem.v.html#132","rvcorem.v.html#235","","rvcorem.v.html#235","hierarchy-s.p7.html#r_ir16___m_RVCoreM"],
["S","rvcorem.v.html#133","rvcorem.v.html#562","","rvcorem.v.html#562","hierarchy-s.p7.html#r_ir16_v___m_RVCoreM"],
["S","rvcorem.v.html#135","rvcorem.v.html#252","","rvcorem.v.html#252","hierarchy-s.p7.html#r_opcode___m_RVCoreM"],
["S","rvcorem.v.html#136","rvcorem.v.html#253","","rvcorem.v.html#253","hierarchy-s.p7.html#r_rd___m_RVCoreM"],
["S","rvcorem.v.html#137","rvcorem.v.html#254","","rvcorem.v.html#254","hierarchy-s.p7.html#r_rs1___m_RVCoreM"],
["S","rvcorem.v.html#138","rvcorem.v.html#255","","rvcorem.v.html#255","hierarchy-s.p7.html#r_rs2___m_RVCoreM"],
["S","rvcorem.v.html#139","rvcorem.v.html#256","","rvcorem.v.html#256","hierarchy-s.p7.html#r_funct3___m_RVCoreM"],
["S","rvcorem.v.html#140","rvcorem.v.html#257","","rvcorem.v.html#257","hierarchy-s.p7.html#r_funct5___m_RVCoreM"],
["S","rvcorem.v.html#141","rvcorem.v.html#258","","rvcorem.v.html#258","hierarchy-s.p7.html#r_funct7___m_RVCoreM"],
["S","rvcorem.v.html#142","rvcorem.v.html#259","","rvcorem.v.html#259","hierarchy-s.p7.html#r_funct12___m_RVCoreM"],
["S","rvcorem.v.html#143","rvcorem.v.html#260","","rvcorem.v.html#260","hierarchy-s.p7.html#r_imm___m_RVCoreM"],
["S","rvcorem.v.html#145","rvcorem.v.html#267","","rvcorem.v.html#267","hierarchy-s.p7.html#r_op_AMO_LR___m_RVCoreM"],
["S","rvcorem.v.html#146","rvcorem.v.html#268","","rvcorem.v.html#268","hierarchy-s.p7.html#r_op_LOAD___m_RVCoreM"],
["S","rvcorem.v.html#147","rvcorem.v.html#269","","rvcorem.v.html#269","hierarchy-s.p7.html#r_op_STORE___m_RVCoreM"],
["S","rvcorem.v.html#148","rvcorem.v.html#270","","rvcorem.v.html#270","hierarchy-s.p7.html#r_op_AMO___m_RVCoreM"],
["S","rvcorem.v.html#149","rvcorem.v.html#271","","rvcorem.v.html#271","hierarchy-s.p7.html#r_op_SYS___m_RVCoreM"],
["S","rvcorem.v.html#150","rvcorem.v.html#272","","rvcorem.v.html#272","hierarchy-s.p7.html#r_op_ECALL___m_RVCoreM"],
["S","rvcorem.v.html#151","rvcorem.v.html#273","","rvcorem.v.html#273","hierarchy-s.p7.html#r_op_SRET___m_RVCoreM"],
["S","rvcorem.v.html#152","rvcorem.v.html#274","","rvcorem.v.html#274","hierarchy-s.p7.html#r_op_MRET___m_RVCoreM"],
["S","rvcorem.v.html#153","rvcorem.v.html#275","","rvcorem.v.html#275","hierarchy-s.p7.html#r_op_CSR_MSTA___m_RVCoreM"],
["S","rvcorem.v.html#154","rvcorem.v.html#276","","rvcorem.v.html#276","hierarchy-s.p7.html#r_op_CSR_SSTA___m_RVCoreM"],
["S","rvcorem.v.html#156","rvcorem.v.html#250","","rvcorem.v.html#250","hierarchy-s.p7.html#r_rrs1___m_RVCoreM"],
["S","rvcorem.v.html#157","rvcorem.v.html#251","","rvcorem.v.html#251","hierarchy-s.p7.html#r_rrs2___m_RVCoreM"],
["S","rvcorem.v.html#158","rvcorem.v.html#297","","rvcorem.v.html#297","hierarchy-s.p7.html#r_rcsr___m_RVCoreM"],
["S","rvcorem.v.html#159","rvcorem.v.html#298","","rvcorem.v.html#298","hierarchy-s.p7.html#r_alu_in2___m_RVCoreM"],
["S","rvcorem.v.html#160","rvcorem.v.html#299","","rvcorem.v.html#299","hierarchy-s.p7.html#r_alu_f7___m_RVCoreM"],
["S","rvcorem.v.html#162","rvcorem.v.html#321","","rvcorem.v.html#321","hierarchy-s.p7.html#r_tkn___m_RVCoreM"],
["S","rvcorem.v.html#163","rvcorem.v.html#334","","rvcorem.v.html#334","hierarchy-s.p7.html#r_jmp_pc___m_RVCoreM"],
["S","rvcorem.v.html#164","rvcorem.v.html#293","","rvcorem.v.html#293","hierarchy-s.p7.html#r_mem_addr___m_RVCoreM"],
["S","rvcorem.v.html#165","rvcorem.v.html#325","","rvcorem.v.html#325","hierarchy-s.p7.html#r_wb_data___m_RVCoreM"],
["S","rvcorem.v.html#166","rvcorem.v.html#356","","rvcorem.v.html#356","hierarchy-s.p7.html#r_wb_data_csr___m_RVCoreM"],
["S","rvcorem.v.html#168","rvcorem.v.html#428","","rvcorem.v.html#428","hierarchy-s.p7.html#r_mem_rdata___m_RVCoreM"],
["S","rvcorem.v.html#169","rvcorem.v.html#429","","rvcorem.v.html#429","hierarchy-s.p7.html#r_atom_wdata___m_RVCoreM"],
["S","rvcorem.v.html#172","rvcorem.v.html#575","","rvcorem.v.html#575","hierarchy-s.p4.html#e_icount___m_RVCoreM"],
["S","rvcorem.v.html#173","","","","hierarchy-s.p7.html#r_if_done___m_RVCoreM"],
["S","rvcorem.v.html#174","rvcorem.v.html#199","","rvcorem.v.html#199","hierarchy-s.p7.html#r_if_irl___m_RVCoreM"],
["S","rvcorem.v.html#175","rvcorem.v.html#601","","rvcorem.v.html#601","hierarchy-s.p7.html#r_rcsr_t___m_RVCoreM"],
["S","rvcorem.v.html#176","rvcorem.v.html#500","","rvcorem.v.html#500","hierarchy-s.p4.html#irq_num___m_RVCoreM"],
["S","rvcorem.v.html#177","rvcorem.v.html#208","","rvcorem.v.html#208","hierarchy-s.p7.html#r_if_state___m_RVCoreM"],
["S","rvcorem.v.html#180","rvcorem.v.html#442","","rvcorem.v.html#442","hierarchy-s.p9.html#w_wb_r_data___m_RVCoreM"],
["S","rvcorem.v.html#181","rvcorem.v.html#446","","rvcorem.v.html#446","hierarchy-s.p9.html#w_wb_r_enable___m_RVCoreM"],
["S","rvcorem.v.html#182","rvcorem.v.html#494","","rvcorem.v.html#494","hierarchy-s.p9.html#w_interrupt_mask___m_RVCoreM"],
["S","rvcorem.v.html#183","rvcorem.v.html#495","","rvcorem.v.html#495","hierarchy-s.p9.html#w_irq_t___m_RVCoreM"],
["S","rvcorem.v.html#184","rvcorem.v.html#965","","rvcorem.v.html#965","hierarchy-s.p9.html#w_state___m_RVCoreM"],
["S","rvcorem.v.html#187","rvcorem.v.html#188","","rvcorem.v.html#188","hierarchy-s.p7.html#r_init_stage___m_RVCoreM"],
["S","rvcorem.v.html#193","rvcorem.v.html#193","","rvcorem.v.html#193","hierarchy-s.p9.html#w_vadr1___m_RVCoreM"],
["S","rvcorem.v.html#194","rvcorem.v.html#194","","rvcorem.v.html#194","hierarchy-s.p9.html#w_vadr2___m_RVCoreM"],
["S","rvcorem.v.html#195","rvcorem.v.html#195","","rvcorem.v.html#195","hierarchy-s.p9.html#w_nalign4___m_RVCoreM"],
["S","rvcorem.v.html#196","rvcorem.v.html#196","","rvcorem.v.html#196","hierarchy-s.p9.html#w_usestate___m_RVCoreM"],
["S","rvcorem.v.html#203","rvcorem.v.html#203","","rvcorem.v.html#203","hierarchy-s.p9.html#w_if_state___m_RVCoreM"],
["S","rvcorem.v.html#210","rvcorem.v.html#212","","rvcorem.v.html#212","hierarchy-s.p7.html#r_insn_addr___m_RVCoreM"],
["S","rvcorem.v.html#218","rvcorem.v.html#218","","rvcorem.v.html#218","hierarchy-s.p9.html#w_ir_org___m_RVCoreM"],
["S","rvcorem.v.html#223","rvcorem.v.html#223","","rvcorem.v.html#223","hierarchy-s.p9.html#w_cinsn___m_RVCoreM"],
["S","rvcorem.v.html#225","rvcorem.v.html#226","","rvcorem.v.p2.html#1401","hierarchy-s.p9.html#w_ir_t___m_RVCoreM"],
["S","rvcorem.v.html#228","rvcorem.v.html#228","","rvcorem.v.html#228","hierarchy-s.p9.html#w_nop___m_RVCoreM"],
["S","rvcorem.v.html#231","rvcorem.v.html#231","","rvcorem.v.html#231","hierarchy-s.p9.html#w_ir___m_RVCoreM"],
["S","rvcorem.v.html#239","rvcorem.v.html#240","","rvcorem.v.p2.html#1307","hierarchy-s.p9.html#w_imm___m_RVCoreM"],
["S","rvcorem.v.html#242","rvcorem.v.html#242","","rvcorem.v.html#242","hierarchy-s.p9.html#w_rs1___m_RVCoreM"],
["S","rvcorem.v.html#243","rvcorem.v.html#243","","rvcorem.v.html#243","hierarchy-s.p9.html#w_rs2___m_RVCoreM"],
["S","rvcorem.v.html#245","rvcorem.v.html#247","","rvcorem.v.html#26","hierarchy-s.p9.html#w_rrs1___m_RVCoreM"],
["S","rvcorem.v.html#245","rvcorem.v.html#247","","rvcorem.v.html#27","hierarchy-s.p9.html#w_rrs2___m_RVCoreM"],
["S","rvcorem.v.html#246","rvcorem.v.html#246","","rvcorem.v.html#246","hierarchy-s.p9.html#w_regfile_we___m_RVCoreM"],
["S","rvcorem.v.html#263","rvcorem.v.html#263","","rvcorem.v.html#263","hierarchy-s.p9.html#w_op_priv___m_RVCoreM"],
["S","rvcorem.v.html#264","rvcorem.v.html#264","","rvcorem.v.html#264","hierarchy-s.p9.html#w_op_csr___m_RVCoreM"],
["S","rvcorem.v.html#280","rvcorem.v.html#280","","rvcorem.v.html#280","hierarchy-s.p9.html#w_sin1___m_RVCoreM"],
["S","rvcorem.v.html#281","rvcorem.v.html#281","","rvcorem.v.html#281","hierarchy-s.p9.html#w_sin2___m_RVCoreM"],
["S","rvcorem.v.html#283","rvcorem.v.html#283","","rvcorem.v.html#283","hierarchy-s.p9.html#w_mul_SS___m_RVCoreM"],
["S","rvcorem.v.html#284","rvcorem.v.html#284","","rvcorem.v.html#284","hierarchy-s.p9.html#w_mul_SU___m_RVCoreM"],
["S","rvcorem.v.html#285","rvcorem.v.html#285","","rvcorem.v.html#285","hierarchy-s.p9.html#w_mul_UU___m_RVCoreM"],
["S","rvcorem.v.html#287","rvcorem.v.html#287","","rvcorem.v.html#287","hierarchy-s.p9.html#w_mem_addr___m_RVCoreM"],
["S","rvcorem.v.html#289","rvcorem.v.html#294","","rvcorem.v.html#294","hierarchy-s.p7.html#r_mul_SS___m_RVCoreM"],
["S","rvcorem.v.html#290","rvcorem.v.html#295","","rvcorem.v.html#295","hierarchy-s.p7.html#r_mul_SU___m_RVCoreM"],
["S","rvcorem.v.html#291","rvcorem.v.html#296","","rvcorem.v.html#296","hierarchy-s.p7.html#r_mul_UU___m_RVCoreM"],
["S","rvcorem.v.html#304","rvcorem.v.html#310","","rvcorem.v.p2.html#1176","hierarchy-s.p9.html#w_alu_im_rslt___m_RVCoreM"],
["S","rvcorem.v.html#305","rvcorem.v.html#312","","rvcorem.v.p2.html#1232","hierarchy-s.p9.html#w_alu_b_rslt___m_RVCoreM"],
["S","rvcorem.v.html#306","rvcorem.v.html#313","","rvcorem.v.p2.html#1280","hierarchy-s.p9.html#w_alu_c_rslt___m_RVCoreM"],
["S","rvcorem.v.html#307","rvcorem.v.html#307","","rvcorem.v.html#307","hierarchy-s.p9.html#w_ex1___m_RVCoreM"],
["S","rvcorem.v.html#308","rvcorem.v.html#311","","rvcorem.v.p2.html#1132","hierarchy-s.p9.html#w_ex1_busy___m_RVCoreM"],
["S","rvcorem.v.html#397","rvcorem.v.html#398","","rvcorem.v.html#398","hierarchy-s.p7.html#r_data_ctrl___m_RVCoreM"],
["S","rvcorem.v.html#403","rvcorem.v.html#403","","rvcorem.v.html#403","hierarchy-s.p9.html#w_mem_rdata___m_RVCoreM"],
["S","rvcorem.v.html#404","rvcorem.v.html#414","","rvcorem.v.html#414","hierarchy-s.p7.html#r_lrpc___m_RVCoreM"],
["S","rvcorem.v.html#404","rvcorem.v.html#415","","rvcorem.v.html#415","hierarchy-s.p7.html#r_lrmtime___m_RVCoreM"],
["S","rvcorem.v.html#424","rvcorem.v.html#425","","rvcorem.v.p2.html#1255","hierarchy-s.p9.html#w_alu_a_rslt___m_RVCoreM"],
["S","rvcorem.v.html#433","rvcorem.v.html#435","","rvcorem.v.html#435","hierarchy-s.p7.html#r_data_wdata___m_RVCoreM"],
["S","rvcorem.v.html#456","rvcorem.v.html#460","","rvcorem.v.html#460","hierarchy-s.p7.html#r_mstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#457","rvcorem.v.html#466","","rvcorem.v.html#466","hierarchy-s.p7.html#r_priv_t___m_RVCoreM"],
["S","rvcorem.v.html#488","rvcorem.v.html#905","","rvcorem.v.html#905","hierarchy-s.p9.html#w_mstatus_nxt___m_RVCoreM"],
["S","rvcorem.v.html#490","rvcorem.v.html#490","","rvcorem.v.html#490","hierarchy-s.p6.html#pending_interrupts___m_RVCoreM"],
["S","rvcorem.v.html#491","rvcorem.v.html#491","","rvcorem.v.html#491","hierarchy-s.p4.html#enable_interrupts___m_RVCoreM"],
["S","rvcorem.v.html#537","rvcorem.v.html#537","","rvcorem.v.html#537","hierarchy-s.p2.html#cause___m_RVCoreM"],
["S","rvcorem.v.html#538","rvcorem.v.html#538","","rvcorem.v.html#538","hierarchy-s.p9.html#w_deleg___m_RVCoreM"],
["S","rvcorem.v.html#542","rvcorem.v.html#542","","rvcorem.v.html#542","hierarchy-s.p9.html#w_executing_wfi___m_RVCoreM"],
["S","rvcorem.v.html#543","rvcorem.v.html#543","","rvcorem.v.html#543","hierarchy-s.p9.html#w_exit_wfi___m_RVCoreM"],
["S","rvcorem.v.html#680","rvcorem.v.html#680","","rvcorem.v.html#680","hierarchy-s.p9.html#w_take_int___m_RVCoreM"],
["S","rvcorem.v.html#581","rvcorem.v.html#581","","rvcorem.v.html#581","hierarchy-s.p9.html#w_csr_addr___m_RVCoreM"],
["S","rvcorem.v.html#596","rvcorem.v.html#596","","rvcorem.v.html#596","hierarchy-s.p9.html#w_sstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#597","rvcorem.v.html#597","","rvcorem.v.html#597","hierarchy-s.p9.html#w_mstatus_t___m_RVCoreM"],
["S","rvcorem.v.html#656","rvcorem.v.html#656","","rvcorem.v.html#656","hierarchy-s.p9.html#w_csr_we___m_RVCoreM"],
["S","rvcorem.v.html#658","rvcorem.v.html#658","","rvcorem.v.html#658","hierarchy-s.p9.html#w_sstatus___m_RVCoreM"],
["S","rvcorem.v.html#661","rvcorem.v.html#661","","rvcorem.v.html#661","hierarchy-s.p9.html#w_sstatus_t1___m_RVCoreM"],
["S","rvcorem.v.html#662","rvcorem.v.html#662","","rvcorem.v.html#662","hierarchy-s.p9.html#w_sstatus_t2___m_RVCoreM"],
["S","rvcorem.v.html#663","rvcorem.v.html#663","","rvcorem.v.html#663","hierarchy-s.p9.html#w_sstatus_t3___m_RVCoreM"],
["S","rvcorem.v.html#664","rvcorem.v.html#664","","rvcorem.v.html#664","hierarchy-s.p9.html#w_mstatus_t1___m_RVCoreM"],
["S","rvcorem.v.html#665","rvcorem.v.html#665","","rvcorem.v.html#665","hierarchy-s.p9.html#w_mstatus_t2___m_RVCoreM"],
["S","rvcorem.v.html#666","rvcorem.v.html#666","","rvcorem.v.html#666","hierarchy-s.p9.html#w_mstatus_t3___m_RVCoreM"],
["S","rvcorem.v.html#674","","","","hierarchy-s.p5.html#laurpc___m_RVCoreM"],
["S","rvcorem.v.html#675","rvcorem.v.html#677","","rvcorem.v.html#677","hierarchy-s.p4.html#f___m_RVCoreM"],
["S","rvcorem.v.html#675","rvcorem.v.html#675","","rvcorem.v.html#675","hierarchy-s.p2.html#closed___m_RVCoreM"],
["S","rvcorem.v.html#681","rvcorem.v.html#696","","rvcorem.v.html#696","hierarchy-s.p7.html#r_ipi_max_displays___m_RVCoreM"],
["S","rvcorem.v.html#683","","","","hierarchy-s.p7.html#rim___m_RVCoreM"],
["S","rvcorem.v.html#910","rvcorem.v.html#918","","rvcorem.v.html#918","hierarchy-s.p7.html#r_tlb_flush___m_RVCoreM"],
["S","rvcorem.v.html#911","rvcorem.v.html#911","","rvcorem.v.html#911","hierarchy-s.p9.html#w_data_t___m_RVCoreM"],
["S","rvcorem.v.html#912","rvcorem.v.html#912","","rvcorem.v.html#912","hierarchy-s.p9.html#w_mod___m_RVCoreM"],
["S","rvcorem.v.html#962","rvcorem.v.html#962","","rvcorem.v.html#962","hierarchy-s.p9.html#w_com___m_RVCoreM"],
["S","rvcorem.v.html#976","rvcorem.v.html#977","","rvcorem.v.html#977","hierarchy-s.p7.html#r_com___m_RVCoreM"],
["S","rvcorem.v.html#980","rvcorem.v.html#980","","rvcorem.v.html#980","hierarchy-s.p9.html#w_d_we_t___m_RVCoreM"],
["S","rvcorem.v.html#983","rvcorem.v.html#983","","rvcorem.v.html#983","hierarchy-s.p9.html#w_d_en_t___m_RVCoreM"],
["S","rvcorem.v.html#986","rvcorem.v.html#990","","rvcorem.v.html#990","hierarchy-s.p7.html#r_data_we___m_RVCoreM"],
["S","rvcorem.v.html#987","rvcorem.v.html#991","","rvcorem.v.html#991","hierarchy-s.p7.html#r_data_en___m_RVCoreM"],
["S","rvcorem.v.html#988","rvcorem.v.html#992","","rvcorem.v.html#992","hierarchy-s.p7.html#r_tlb_req___m_RVCoreM"]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Mon May 27 16:23:36 2024</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
../src/rvcorem.v</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
