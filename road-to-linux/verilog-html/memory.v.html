<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>src/memory.v</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return ""; }
function last_page() { return ""; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<pre>
<span class=C>/* Modified by Laurentiu-Cristian Duca, 2021-12-20
 * - implemented a new controller with unaligned ld/sw
 */</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoC (Mini Kuroda/RISC-V)                       since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** Memory Module v0.02                                                                      ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`default_nettype</span> none
<span class=C>/**************************************************************************************************/</span>
<span class=M>`include</span> <a  onClick="return qs(event,this,0)"  class=S href="define.vh.html">&quot;define.vh&quot;</a>

<span class=C>/**** DRAM Main Memory module for implementation                                               ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`ifndef</span> <span class=D>SIM_MODE</span>
<span class=C>/**** DRAM Controller without Cache                                                            ****/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="DRAM_conRV"></a><a  href="mmu.v.html#m_mmu_dram_con"><img alt="[Up: m_mmu dram_con]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>DRAM_conRV</span><a  href="hierarchy-m.html#DRAM_conRV"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="19"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#19">DDR2_DQ_WIDTH</a>   = 16,
<a name="20"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#20">DDR2_DQS_WIDTH</a>  = 2,
<a name="21"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#21">DDR2_ADDR_WIDTH</a> = 13,
<a name="22"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#22">DDR2_BA_WIDTH</a>   = 3,
<a name="23"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#23">DDR2_DM_WIDTH</a>   = 2,
<a name="24"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#24">APP_ADDR_WIDTH</a>  = 27,
<span class=P>`else
</span><span class=P>              parameter DDR3_DQ_WIDTH   = 16,
</span><span class=P>              parameter DDR3_DQS_WIDTH  = 2,
</span><span class=P>              parameter DDR3_ADDR_WIDTH = 14,
</span><span class=P>              parameter DDR3_BA_WIDTH   = 3,
</span><span class=P>              parameter DDR3_DM_WIDTH   = 2,
</span><span class=P>              parameter APP_ADDR_WIDTH  = 28,
</span><span class=M>`endif</span>
<a name="33"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#33">APP_CMD_WIDTH</a>   = 3,
<a name="34"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#34">APP_DATA_WIDTH</a>  = 128,  <span class=C>// Note
</span><a name="35"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#35">APP_MASK_WIDTH</a>  = 16)
    (
     <span class=C>// input clk, rst (active-low)
</span><a name="38"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,1)"  class=SI href="mmu.v.html#967">mig_clk</a>,
<a name="39"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,2)"  class=SI href="mmu.v.html#968">mig_rst_x</a>,
<span class=P>`ifdef ARTYA7
</span><span class=P>     input  wire                         ref_clk,
</span><span class=M>`endif</span>
     <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="45"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#19">DDR2_DQ_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,3)"  class=SIO href="#45">ddr2_dq</a>,
<a name="46"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#20">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,4)"  class=SIO href="#46">ddr2_dqs_n</a>,
<a name="47"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#20">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,5)"  class=SIO href="#47">ddr2_dqs_p</a>,
<a name="48"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#21">DDR2_ADDR_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,6)"  class=SO href="#366">ddr2_addr</a>,
<a name="49"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#22">DDR2_BA_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,7)"  class=SO href="#367">ddr2_ba</a>,
<a name="50"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,8)"  class=SO href="#368">ddr2_ras_n</a>,
<a name="51"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,9)"  class=SO href="#369">ddr2_cas_n</a>,
<a name="52"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,10)"  class=SO href="#370">ddr2_we_n</a>,
<a name="53"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,11)"  class=SO href="#371">ddr2_ck_p</a>,
<a name="54"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,12)"  class=SO href="#372">ddr2_ck_n</a>,
<a name="55"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,13)"  class=SO href="#373">ddr2_cke</a>,
<a name="56"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,14)"  class=SO href="#374">ddr2_cs_n</a>,
<a name="57"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#23">DDR2_DM_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,15)"  class=SO href="#375">ddr2_dm</a>,
<a name="58"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,16)"  class=SO href="#376">ddr2_odt</a>,
<span class=P>`else
</span><span class=P>     inout  wire [DDR3_DQ_WIDTH-1 : 0]   ddr3_dq,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_n,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_p,
</span><span class=P>     output wire [DDR3_ADDR_WIDTH-1 : 0] ddr3_addr,
</span><span class=P>     output wire [DDR3_BA_WIDTH-1 : 0]   ddr3_ba,
</span><span class=P>     output wire                         ddr3_ras_n,
</span><span class=P>     output wire                         ddr3_cas_n,
</span><span class=P>     output wire                         ddr3_we_n,
</span><span class=P>     output wire [0:0]                   ddr3_ck_p,
</span><span class=P>     output wire [0:0]                   ddr3_ck_n,
</span><span class=P>     output wire                         ddr3_reset_n,
</span><span class=P>     output wire [0:0]                   ddr3_cke,
</span><span class=P>     output wire [0:0]                   ddr3_cs_n,
</span><span class=P>     output wire [DDR3_DM_WIDTH-1 : 0]   ddr3_dm,
</span><span class=P>     output wire [0:0]                   ddr3_odt,
</span><span class=M>`endif</span>

     <span class=C>// output clk, rst (active-low)
</span><a name="78"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,17)"  class=SO href="#395">o_clk</a>,
<a name="79"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,18)"  class=SO href="#396">o_rst_x</a>,
     <span class=C>// user interface ports
</span><a name="81"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,19)"  class=SI href="mmu.v.html#959">i_rd_en</a>,
<a name="82"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,20)"  class=SI href="mmu.v.html#960">i_wr_en</a>,
<a name="83"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,21)"  class=SI href="mmu.v.html#961">i_addr</a>,
<a name="84"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,22)"  class=SI href="mmu.v.html#962">i_data</a>,
<a name="85"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,23)"  class=SO href="#402">o_init_calib_complete</a>,
<a name="86"></a>     <span class=K>output</span> <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,24)"  class=SO href="#103">o_data</a>,
<a name="87"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,25)"  class=SO href="#111">o_busy</a>,
<a name="88"></a>     <span class=K>input</span>  <span class=K>wire</span> [2:0]                   <a  onClick="return qs(event,this,26)"  class=SI href="mmu.v.html#965">i_ctrl</a>);

<a name="90"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,27)"  class=SR href="#187">r_we</a>    = 0;
<a name="91"></a>    <span class=K>reg</span>         <a  onClick="return qs(event,this,28)"  class=SR href="#120">r_rd</a>    = 0;
<a name="92"></a>    <span class=K>wire</span> 	<a  onClick="return qs(event,this,29)"  class=SW href="#404">w_busy</a>;
<a name="93"></a>    <span class=K>wire</span>[127:0] <a  onClick="return qs(event,this,30)"  class=SW href="#403">w_dram_odata</a>;
<a name="94"></a>    <span class=K>reg</span> [3:0] <a  onClick="return qs(event,this,31)"  class=SR href="#175">r_mask</a> = 0;
<a name="95"></a>    <span class=K>reg</span>   [2:0] <a  onClick="return qs(event,this,32)"  class=SR href="#124">r_ctrl</a>  = 0;
<a name="96"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,33)"  class=SR href="#96">r_odata</a> = 0;
<a name="97"></a>    <span class=K>reg</span> [127:0] <a  onClick="return qs(event,this,34)"  class=SR href="#142">r_dram_odata1</a> = 0;
<a name="98"></a>    <span class=K>reg</span> [23:0] <a  onClick="return qs(event,this,35)"  class=SR href="#164">r_dram_odata2</a> = 0;
<a name="99"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a>, <a  onClick="return qs(event,this,37)"  class=SR href="#122">r_addr</a>;

    <span class=C>// 16+3 bytes shifted with 0 or 15 bytes.
</span><a name="102"></a>    <span class=K>wire</span>[31:0] <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a> = {<a  onClick="return qs(event,this,35)"  class=SR href="#164">r_dram_odata2</a>, <a  onClick="return qs(event,this,34)"  class=SR href="#142">r_dram_odata1</a>} &gt;&gt; {<a  onClick="return qs(event,this,37)"  class=SR href="#122">r_addr</a>[3:0], 3'b0};
<a name="103"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,24)"  class=SO href="#86">o_data</a> = (<a  onClick="return qs(event,this,32)"  class=SR href="#124">r_ctrl</a>[1:0]==0) ? ((<a  onClick="return qs(event,this,32)"  class=SR href="#124">r_ctrl</a>[2]) ? {24'h0, <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[7:0]} :
                                         {{24{<a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[7]}}, <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[7:0]}) :
                     (<a  onClick="return qs(event,this,32)"  class=SR href="#124">r_ctrl</a>[1:0]==1) ? ((<a  onClick="return qs(event,this,32)"  class=SR href="#124">r_ctrl</a>[2]) ? {16'h0, <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[15:0]} :
                                         {{16{<a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[15]}}, <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>[15:0]}) :
                     <a  onClick="return qs(event,this,38)"  class=SW href="#102">w_odata</a>;
<a name="108"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,39)"  class=SR href="#176">r_wdata</a>=0, <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a>=0;

<a name="110"></a>    <span class=K>reg</span> <a  onClick="return qs(event,this,41)"  class=SR href="#121">r_stall</a> = 0;
<a name="111"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,25)"  class=SO href="#87">o_busy</a> = (<a  onClick="return qs(event,this,41)"  class=SR href="#121">r_stall</a> | <a  onClick="return qs(event,this,29)"  class=SW href="#404">w_busy</a>);
<a name="112"></a>    <span class=K>reg</span> [7:0] <a  onClick="return qs(event,this,42)"  class=SR href="#118">state</a> = 0, <a  onClick="return qs(event,this,43)"  class=SR href="#119">state_next</a> = 0;
<a name="113"></a>    <span class=K>reg</span> [31:0] <a  onClick="return qs(event,this,44)"  class=SR href="#113">r_cnt</a> = 0;
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,17)"  class=SO href="#78">o_clk</a>) <span class=K>begin</span>
        <span class=K>case</span>(<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a>)
        8'd0: <span class=C>// idle
</span>                <span class=K>if</span>(<a  onClick="return qs(event,this,19)"  class=SI href="#81">i_rd_en</a> &amp;&amp; !<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
<a name="118"></a>                        <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 10;
<a name="119"></a>			<a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 30;
<a name="120"></a>			<a  onClick="return qs(event,this,28)"  class=SR href="#91">r_rd</a> &lt;= 1;
<a name="121"></a>                        <a  onClick="return qs(event,this,41)"  class=SR href="#110">r_stall</a> &lt;= 1;
<a name="122"></a>                        <a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a> &lt;= <a  onClick="return qs(event,this,21)"  class=SI href="#83">i_addr</a>;
<a name="123"></a>			<a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= {<a  onClick="return qs(event,this,21)"  class=SI href="#83">i_addr</a>[31:4], 4'b0};
<a name="124"></a>                        <a  onClick="return qs(event,this,32)"  class=SR href="#95">r_ctrl</a> &lt;= <a  onClick="return qs(event,this,26)"  class=SI href="#88">i_ctrl</a>;
                <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,20)"  class=SI href="#82">i_wr_en</a> &amp;&amp; !<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
			<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 20;
                        <a  onClick="return qs(event,this,41)"  class=SR href="#110">r_stall</a> &lt;= 1;
			<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a> &lt;= <a  onClick="return qs(event,this,21)"  class=SI href="#83">i_addr</a>;
                        <a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= {<a  onClick="return qs(event,this,21)"  class=SI href="#83">i_addr</a>[31:2], 2'b0};
<a name="130"></a>                        <a  onClick="return qs(event,this,40)"  class=SR href="#108">r_wdata_ui</a> &lt;= (<a  onClick="return qs(event,this,26)"  class=SI href="#88">i_ctrl</a>[1:0] == 0) ? {24'h0, <a  onClick="return qs(event,this,22)"  class=SI href="#84">i_data</a>[7:0]} :
                                   (<a  onClick="return qs(event,this,26)"  class=SI href="#88">i_ctrl</a>[1:0] == 1) ? {16'h0, <a  onClick="return qs(event,this,22)"  class=SI href="#84">i_data</a>[15:0]} : <a  onClick="return qs(event,this,22)"  class=SI href="#84">i_data</a>;
                        <a  onClick="return qs(event,this,32)"  class=SR href="#95">r_ctrl</a> &lt;= <a  onClick="return qs(event,this,26)"  class=SI href="#88">i_ctrl</a>;
                <span class=K>end</span>
	8'd10: <span class=K>begin</span> <span class=C>//mem read
</span>		<span class=K>if</span>(<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
			<a  onClick="return qs(event,this,28)"  class=SR href="#91">r_rd</a> &lt;= 0;
                	<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 11;
		<span class=K>end</span> 
	<span class=K>end</span>
	8'd11: <span class=K>begin</span>
                <span class=K>if</span>(!<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
<a name="142"></a>                        <a  onClick="return qs(event,this,34)"  class=SR href="#97">r_dram_odata1</a> &lt;= <a  onClick="return qs(event,this,30)"  class=SW href="#403">w_dram_odata</a>;
                        <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[3:0] &lt;= 12) <span class=C>// one read is enough
</span>                                <a  onClick="return qs(event,this,42)"  class=SR href="#118">state</a> &lt;= 100;
                        <span class=K>else</span> <span class=K>begin</span>
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 12;
                                <a  onClick="return qs(event,this,28)"  class=SR href="#91">r_rd</a> &lt;= 1;
                                <span class=C>//r_maddr &lt;= {r_addr[31:4]+28'b1, 4'b0};
</span>                                <a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a> + 16;
                        <span class=K>end</span>
                <span class=K>end</span>
        <span class=K>end</span>
	8'd12: <span class=K>begin</span> 
		<span class=C>// idem state 10
</span>		<span class=K>if</span>(<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,28)"  class=SR href="#91">r_rd</a> &lt;= 0;
                        <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 13;
                <span class=K>end</span>
	<span class=K>end</span>
	8'd13: <span class=K>begin</span>
		<span class=C>// similar state 11
</span>		<span class=K>if</span>(!<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
                        <span class=C>//r_dram_odata2 &lt;= w_dram_odata[23:0];
</span><a name="164"></a>			<a  onClick="return qs(event,this,35)"  class=SR href="#98">r_dram_odata2</a> &lt;= <a  onClick="return qs(event,this,30)"  class=SW href="#403">w_dram_odata</a>;
                        <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 100;
                <span class=K>end</span>
	<span class=K>end</span>
	8'd100: <span class=K>begin</span> 
		<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 0;
		<a  onClick="return qs(event,this,41)"  class=SR href="#110">r_stall</a> &lt;= 0;
	<span class=K>end</span>
	8'd20: <span class=K>begin</span> <span class=C>// mem_write
</span>                <span class=K>if</span>(<a  onClick="return qs(event,this,32)"  class=SR href="#95">r_ctrl</a>[1:0]==0) <span class=K>begin</span> <span class=C>// SB
</span>			<span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 0) <span class=K>begin</span>
<a name="175"></a>                        	<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0001;
<a name="176"></a>				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a>;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 1) <span class=K>begin</span>
				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0010;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 8;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 2) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0100;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 16;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 3) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1000;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 24;
			<span class=K>end</span>
<a name="187"></a>			<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
			<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
			<a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
                <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,32)"  class=SR href="#95">r_ctrl</a>[1:0]==1) <span class=K>begin</span> <span class=C>// SH
</span>			<span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 0) <span class=K>begin</span>
				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0011;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a>;
				<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
				<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
				<a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 1) <span class=K>begin</span>
				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0110;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 8;
				<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
				<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
				<a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 2) <span class=K>begin</span>
                                <a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1100;
                                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 16;
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 3) <span class=K>begin</span>
				<span class=C>// write in two cycles.
</span>                                <a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1000;
                                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 24;
                                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 31;
			<span class=K>end</span>
                <span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,32)"  class=SR href="#95">r_ctrl</a>[1:0]==2) <span class=K>begin</span> <span class=C>// SW
</span>			<span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 0) <span class=K>begin</span>
				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1111;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a>;
				<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 1) <span class=K>begin</span>
				<span class=C>// write in two cycles.
</span>				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1110;
				<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 8;
				<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
				<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
				<a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 40;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 2) <span class=K>begin</span>
				<span class=C>// write in two cycles.
</span>				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1100;
                                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 16;
                                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 41;
			<span class=K>end</span> <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,37)"  class=SR href="#99">r_addr</a>[1:0] == 3) <span class=K>begin</span>
				<span class=C>// write in two cycles.
</span>				<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b1000;
                                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &lt;&lt; 24;
                                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 42;
			<span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
		<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
	<span class=K>end</span>
	8'd21: <span class=K>begin</span>
		<span class=K>if</span>(<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
			<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 0;
			<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 22;
		<span class=K>end</span> 
	<span class=K>end</span>
	8'd22: <span class=K>begin</span>
		<span class=K>if</span>(!<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>) <span class=K>begin</span>
			<a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= <a  onClick="return qs(event,this,43)"  class=SR href="#119">state_next</a>;
		<span class=K>end</span>
	<span class=K>end</span>
        8'd31: <span class=K>begin</span>
                <span class=C>// SH with (r_addr[1:0] == 3) second write
</span>                <a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0001;
		<a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a> + 4;
		<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &gt;&gt; 8;
                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
        <span class=K>end</span>
	8'd40: <span class=K>begin</span>
		<span class=C>// SW with (r_addr[1:0] == 1) second write
</span>		<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0001;
		<a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a> + 4;
		<a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &gt;&gt; 24;
		<a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
	<span class=K>end</span>
	8'd41: <span class=K>begin</span>
		<span class=C>// SW with (r_addr[1:0] == 2) second write
</span>		<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0011;
		<a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a> + 4;
                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &gt;&gt; 16;
                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
	<span class=K>end</span>
        8'd42: <span class=K>begin</span>
                <span class=C>// SW with (r_addr[1:0] == 3) second write
</span>		<a  onClick="return qs(event,this,31)"  class=SR href="#94">r_mask</a> &lt;= 4'b0111;
		<a  onClick="return qs(event,this,36)"  class=SR href="#99">r_maddr</a> &lt;= <a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a> + 4;
                <a  onClick="return qs(event,this,39)"  class=SR href="#108">r_wdata</a> &lt;= <a  onClick="return qs(event,this,40)"  class=SR href="#130">r_wdata_ui</a> &gt;&gt; 8;
                <a  onClick="return qs(event,this,27)"  class=SR href="#90">r_we</a> &lt;= 1;
                <a  onClick="return qs(event,this,42)"  class=SR href="#112">state</a> &lt;= 21;
                <a  onClick="return qs(event,this,43)"  class=SR href="#112">state_next</a> &lt;= 100;
	<span class=K>end</span>
	<span class=K>endcase</span>
    <span class=K>end</span>
   
<span class=P>`ifdef SKIP_CACHE 
</span><span class=P>    DRAM_con_witout_cache dram_con_witout_cache (
</span>               <span class=P>// input clk, rst (active-low)
</span><span class=P>               .mig_clk(mig_clk),
</span><span class=P>               .mig_rst_x(mig_rst_x),
</span><span class=P>`ifdef ARTYA7
</span><span class=P>               .ref_clk(ref_clk),
</span><span class=P>`endif
</span>               <span class=P>// memory interface ports
</span><span class=P>`ifndef ARTYA7
</span><span class=P>               .ddr2_dq(ddr2_dq),
</span><span class=P>               .ddr2_dqs_n(ddr2_dqs_n),
</span><span class=P>               .ddr2_dqs_p(ddr2_dqs_p),
</span><span class=P>               .ddr2_addr(ddr2_addr),
</span><span class=P>               .ddr2_ba(ddr2_ba),
</span><span class=P>               .ddr2_ras_n(ddr2_ras_n),
</span><span class=P>               .ddr2_cas_n(ddr2_cas_n),
</span><span class=P>               .ddr2_we_n(ddr2_we_n),
</span><span class=P>               .ddr2_ck_p(ddr2_ck_p),
</span><span class=P>               .ddr2_ck_n(ddr2_ck_n),
</span><span class=P>               .ddr2_cke(ddr2_cke),
</span><span class=P>               .ddr2_cs_n(ddr2_cs_n),
</span><span class=P>               .ddr2_dm(ddr2_dm),
</span><span class=P>               .ddr2_odt(ddr2_odt),
</span><span class=P>`else
</span><span class=P>               .ddr3_dq(ddr3_dq),
</span><span class=P>               .ddr3_dqs_n(ddr3_dqs_n),
</span><span class=P>               .ddr3_dqs_p(ddr3_dqs_p),
</span><span class=P>               .ddr3_addr(ddr3_addr),
</span><span class=P>               .ddr3_ba(ddr3_ba),
</span><span class=P>               .ddr3_ras_n(ddr3_ras_n),
</span><span class=P>               .ddr3_cas_n(ddr3_cas_n),
</span><span class=P>               .ddr3_we_n(ddr3_we_n),
</span><span class=P>               .ddr3_ck_p(ddr3_ck_p),
</span><span class=P>               .ddr3_ck_n(ddr3_ck_n),
</span><span class=P>               .ddr3_reset_n(ddr3_reset_n),
</span><span class=P>               .ddr3_cke(ddr3_cke),
</span><span class=P>               .ddr3_cs_n(ddr3_cs_n),
</span><span class=P>               .ddr3_dm(ddr3_dm),
</span><span class=P>               .ddr3_odt(ddr3_odt),
</span><span class=P>`endif
</span>               <span class=P>// output clk, rst (active-low)
</span><span class=P>               .o_clk(o_clk),
</span><span class=P>               .o_rst_x(o_rst_x),
</span>               <span class=P>// user interface ports
</span><span class=P>               .i_rd_en(r_rd),
</span><span class=P>               .i_wr_en(r_we),
</span><span class=P>	       .o_init_calib_complete(o_init_calib_complete),
</span><span class=P>	       .i_addr(r_maddr),
</span><span class=P>               .i_data(r_wdata),
</span><span class=P>               .o_data(w_dram_odata),
</span><span class=P>               .o_busy(w_busy),
</span><span class=P>               .i_mask(~r_mask));
</span><span class=M>`else</span> <span class=C>// SKIP_CACHE
</span><a name="DRAM_conRV_cache_ctrl"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="#cache_ctrl">cache_ctrl</a> cache_ctrl (
               <span class=C>// input clk, rst (active-low)
</span><a name="356"></a>               <span class=SI>.mig_clk</span>(<a  onClick="return qs(event,this,1)"  class=SI href="#38">mig_clk</a>),
<a name="357"></a>               <span class=SI>.mig_rst_x</span>(<a  onClick="return qs(event,this,2)"  class=SI href="#39">mig_rst_x</a>),
<span class=P>`ifdef ARTYA7
</span><span class=P>               .ref_clk(ref_clk),
</span><span class=M>`endif</span>
               <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
               <span class=SIO>.ddr2_dq</span>(<a  onClick="return qs(event,this,3)"  class=SIO href="#45">ddr2_dq</a>),
               <span class=SIO>.ddr2_dqs_n</span>(<a  onClick="return qs(event,this,4)"  class=SIO href="#46">ddr2_dqs_n</a>),
               <span class=SIO>.ddr2_dqs_p</span>(<a  onClick="return qs(event,this,5)"  class=SIO href="#47">ddr2_dqs_p</a>),
<a name="366"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#555">.ddr2_addr</a>(<a  onClick="return qs(event,this,6)"  class=SO href="#48">ddr2_addr</a>),
<a name="367"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#556">.ddr2_ba</a>(<a  onClick="return qs(event,this,7)"  class=SO href="#49">ddr2_ba</a>),
<a name="368"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#557">.ddr2_ras_n</a>(<a  onClick="return qs(event,this,8)"  class=SO href="#50">ddr2_ras_n</a>),
<a name="369"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#558">.ddr2_cas_n</a>(<a  onClick="return qs(event,this,9)"  class=SO href="#51">ddr2_cas_n</a>),
<a name="370"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#559">.ddr2_we_n</a>(<a  onClick="return qs(event,this,10)"  class=SO href="#52">ddr2_we_n</a>),
<a name="371"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#560">.ddr2_ck_p</a>(<a  onClick="return qs(event,this,11)"  class=SO href="#53">ddr2_ck_p</a>),
<a name="372"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#561">.ddr2_ck_n</a>(<a  onClick="return qs(event,this,12)"  class=SO href="#54">ddr2_ck_n</a>),
<a name="373"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#562">.ddr2_cke</a>(<a  onClick="return qs(event,this,13)"  class=SO href="#55">ddr2_cke</a>),
<a name="374"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#563">.ddr2_cs_n</a>(<a  onClick="return qs(event,this,14)"  class=SO href="#56">ddr2_cs_n</a>),
<a name="375"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#564">.ddr2_dm</a>(<a  onClick="return qs(event,this,15)"  class=SO href="#57">ddr2_dm</a>),
<a name="376"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#565">.ddr2_odt</a>(<a  onClick="return qs(event,this,16)"  class=SO href="#58">ddr2_odt</a>),
<span class=P>`else
</span><span class=P>               .ddr3_dq(ddr3_dq),
</span><span class=P>               .ddr3_dqs_n(ddr3_dqs_n),
</span><span class=P>               .ddr3_dqs_p(ddr3_dqs_p),
</span><span class=P>               .ddr3_addr(ddr3_addr),
</span><span class=P>               .ddr3_ba(ddr3_ba),
</span><span class=P>               .ddr3_ras_n(ddr3_ras_n),
</span><span class=P>               .ddr3_cas_n(ddr3_cas_n),
</span><span class=P>               .ddr3_we_n(ddr3_we_n),
</span><span class=P>               .ddr3_ck_p(ddr3_ck_p),
</span><span class=P>               .ddr3_ck_n(ddr3_ck_n),
</span><span class=P>               .ddr3_reset_n(ddr3_reset_n),
</span><span class=P>               .ddr3_cke(ddr3_cke),
</span><span class=P>               .ddr3_cs_n(ddr3_cs_n),
</span><span class=P>               .ddr3_dm(ddr3_dm),
</span><span class=P>               .ddr3_odt(ddr3_odt),
</span><span class=M>`endif</span>
               <span class=C>// output clk, rst (active-low)
</span><a name="395"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#584">.o_clk</a>(<a  onClick="return qs(event,this,17)"  class=SO href="#78">o_clk</a>),
<a name="396"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#585">.o_rst_x</a>(<a  onClick="return qs(event,this,18)"  class=SO href="#79">o_rst_x</a>),
               <span class=C>// user interface ports
</span><a name="398"></a>               <span class=SI>.i_rd_en</span>(<a  onClick="return qs(event,this,28)"  class=SR href="#120">r_rd</a>),
<a name="399"></a>               <span class=SI>.i_wr_en</span>(<a  onClick="return qs(event,this,27)"  class=SR href="#187">r_we</a>),
<a name="400"></a>               <span class=SI>.i_addr</span>(<a  onClick="return qs(event,this,36)"  class=SR href="#123">r_maddr</a>),
<a name="401"></a>               <span class=SI>.i_data</span>(<a  onClick="return qs(event,this,39)"  class=SR href="#176">r_wdata</a>),
<a name="402"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#589">.o_init_calib_complete</a>(<a  onClick="return qs(event,this,23)"  class=SO href="#85">o_init_calib_complete</a>),
<a name="403"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#541">.o_data</a>(<a  onClick="return qs(event,this,30)"  class=SW href="#93">w_dram_odata</a>),
<a name="404"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="#539">.o_busy</a>(<a  onClick="return qs(event,this,29)"  class=SW href="#92">w_busy</a>),
<a name="405"></a>               <span class=SI>.i_mask</span>(<a  onClick="return qs(event,this,31)"  class=SR href="#175">r_mask</a>)
               );    
<span class=M>`endif</span> <span class=C>//SKIP_CACHE
</span><span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/**** Memory Controller with Cache                                                             ****/</span>

<span class=C>/**************************************************************************************************/</span>

<a name="cache_ctrl"></a><a  href="memory.v.html#DRAM_conRV_cache_ctrl"><img alt="[Up: DRAM_conRV cache_ctrl]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>cache_ctrl</span><a  href="hierarchy-m.html#cache_ctrl"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="417"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#417">DDR2_DQ_WIDTH</a>   = 16,
<a name="418"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#418">DDR2_DQS_WIDTH</a>  = 2,
<a name="419"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#419">DDR2_ADDR_WIDTH</a> = 13,
<a name="420"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#420">DDR2_BA_WIDTH</a>   = 3,
<a name="421"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#421">DDR2_DM_WIDTH</a>   = 2,
<a name="422"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#422">APP_ADDR_WIDTH</a>  = 27,
<span class=P>`else
</span><span class=P>              parameter DDR3_DQ_WIDTH   = 16,
</span><span class=P>              parameter DDR3_DQS_WIDTH  = 2,
</span><span class=P>              parameter DDR3_ADDR_WIDTH = 14,
</span><span class=P>              parameter DDR3_BA_WIDTH   = 3,
</span><span class=P>              parameter DDR3_DM_WIDTH   = 2,
</span><span class=P>              parameter APP_ADDR_WIDTH  = 28,
</span><span class=M>`endif</span>
<a name="431"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#431">APP_CMD_WIDTH</a>   = 3,
<a name="432"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#432">APP_DATA_WIDTH</a>  = 128,  <span class=C>// Note
</span><a name="433"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#433">APP_MASK_WIDTH</a>  = 16)
     (
     <span class=C>// input clk, rst (active-low)
</span><a name="436"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,45)"  class=SI href="#356">mig_clk</a>,
<a name="437"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,46)"  class=SI href="#357">mig_rst_x</a>,
<span class=P>`ifdef ARTYA7
</span><span class=P>     input  wire                         ref_clk,
</span><span class=M>`endif</span>
     <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="443"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#417">DDR2_DQ_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,47)"  class=SIO href="#443">ddr2_dq</a>,
<a name="444"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#418">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,48)"  class=SIO href="#444">ddr2_dqs_n</a>,
<a name="445"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#418">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,49)"  class=SIO href="#445">ddr2_dqs_p</a>,
<a name="446"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#419">DDR2_ADDR_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,50)"  class=SO href="#555">ddr2_addr</a>,
<a name="447"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#420">DDR2_BA_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,51)"  class=SO href="#556">ddr2_ba</a>,
<a name="448"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,52)"  class=SO href="#557">ddr2_ras_n</a>,
<a name="449"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,53)"  class=SO href="#558">ddr2_cas_n</a>,
<a name="450"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,54)"  class=SO href="#559">ddr2_we_n</a>,
<a name="451"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,55)"  class=SO href="#560">ddr2_ck_p</a>,
<a name="452"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,56)"  class=SO href="#561">ddr2_ck_n</a>,
<a name="453"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,57)"  class=SO href="#562">ddr2_cke</a>,
<a name="454"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,58)"  class=SO href="#563">ddr2_cs_n</a>,
<a name="455"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#421">DDR2_DM_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,59)"  class=SO href="#564">ddr2_dm</a>,
<a name="456"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,60)"  class=SO href="#565">ddr2_odt</a>,
<span class=P>`else
</span><span class=P>     inout  wire [DDR3_DQ_WIDTH-1 : 0]   ddr3_dq,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_n,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_p,
</span><span class=P>     output wire [DDR3_ADDR_WIDTH-1 : 0] ddr3_addr,
</span><span class=P>     output wire [DDR3_BA_WIDTH-1 : 0]   ddr3_ba,
</span><span class=P>     output wire                         ddr3_ras_n,
</span><span class=P>     output wire                         ddr3_cas_n,
</span><span class=P>     output wire                         ddr3_we_n,
</span><span class=P>     output wire [0:0]                   ddr3_ck_p,
</span><span class=P>     output wire [0:0]                   ddr3_ck_n,
</span><span class=P>     output wire                         ddr3_reset_n,
</span><span class=P>     output wire [0:0]                   ddr3_cke,
</span><span class=P>     output wire [0:0]                   ddr3_cs_n,
</span><span class=P>     output wire [DDR3_DM_WIDTH-1 : 0]   ddr3_dm,
</span><span class=P>     output wire [0:0]                   ddr3_odt,
</span><span class=M>`endif</span>

     <span class=C>// on FPGA, o_clk is output
</span><a name="476"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,61)"  class=SO href="#584">o_clk</a>,
<a name="477"></a>     <span class=K>output</span> <span class=K>wire</span> 			 <a  onClick="return qs(event,this,62)"  class=SO href="#585">o_rst_x</a>,
     <span class=C>// user interface ports
</span><a name="479"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,63)"  class=SI href="#398">i_rd_en</a>,
<a name="480"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,64)"  class=SI href="#399">i_wr_en</a>,
<a name="481"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,65)"  class=SI href="#400">i_addr</a>,
<a name="482"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,66)"  class=SI href="#401">i_data</a>,
<a name="483"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,67)"  class=SO href="#589">o_init_calib_complete</a>,
<a name="484"></a>     <span class=K>output</span> <span class=K>wire</span>[127:0]                  <a  onClick="return qs(event,this,68)"  class=SO href="#541">o_data</a>,
<a name="485"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,69)"  class=SO href="#539">o_busy</a>,
<a name="486"></a>     <span class=K>input</span>  <span class=K>wire</span> [3:0]                   <a  onClick="return qs(event,this,70)"  class=SI href="#405">i_mask</a>);

    <span class=C>/***** store output data to registers in posedge clock cycle *****/</span>
<a name="489"></a>    <span class=K>reg</span>   [1:0] <a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> = 0;

<a name="491"></a>    <span class=K>reg</span>  [31:0] <a  onClick="return qs(event,this,72)"  class=SR href="#527">r_addr</a> = 0;
<a name="492"></a>    <span class=K>reg</span>   [2:0] <a  onClick="return qs(event,this,73)"  class=SR href="#492">r_ctrl</a> = 0;
<a name="493"></a>    <span class=K>reg</span> [127:0] <a  onClick="return qs(event,this,74)"  class=SR href="#523">r_o_data</a> = 0;

    <span class=C>// DRAM
</span><a name="496"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,75)"  class=SW href="#593">w_dram_stall</a>;
<a name="497"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,76)"  class=SW href="#538">w_dram_le</a>;
<a name="498"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,77)"  class=SW href="#498">w_dram_addr</a> = (<a  onClick="return qs(event,this,64)"  class=SI href="#480">i_wr_en</a>) ? <a  onClick="return qs(event,this,65)"  class=SI href="#481">i_addr</a> : <a  onClick="return qs(event,this,72)"  class=SR href="#527">r_addr</a>;
<a name="499"></a>    <span class=K>wire</span>[127:0] <a  onClick="return qs(event,this,78)"  class=SW href="#592">w_dram_odata</a>;

    <span class=C>// Cache
</span><a name="502"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,79)"  class=SW href="#536">c_oe</a>;
<a name="503"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,80)"  class=SW href="#503">c_clr</a>   = (<a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> == 2'b11 &amp;&amp; <a  onClick="return qs(event,this,79)"  class=SW href="#536">c_oe</a>);
<a name="504"></a>    <span class=K>wire</span>        <a  onClick="return qs(event,this,81)"  class=SW href="#504">c_we</a>    = (<a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> == 2'b10 &amp;&amp; !<a  onClick="return qs(event,this,75)"  class=SW href="#593">w_dram_stall</a>);
<a name="505"></a>    <span class=K>wire</span> [31:0] <a  onClick="return qs(event,this,82)"  class=SW href="#505">c_addr</a>  = (<a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> == 2'b00) ? <a  onClick="return qs(event,this,65)"  class=SI href="#481">i_addr</a> : <a  onClick="return qs(event,this,72)"  class=SR href="#527">r_addr</a>;
<a name="506"></a>    <span class=K>wire</span>[127:0] <a  onClick="return qs(event,this,83)"  class=SW href="#506">c_idata</a> = <a  onClick="return qs(event,this,78)"  class=SW href="#592">w_dram_odata</a>;
<a name="507"></a>    <span class=K>wire</span>[127:0] <a  onClick="return qs(event,this,84)"  class=SW href="#536">c_odata</a>;
    <span class=C>/*
    cache states:
        2'b00=idle,
        (2'b01=read &amp;&amp; c_oe)=read made in c_odata,
        2'b10=cache read miss;
        2'b11=write

    */</span>
    <span class=K>always</span>@(<span class=K>posedge</span> <a  onClick="return qs(event,this,61)"  class=SO href="#476">o_clk</a>) <span class=K>begin</span>
        <span class=K>if</span>(<a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> == 2'b01 &amp;&amp; !<a  onClick="return qs(event,this,79)"  class=SW href="#502">c_oe</a>) <span class=K>begin</span>
<a name="518"></a>            <a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> &lt;= 2'b10;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> == 2'b11 || (<a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> == 2'b01 &amp;&amp; <a  onClick="return qs(event,this,79)"  class=SW href="#502">c_oe</a>)
                || (<a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> == 2'b10 &amp;&amp; !<a  onClick="return qs(event,this,75)"  class=SW href="#496">w_dram_stall</a>)) <span class=K>begin</span>
            <a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> &lt;= 2'b00;
<a name="523"></a>            <a  onClick="return qs(event,this,74)"  class=SR href="#493">r_o_data</a> &lt;= (<a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> == 2'b01) ? <a  onClick="return qs(event,this,84)"  class=SW href="#536">c_odata</a> : <a  onClick="return qs(event,this,78)"  class=SW href="#592">w_dram_odata</a>;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,64)"  class=SI href="#480">i_wr_en</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> &lt;= 2'b11;
<a name="527"></a>            <a  onClick="return qs(event,this,72)"  class=SR href="#491">r_addr</a> &lt;= <a  onClick="return qs(event,this,65)"  class=SI href="#481">i_addr</a>;
        <span class=K>end</span>
        <span class=K>else</span> <span class=K>if</span>(<a  onClick="return qs(event,this,63)"  class=SI href="#479">i_rd_en</a>) <span class=K>begin</span>
            <a  onClick="return qs(event,this,71)"  class=SR href="#489">r_cache_state</a> &lt;= 2'b01;
            <a  onClick="return qs(event,this,72)"  class=SR href="#491">r_addr</a> &lt;= <a  onClick="return qs(event,this,65)"  class=SI href="#481">i_addr</a>;
        <span class=K>end</span>
    <span class=K>end</span>

<a name="cache_ctrl_cache"></a><a name="535"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="#m_dram_cache">m_dram_cache</a>#(28,128,<span class=D>`</span><a  onClick="return qs(event,this,0)"  class=D href="define.vh.html#87">CACHE_SIZE</a>/16) cache(<a  onClick="return qs(event,this,61)"  class=SO href="#476">o_clk</a>, 1'b1, 1'b0, <a  onClick="return qs(event,this,80)"  class=SW href="#503">c_clr</a>, <a  onClick="return qs(event,this,81)"  class=SW href="#504">c_we</a>,
<a name="536"></a>                                <a  onClick="return qs(event,this,82)"  class=SW href="#505">c_addr</a>[31:4], <a  onClick="return qs(event,this,83)"  class=SW href="#506">c_idata</a>, <a  onClick="return qs(event,this,84)"  class=SW href="#507">c_odata</a>, <a  onClick="return qs(event,this,79)"  class=SW href="#502">c_oe</a>);

<a name="538"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,76)"  class=SW href="#497">w_dram_le</a> = (<a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> == 2'b01 &amp;&amp; !<a  onClick="return qs(event,this,79)"  class=SW href="#536">c_oe</a>);
<a name="539"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,69)"  class=SO href="#485">o_busy</a> = <a  onClick="return qs(event,this,75)"  class=SW href="#593">w_dram_stall</a> || <a  onClick="return qs(event,this,71)"  class=SR href="#518">r_cache_state</a> != 0;

<a name="541"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,68)"  class=SO href="#484">o_data</a> = <a  onClick="return qs(event,this,74)"  class=SR href="#523">r_o_data</a>;

<a name="cache_ctrl_dram_con_witout_cache"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="dram.v.html#DRAM_con_witout_cache">DRAM_con_witout_cache</a> dram_con_witout_cache (
               <span class=C>// input clk, rst (active-low)
</span><a name="545"></a>               <span class=SI>.mig_clk</span>(<a  onClick="return qs(event,this,45)"  class=SI href="#436">mig_clk</a>),
<a name="546"></a>               <span class=SI>.mig_rst_x</span>(<a  onClick="return qs(event,this,46)"  class=SI href="#437">mig_rst_x</a>),
<span class=P>`ifdef ARTYA7
</span><span class=P>               .ref_clk(ref_clk),
</span><span class=M>`endif</span>
               <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
               <span class=SIO>.ddr2_dq</span>(<a  onClick="return qs(event,this,47)"  class=SIO href="#443">ddr2_dq</a>),
               <span class=SIO>.ddr2_dqs_n</span>(<a  onClick="return qs(event,this,48)"  class=SIO href="#444">ddr2_dqs_n</a>),
               <span class=SIO>.ddr2_dqs_p</span>(<a  onClick="return qs(event,this,49)"  class=SIO href="#445">ddr2_dqs_p</a>),
<a name="555"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#248">.ddr2_addr</a>(<a  onClick="return qs(event,this,50)"  class=SO href="#446">ddr2_addr</a>),
<a name="556"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#249">.ddr2_ba</a>(<a  onClick="return qs(event,this,51)"  class=SO href="#447">ddr2_ba</a>),
<a name="557"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#250">.ddr2_ras_n</a>(<a  onClick="return qs(event,this,52)"  class=SO href="#448">ddr2_ras_n</a>),
<a name="558"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#251">.ddr2_cas_n</a>(<a  onClick="return qs(event,this,53)"  class=SO href="#449">ddr2_cas_n</a>),
<a name="559"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#252">.ddr2_we_n</a>(<a  onClick="return qs(event,this,54)"  class=SO href="#450">ddr2_we_n</a>),
<a name="560"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#253">.ddr2_ck_p</a>(<a  onClick="return qs(event,this,55)"  class=SO href="#451">ddr2_ck_p</a>),
<a name="561"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#254">.ddr2_ck_n</a>(<a  onClick="return qs(event,this,56)"  class=SO href="#452">ddr2_ck_n</a>),
<a name="562"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#255">.ddr2_cke</a>(<a  onClick="return qs(event,this,57)"  class=SO href="#453">ddr2_cke</a>),
<a name="563"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#256">.ddr2_cs_n</a>(<a  onClick="return qs(event,this,58)"  class=SO href="#454">ddr2_cs_n</a>),
<a name="564"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#257">.ddr2_dm</a>(<a  onClick="return qs(event,this,59)"  class=SO href="#455">ddr2_dm</a>),
<a name="565"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#258">.ddr2_odt</a>(<a  onClick="return qs(event,this,60)"  class=SO href="#456">ddr2_odt</a>),
<span class=P>`else
</span><span class=P>               .ddr3_dq(ddr3_dq),
</span><span class=P>               .ddr3_dqs_n(ddr3_dqs_n),
</span><span class=P>               .ddr3_dqs_p(ddr3_dqs_p),
</span><span class=P>               .ddr3_addr(ddr3_addr),
</span><span class=P>               .ddr3_ba(ddr3_ba),
</span><span class=P>               .ddr3_ras_n(ddr3_ras_n),
</span><span class=P>               .ddr3_cas_n(ddr3_cas_n),
</span><span class=P>               .ddr3_we_n(ddr3_we_n),
</span><span class=P>               .ddr3_ck_p(ddr3_ck_p),
</span><span class=P>               .ddr3_ck_n(ddr3_ck_n),
</span><span class=P>               .ddr3_reset_n(ddr3_reset_n),
</span><span class=P>               .ddr3_cke(ddr3_cke),
</span><span class=P>               .ddr3_cs_n(ddr3_cs_n),
</span><span class=P>               .ddr3_dm(ddr3_dm),
</span><span class=P>               .ddr3_odt(ddr3_odt),
</span><span class=M>`endif</span>
               <span class=C>// output clk, rst (active-low)
</span><a name="584"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#154">.o_clk</a>(<a  onClick="return qs(event,this,61)"  class=SO href="#476">o_clk</a>),
<a name="585"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#155">.o_rst_x</a>(<a  onClick="return qs(event,this,62)"  class=SO href="#477">o_rst_x</a>),
               <span class=C>// user interface ports
</span><a name="587"></a>               <span class=SI>.i_rd_en</span>(<a  onClick="return qs(event,this,76)"  class=SW href="#538">w_dram_le</a>),
<a name="588"></a>               <span class=SI>.i_wr_en</span>(<a  onClick="return qs(event,this,64)"  class=SI href="#480">i_wr_en</a>),
<a name="589"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#167">.o_init_calib_complete</a>(<a  onClick="return qs(event,this,67)"  class=SO href="#483">o_init_calib_complete</a>),
<a name="590"></a>               <span class=SI>.i_addr</span>(<a  onClick="return qs(event,this,77)"  class=SW href="#498">w_dram_addr</a>),
<a name="591"></a>               <span class=SI>.i_data</span>(<a  onClick="return qs(event,this,66)"  class=SI href="#482">i_data</a>),
<a name="592"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#339">.o_data</a>(<a  onClick="return qs(event,this,78)"  class=SW href="#499">w_dram_odata</a>),
<a name="593"></a>               <a  onClick="return qs(event,this,0)"  class=SO href="dram.v.html#340">.o_busy</a>(<a  onClick="return qs(event,this,75)"  class=SW href="#496">w_dram_stall</a>),
<a name="594"></a>               <span class=SI>.i_mask</span>(~<a  onClick="return qs(event,this,70)"  class=SI href="#486">i_mask</a>));
<span class=K>endmodule</span>
<span class=M>`endif</span> <span class=C>// SIM_MODE
</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/*** Single-port RAM with synchronous read                                                      ***/</span>
<a name="m_bram"></a><a name="601"></a><a  href="memory.v.html#m_dram_cache_mem"><img alt="[Up: m_dram_cache mem]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_bram</span><a  href="hierarchy-m.html#m_bram"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(<span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#601">WIDTH</a>=32, <a  onClick="return qs(event,this,0)"  class=PA href="#601">ENTRY</a>=256)(<a  onClick="return qs(event,this,85)"  class=SI href="#602">CLK</a>, <a  onClick="return qs(event,this,86)"  class=SI href="#602">w_we</a>, <a  onClick="return qs(event,this,87)"  class=SI href="#603">w_addr</a>, <a  onClick="return qs(event,this,88)"  class=SI href="#604">w_idata</a>, <a  onClick="return qs(event,this,89)"  class=SOR href="#614">r_odata</a>);
<a name="602"></a>  <span class=K>input</span>  <span class=K>wire</span>                     <a  onClick="return qs(event,this,85)"  class=SI href="#793">CLK</a>, <a  onClick="return qs(event,this,86)"  class=SI href="#794">w_we</a>;
<a name="603"></a>  <span class=K>input</span>  <span class=K>wire</span> [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#601">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,87)"  class=SI href="#794">w_addr</a>;
<a name="604"></a>  <span class=K>input</span>  <span class=K>wire</span>         [<a  onClick="return qs(event,this,0)"  class=PA href="#601">WIDTH</a>-1:0] <a  onClick="return qs(event,this,88)"  class=SI href="#794">w_idata</a>;
<a name="605"></a>  <span class=K>output</span> <span class=K>reg</span>          [<a  onClick="return qs(event,this,0)"  class=PA href="#601">WIDTH</a>-1:0] <a  onClick="return qs(event,this,89)"  class=SOR href="#614">r_odata</a>;

<a name="607"></a>  <span class=K>reg</span>          [<a  onClick="return qs(event,this,0)"  class=PA href="#601">WIDTH</a>-1:0]  <a  onClick="return qs(event,this,90)"  class=SR href="#610">mem</a> [0:<a  onClick="return qs(event,this,0)"  class=PA href="#601">ENTRY</a>-1];

<a name="609"></a>  <span class=K>integer</span> <a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>;
<a name="610"></a>  <span class=K>initial</span> <span class=K>for</span> (<a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>=0;<a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>&lt;<a  onClick="return qs(event,this,0)"  class=PA href="#601">ENTRY</a>;<a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>=<a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>+1) <a  onClick="return qs(event,this,90)"  class=SR href="#610">mem</a>[<a  onClick="return qs(event,this,91)"  class=SIT href="#609">i</a>]=0;

  <span class=K>always</span>  @(<span class=K>posedge</span>  <a  onClick="return qs(event,this,85)"  class=SI href="#602">CLK</a>)  <span class=K>begin</span>
    <span class=K>if</span> (<a  onClick="return qs(event,this,86)"  class=SI href="#602">w_we</a>) <a  onClick="return qs(event,this,90)"  class=SR href="#607">mem</a>[<a  onClick="return qs(event,this,87)"  class=SI href="#603">w_addr</a>] &lt;= <a  onClick="return qs(event,this,88)"  class=SI href="#604">w_idata</a>;
<a name="614"></a>    <a  onClick="return qs(event,this,89)"  class=SOR href="#605">r_odata</a> &lt;= <a  onClick="return qs(event,this,90)"  class=SR href="#610">mem</a>[<a  onClick="return qs(event,this,87)"  class=SI href="#603">w_addr</a>];
  <span class=K>end</span>
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>

<span class=C>/*** Dual-port RAM with synchronous read                                                        ***/</span>
<a name="m_bram2"></a><a name="620"></a><span class=K>module</span> <span class=MM>m_bram2</span><a  href="hierarchy-m.html#m_bram2"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(<span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#620">WIDTH</a>=32, <a  onClick="return qs(event,this,0)"  class=PA href="#620">ENTRY</a>=256)
                (<a  onClick="return qs(event,this,92)"  class=SI href="#622">CLK</a>, <a  onClick="return qs(event,this,93)"  class=SI href="#622">w_we</a>, <a  onClick="return qs(event,this,94)"  class=SI href="#623">w_raddr</a>, <a  onClick="return qs(event,this,95)"  class=SI href="#623">w_waddr</a>, <a  onClick="return qs(event,this,96)"  class=SI href="#624">w_idata</a>, <a  onClick="return qs(event,this,97)"  class=SO href="#636">w_odata1</a>, <a  onClick="return qs(event,this,98)"  class=SO href="#637">w_odata2</a>);
<a name="622"></a>    <span class=K>input</span>  <span class=K>wire</span>                     <a  onClick="return qs(event,this,92)"  class=SI href="#622">CLK</a>, <a  onClick="return qs(event,this,93)"  class=SI href="#622">w_we</a>;
<a name="623"></a>    <span class=K>input</span>  <span class=K>wire</span> [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#620">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,94)"  class=SI href="#623">w_raddr</a>, <a  onClick="return qs(event,this,95)"  class=SI href="#623">w_waddr</a>;
<a name="624"></a>    <span class=K>input</span>  <span class=K>wire</span>         [<a  onClick="return qs(event,this,0)"  class=PA href="#620">WIDTH</a>-1:0] <a  onClick="return qs(event,this,96)"  class=SI href="#624">w_idata</a>;
<a name="625"></a>    <span class=K>output</span> <span class=K>wire</span>         [<a  onClick="return qs(event,this,0)"  class=PA href="#620">WIDTH</a>-1:0] <a  onClick="return qs(event,this,97)"  class=SO href="#636">w_odata1</a>, <a  onClick="return qs(event,this,98)"  class=SO href="#637">w_odata2</a>;

<a name="627"></a>    <span class=K>reg</span>  [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#620">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,99)"  class=SR href="#634">r_addr</a>, <a  onClick="return qs(event,this,100)"  class=SR href="#633">r_addr2</a>;

<a name="629"></a>    <span class=K>reg</span>          [<a  onClick="return qs(event,this,0)"  class=PA href="#620">WIDTH</a>-1:0] <a  onClick="return qs(event,this,101)"  class=SR href="#632">mem</a> [0:<a  onClick="return qs(event,this,0)"  class=PA href="#620">ENTRY</a>-1];

    <span class=K>always</span>  @(<span class=K>posedge</span>  <a  onClick="return qs(event,this,92)"  class=SI href="#622">CLK</a>)  <span class=K>begin</span>
<a name="632"></a>        <span class=K>if</span> (<a  onClick="return qs(event,this,93)"  class=SI href="#622">w_we</a>) <a  onClick="return qs(event,this,101)"  class=SR href="#629">mem</a>[<a  onClick="return qs(event,this,95)"  class=SI href="#623">w_waddr</a>] &lt;= <a  onClick="return qs(event,this,96)"  class=SI href="#624">w_idata</a>;
<a name="633"></a>        <a  onClick="return qs(event,this,100)"  class=SR href="#627">r_addr2</a> &lt;= <a  onClick="return qs(event,this,95)"  class=SI href="#623">w_waddr</a>;
<a name="634"></a>        <a  onClick="return qs(event,this,99)"  class=SR href="#627">r_addr</a> &lt;= <a  onClick="return qs(event,this,94)"  class=SI href="#623">w_raddr</a>;
    <span class=K>end</span>
<a name="636"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,97)"  class=SO href="#625">w_odata1</a> = <a  onClick="return qs(event,this,101)"  class=SR href="#632">mem</a>[<a  onClick="return qs(event,this,99)"  class=SR href="#634">r_addr</a>];
<a name="637"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,98)"  class=SO href="#625">w_odata2</a> = <a  onClick="return qs(event,this,101)"  class=SR href="#632">mem</a>[<a  onClick="return qs(event,this,100)"  class=SR href="#633">r_addr2</a>];
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/*** Single-port RAM with synchronous read with colum access                                    ***/</span>
<a name="m_col_bram"></a><a name="641"></a><span class=K>module</span> <span class=MM>m_col_bram</span><a  href="hierarchy-m.html#m_col_bram"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(<span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#641">WIDTH</a>=32, <a  onClick="return qs(event,this,0)"  class=PA href="#641">ENTRY</a>=256)(<a  onClick="return qs(event,this,102)"  class=SI href="#642">CLK</a>, <a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>, <a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>, <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>, <a  onClick="return qs(event,this,106)"  class=SO href="#659">w_odata</a>);
<a name="642"></a>    <span class=K>input</span>  <span class=K>wire</span>                     <a  onClick="return qs(event,this,102)"  class=SI href="#642">CLK</a>;
<a name="643"></a>    <span class=K>input</span>  <span class=K>wire</span>               [3:0] <a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>;
<a name="644"></a>    <span class=K>input</span>  <span class=K>wire</span> [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#641">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>;
<a name="645"></a>    <span class=K>input</span>  <span class=K>wire</span>         [<a  onClick="return qs(event,this,0)"  class=PA href="#641">WIDTH</a>-1:0] <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>;
<a name="646"></a>    <span class=K>output</span> <span class=K>wire</span>         [<a  onClick="return qs(event,this,0)"  class=PA href="#641">WIDTH</a>-1:0] <a  onClick="return qs(event,this,106)"  class=SO href="#659">w_odata</a>;

    <span class=C>//initial $readmemh(`MEMFILE, mem);
</span>
    <span class=AT>(* ram_style = &quot;block&quot; *)</span><a name="650"></a> <span class=K>reg</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#641">WIDTH</a>-1:0] <a  onClick="return qs(event,this,107)"  class=SR href="#653">mem</a>[0:<a  onClick="return qs(event,this,0)"  class=PA href="#641">ENTRY</a>-1];
<a name="651"></a>    <span class=K>reg</span> [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#641">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,108)"  class=SR href="#657">addr</a>=0;
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,102)"  class=SI href="#642">CLK</a>) <span class=K>begin</span>
<a name="653"></a>        <span class=K>if</span> (<a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>[0]) <a  onClick="return qs(event,this,107)"  class=SR href="#650">mem</a>[<a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>][ 7: 0] &lt;= <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>[ 7: 0];
        <span class=K>if</span> (<a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>[1]) <a  onClick="return qs(event,this,107)"  class=SR href="#650">mem</a>[<a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>][15: 8] &lt;= <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>[15: 8];
        <span class=K>if</span> (<a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>[2]) <a  onClick="return qs(event,this,107)"  class=SR href="#650">mem</a>[<a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>][23:16] &lt;= <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>[23:16];
        <span class=K>if</span> (<a  onClick="return qs(event,this,103)"  class=SI href="#643">w_we</a>[3]) <a  onClick="return qs(event,this,107)"  class=SR href="#650">mem</a>[<a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>][31:24] &lt;= <a  onClick="return qs(event,this,105)"  class=SI href="#645">w_idata</a>[31:24];
<a name="657"></a>        <a  onClick="return qs(event,this,108)"  class=SR href="#651">addr</a> &lt;= <a  onClick="return qs(event,this,104)"  class=SI href="#644">w_addr</a>;
    <span class=K>end</span>
<a name="659"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,106)"  class=SO href="#646">w_odata</a> = <a  onClick="return qs(event,this,107)"  class=SR href="#653">mem</a>[<a  onClick="return qs(event,this,108)"  class=SR href="#657">addr</a>];
<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`ifndef</span> <span class=D>SIM_MODE</span>
<a name="AsyncFIFO"></a><a  href="dram.v.html#DRAM_con_witout_cache_afifo1"><img alt="[Up: DRAM_con_witout_cache afifo1]" align=bottom border=0 src="v2html-up.gif"></a><a  href="dram.v.html#DRAM_con_witout_cache_afifo2"><img alt="[Up: DRAM_con_witout_cache afifo2]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>AsyncFIFO</span><a  href="hierarchy-m.html#AsyncFIFO"><img align=top border=0 alt="Index" src="v2html-i.gif"></a> #(
<a name="664"></a>			       <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#664">DATA_WIDTH</a>  = 512,
<a name="665"></a>			       <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>  = 8) <span class=C>// FIFO_DEPTH = 2^ADDR_WIDTH
</span>    (
<a name="667"></a>     <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,109)"  class=SI href="dram.v.html#175">wclk</a>,
<a name="668"></a>	 <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,110)"  class=SI href="dram.v.html#195">rclk</a>,
<a name="669"></a>     <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,111)"  class=SI href="dram.v.html#196">i_wrst_x</a>,
<a name="670"></a>     <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,112)"  class=SI href="dram.v.html#178">i_rrst_x</a>,
<a name="671"></a>	 <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,113)"  class=SI href="dram.v.html#179">i_wen</a>,
<a name="672"></a>	 <span class=K>input</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#664">DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,114)"  class=SI href="dram.v.html#180">i_data</a>,
<a name="673"></a>     <span class=K>input</span>  <span class=K>wire</span>                    <a  onClick="return qs(event,this,115)"  class=SI href="dram.v.html#181">i_ren</a>,
<a name="674"></a>	 <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#664">DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,116)"  class=SO href="#699">o_data</a>,
<a name="675"></a>	 <span class=K>output</span> <span class=K>wire</span>                    <a  onClick="return qs(event,this,117)"  class=SO href="#700">o_empty</a>,
<a name="676"></a>	 <span class=K>output</span> <span class=K>wire</span>                    <a  onClick="return qs(event,this,118)"  class=SO href="#701">o_full</a>);

<a name="678"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#664">DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,119)"  class=SR href="#753">afifo</a>[(2**<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>)-1 : 0];
<a name="679"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a>;
<a name="680"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a>;

<a name="682"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,122)"  class=SR href="#719">raddr_gray1</a>;
<a name="683"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,123)"  class=SR href="#720">raddr_gray2</a>;

<a name="685"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,124)"  class=SR href="#730">waddr_gray1</a>;
<a name="686"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,125)"  class=SR href="#731">waddr_gray2</a>;

<a name="688"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#664">DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,126)"  class=SW href="#739">data</a>;

<a name="690"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,127)"  class=SW href="#705">raddr_gray</a>;
<a name="691"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,128)"  class=SW href="#706">waddr_gray</a>;

<a name="693"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,129)"  class=SW href="#693">raddr2</a>;
<a name="694"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0]   <a  onClick="return qs(event,this,130)"  class=SW href="#694">waddr2</a>;

<a name="696"></a>    <span class=K>genvar</span> <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a>;

    <span class=C>// output signals
</span><a name="699"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,116)"  class=SO href="#674">o_data</a>  = <a  onClick="return qs(event,this,126)"  class=SW href="#739">data</a>;
<a name="700"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,117)"  class=SO href="#675">o_empty</a> = (<a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a> == <a  onClick="return qs(event,this,130)"  class=SW href="#694">waddr2</a>);
<a name="701"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,118)"  class=SO href="#676">o_full</a>  = (<a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>] != <a  onClick="return qs(event,this,129)"  class=SW href="#693">raddr2</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>]) &amp;&amp;
                     (<a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>-1 : 0] == <a  onClick="return qs(event,this,129)"  class=SW href="#693">raddr2</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>-1 : 0]);

    <span class=C>// binary code to gray code
</span><a name="705"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,127)"  class=SW href="#690">raddr_gray</a> = <a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0] ^ {1'b0, <a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 1]};
<a name="706"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,128)"  class=SW href="#691">waddr_gray</a> = <a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 0] ^ {1'b0, <a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : 1]};

    <span class=C>// gray code to binary code
</span>    <span class=K>generate</span>
	    <span class=K>for</span> (<a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a> = 0; <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>; <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a> = <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a> + 1) <span class=K>begin</span>
		    <span class=K>assign</span> <a  onClick="return qs(event,this,129)"  class=SW href="#693">raddr2</a>[<a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a>] = ^<a  onClick="return qs(event,this,123)"  class=SR href="#720">raddr_gray2</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a>];
		    <span class=K>assign</span> <a  onClick="return qs(event,this,130)"  class=SW href="#694">waddr2</a>[<a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a>] = ^<a  onClick="return qs(event,this,125)"  class=SR href="#731">waddr_gray2</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a> : <a  onClick="return qs(event,this,131)"  class=GV href="#696">genvar_i</a>];
	    <span class=K>end</span>
    <span class=K>endgenerate</span>

    <span class=C>// double flopping read address before using it in write clock domain
</span>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,109)"  class=SI href="#667">wclk</a>) <span class=K>begin</span>
	    <span class=K>if</span> (!<a  onClick="return qs(event,this,111)"  class=SI href="#669">i_wrst_x</a>) <span class=K>begin</span>
<a name="719"></a>		    <a  onClick="return qs(event,this,122)"  class=SR href="#682">raddr_gray1</a> &lt;= 0;
<a name="720"></a>		    <a  onClick="return qs(event,this,123)"  class=SR href="#683">raddr_gray2</a> &lt;= 0;
	    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
		    <a  onClick="return qs(event,this,122)"  class=SR href="#682">raddr_gray1</a> &lt;= <a  onClick="return qs(event,this,127)"  class=SW href="#705">raddr_gray</a>;
		    <a  onClick="return qs(event,this,123)"  class=SR href="#683">raddr_gray2</a> &lt;= <a  onClick="return qs(event,this,122)"  class=SR href="#719">raddr_gray1</a>;
	    <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>// double flopping write address before using it in read clock domain
</span>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,110)"  class=SI href="#668">rclk</a>) <span class=K>begin</span>
	    <span class=K>if</span> (!<a  onClick="return qs(event,this,112)"  class=SI href="#670">i_rrst_x</a>) <span class=K>begin</span>
<a name="730"></a>		    <a  onClick="return qs(event,this,124)"  class=SR href="#685">waddr_gray1</a> &lt;= 0;
<a name="731"></a>		    <a  onClick="return qs(event,this,125)"  class=SR href="#686">waddr_gray2</a> &lt;= 0;
	    <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
		    <a  onClick="return qs(event,this,124)"  class=SR href="#685">waddr_gray1</a> &lt;= <a  onClick="return qs(event,this,128)"  class=SW href="#706">waddr_gray</a>;
		    <a  onClick="return qs(event,this,125)"  class=SR href="#686">waddr_gray2</a> &lt;= <a  onClick="return qs(event,this,124)"  class=SR href="#730">waddr_gray1</a>;
	    <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>// read
</span><a name="739"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,126)"  class=SW href="#688">data</a> = <a  onClick="return qs(event,this,119)"  class=SR href="#753">afifo</a>[<a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>-1 : 0]];
    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,110)"  class=SI href="#668">rclk</a>) <span class=K>begin</span>
	    <span class=K>if</span> (!<a  onClick="return qs(event,this,112)"  class=SI href="#670">i_rrst_x</a>) <span class=K>begin</span>
<a name="742"></a>		    <a  onClick="return qs(event,this,121)"  class=SR href="#680">raddr</a> &lt;= 0;
	    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,115)"  class=SI href="#673">i_ren</a>) <span class=K>begin</span>
		    <a  onClick="return qs(event,this,121)"  class=SR href="#680">raddr</a> &lt;= <a  onClick="return qs(event,this,121)"  class=SR href="#742">raddr</a> + 1;
	    <span class=K>end</span>
    <span class=K>end</span>

    <span class=C>// write
</span>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,109)"  class=SI href="#667">wclk</a>) <span class=K>begin</span>
	    <span class=K>if</span> (!<a  onClick="return qs(event,this,111)"  class=SI href="#669">i_wrst_x</a>) <span class=K>begin</span>
<a name="751"></a>		    <a  onClick="return qs(event,this,120)"  class=SR href="#679">waddr</a> &lt;= 0;
	    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,113)"  class=SI href="#671">i_wen</a>) <span class=K>begin</span>
<a name="753"></a>		    <a  onClick="return qs(event,this,119)"  class=SR href="#678">afifo</a>[<a  onClick="return qs(event,this,120)"  class=SR href="#679">waddr</a>[<a  onClick="return qs(event,this,0)"  class=PA href="#665">ADDR_WIDTH</a>-1 : 0]] &lt;= <a  onClick="return qs(event,this,114)"  class=SI href="#672">i_data</a>;
		    <a  onClick="return qs(event,this,120)"  class=SR href="#679">waddr</a> &lt;= <a  onClick="return qs(event,this,120)"  class=SR href="#751">waddr</a> + 1;
	    <span class=K>end</span>
    <span class=K>end</span>

<span class=K>endmodule</span>
<span class=M>`endif</span>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/*** Simple Direct Mapped Cache Sync CLK for DRAM                                               ***/</span>
<span class=C>/**************************************************************************************************/</span>
<a name="m_dram_cache"></a><a name="763"></a><a  href="memory.v.html#cache_ctrl_cache"><img alt="[Up: cache_ctrl cache]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>m_dram_cache</span><a  href="hierarchy-m.html#m_dram_cache"><img align=top border=0 alt="Index" src="v2html-i.gif"></a>#(<span class=K>parameter</span> <a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> = 30, <a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a> = 32, <a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a> = 1024)
    (<a  onClick="return qs(event,this,135)"  class=SI href="#765">CLK</a>, <a  onClick="return qs(event,this,136)"  class=SI href="#765">RST_X</a>, <a  onClick="return qs(event,this,137)"  class=SI href="#766">w_flush</a>, <a  onClick="return qs(event,this,138)"  class=SI href="#766">w_clr</a>, <a  onClick="return qs(event,this,139)"  class=SI href="#766">w_we</a>, <a  onClick="return qs(event,this,140)"  class=SI href="#767">w_addr</a>, <a  onClick="return qs(event,this,141)"  class=SI href="#768">w_idata</a>, <a  onClick="return qs(event,this,142)"  class=SO href="#796">w_odata</a>, <a  onClick="return qs(event,this,143)"  class=SO href="#797">w_oe</a>);
<a name="765"></a>    <span class=K>input</span>  <span class=K>wire</span>                     <a  onClick="return qs(event,this,135)"  class=SI href="#535">CLK</a>, <a  onClick="return qs(event,this,136)"  class=SI href="#765">RST_X</a>;
<a name="766"></a>    <span class=K>input</span>  <span class=K>wire</span>                     <a  onClick="return qs(event,this,137)"  class=SI href="#766">w_flush</a>, <a  onClick="return qs(event,this,139)"  class=SI href="#535">w_we</a>, <a  onClick="return qs(event,this,138)"  class=SI href="#535">w_clr</a>;
<a name="767"></a>    <span class=K>input</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a>-1:0]    <a  onClick="return qs(event,this,140)"  class=SI href="#536">w_addr</a>;
<a name="768"></a>    <span class=K>input</span>  <span class=K>wire</span>    [<a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>-1:0]    <a  onClick="return qs(event,this,141)"  class=SI href="#536">w_idata</a>;
<a name="769"></a>    <span class=K>output</span> <span class=K>wire</span>    [<a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>-1:0]    <a  onClick="return qs(event,this,142)"  class=SO href="#796">w_odata</a>;
<a name="770"></a>    <span class=K>output</span> <span class=K>wire</span>                     <a  onClick="return qs(event,this,143)"  class=SO href="#797">w_oe</a>;             <span class=C>//output enable
</span>
    <span class=C>// index and tag
</span><a name="773"></a>    <span class=K>reg</span>  [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>)-1:0]                <a  onClick="return qs(event,this,144)"  class=SR href="#801">r_idx</a> = 0;
<a name="774"></a>    <span class=K>reg</span>  [(<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>))-1:0] <a  onClick="return qs(event,this,145)"  class=SR href="#800">r_tag</a> = 0;

    <span class=C>// index and tag
</span><a name="777"></a>    <span class=K>wire</span>                [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>)-1:0] <a  onClick="return qs(event,this,146)"  class=SW href="#779">w_idx</a>;
<a name="778"></a>    <span class=K>wire</span> [(<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>))-1:0] <a  onClick="return qs(event,this,147)"  class=SW href="#779">w_tag</a>;
<a name="779"></a>    <span class=K>assign</span> {<a  onClick="return qs(event,this,147)"  class=SW href="#778">w_tag</a>, <a  onClick="return qs(event,this,146)"  class=SW href="#777">w_idx</a>} = <a  onClick="return qs(event,this,140)"  class=SI href="#767">w_addr</a>;

<a name="781"></a>    <span class=K>wire</span>                                            <a  onClick="return qs(event,this,148)"  class=SW href="#781">w_mwe</a> = <a  onClick="return qs(event,this,138)"  class=SI href="#766">w_clr</a> | <a  onClick="return qs(event,this,139)"  class=SI href="#766">w_we</a> | !<a  onClick="return qs(event,this,136)"  class=SI href="#765">RST_X</a> | <a  onClick="return qs(event,this,137)"  class=SI href="#766">w_flush</a>;
<a name="782"></a>    <span class=K>wire</span>                      [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>)-1:0]   <a  onClick="return qs(event,this,149)"  class=SW href="#782">w_maddr</a> = <a  onClick="return qs(event,this,146)"  class=SW href="#779">w_idx</a>;
<a name="783"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>) + <a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>:0]   <a  onClick="return qs(event,this,150)"  class=SW href="#783">w_mwdata</a> = <a  onClick="return qs(event,this,139)"  class=SI href="#766">w_we</a> ? {1'b1, <a  onClick="return qs(event,this,147)"  class=SW href="#779">w_tag</a>, <a  onClick="return qs(event,this,141)"  class=SI href="#768">w_idata</a>} : 0;
<a name="784"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>) + <a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>:0]   <a  onClick="return qs(event,this,151)"  class=SW href="#794">w_modata</a>;

<a name="786"></a>    <span class=K>wire</span>                                            <a  onClick="return qs(event,this,152)"  class=SW href="#790">w_mvalid</a>;
<a name="787"></a>    <span class=K>wire</span>                     [<span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>)-1:0]    <a  onClick="return qs(event,this,153)"  class=SW href="#787">w_midx</a>;
<a name="788"></a>    <span class=K>wire</span>      [(<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>))-1:0]    <a  onClick="return qs(event,this,154)"  class=SW href="#790">w_mtag</a>;
<a name="789"></a>    <span class=K>wire</span>                           [<a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>-1:0]    <a  onClick="return qs(event,this,155)"  class=SW href="#790">w_mdata</a>;
<a name="790"></a>    <span class=K>assign</span> {<a  onClick="return qs(event,this,152)"  class=SW href="#786">w_mvalid</a>, <a  onClick="return qs(event,this,154)"  class=SW href="#788">w_mtag</a>, <a  onClick="return qs(event,this,155)"  class=SW href="#789">w_mdata</a>} = <a  onClick="return qs(event,this,151)"  class=SW href="#794">w_modata</a>;


<a name="m_dram_cache_mem"></a><a name="793"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="#m_bram">m_bram</a>#((<a  onClick="return qs(event,this,132)"  class=SW href="#793">ADDR_WIDTH</a> - <span class=ST>$clog2</span>(<a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>) + <a  onClick="return qs(event,this,133)"  class=SW href="#793">D_WIDTH</a>)+1, <a  onClick="return qs(event,this,134)"  class=SW href="#793">ENTRY</a>)
<a name="794"></a>        mem(<a  onClick="return qs(event,this,135)"  class=SI href="#765">CLK</a>, <a  onClick="return qs(event,this,148)"  class=SW href="#781">w_mwe</a>, <a  onClick="return qs(event,this,149)"  class=SW href="#782">w_maddr</a>, <a  onClick="return qs(event,this,150)"  class=SW href="#783">w_mwdata</a>, <a  onClick="return qs(event,this,151)"  class=SW href="#784">w_modata</a>);

<a name="796"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,142)"  class=SO href="#769">w_odata</a>  = <a  onClick="return qs(event,this,155)"  class=SW href="#790">w_mdata</a>;
<a name="797"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,143)"  class=SO href="#770">w_oe</a>     = (<a  onClick="return qs(event,this,152)"  class=SW href="#790">w_mvalid</a> &amp;&amp; <a  onClick="return qs(event,this,154)"  class=SW href="#790">w_mtag</a> == <a  onClick="return qs(event,this,145)"  class=SR href="#800">r_tag</a>);

    <span class=K>always</span>  @(<span class=K>posedge</span>  <a  onClick="return qs(event,this,135)"  class=SI href="#765">CLK</a>)  <span class=K>begin</span>
<a name="800"></a>        <a  onClick="return qs(event,this,145)"  class=SR href="#774">r_tag</a> &lt;= <a  onClick="return qs(event,this,147)"  class=SW href="#779">w_tag</a>;
<a name="801"></a>        <a  onClick="return qs(event,this,144)"  class=SR href="#773">r_idx</a> &lt;= <a  onClick="return qs(event,this,146)"  class=SW href="#779">w_idx</a>;
    <span class=K>end</span>
<span class=K>endmodule</span> <span class=C>// DMC
</span><span class=C>/**************************************************************************************************/</span>


</pre>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return ""; }
function first_page() { return ""; }
var extra_info = [
["S","memory.v.html#38","","mmu.v.html#967","","hierarchy-s.p5.html#mig_clk___DRAM_conRV"],
["S","memory.v.html#39","","mmu.v.html#968","","hierarchy-s.p5.html#mig_rst_x___DRAM_conRV"],
["S","memory.v.html#45","","","","hierarchy-s.p3.html#ddr2_dq___DRAM_conRV"],
["S","memory.v.html#46","","","","hierarchy-s.p3.html#ddr2_dqs_n___DRAM_conRV"],
["S","memory.v.html#47","","","","hierarchy-s.p3.html#ddr2_dqs_p___DRAM_conRV"],
["S","memory.v.html#48","memory.v.html#366","","","hierarchy-s.p3.html#ddr2_addr___DRAM_conRV"],
["S","memory.v.html#49","memory.v.html#367","","","hierarchy-s.p3.html#ddr2_ba___DRAM_conRV"],
["S","memory.v.html#50","memory.v.html#368","","","hierarchy-s.p3.html#ddr2_ras_n___DRAM_conRV"],
["S","memory.v.html#51","memory.v.html#369","","","hierarchy-s.p3.html#ddr2_cas_n___DRAM_conRV"],
["S","memory.v.html#52","memory.v.html#370","","","hierarchy-s.p3.html#ddr2_we_n___DRAM_conRV"],
["S","memory.v.html#53","memory.v.html#371","","","hierarchy-s.p3.html#ddr2_ck_p___DRAM_conRV"],
["S","memory.v.html#54","memory.v.html#372","","","hierarchy-s.p3.html#ddr2_ck_n___DRAM_conRV"],
["S","memory.v.html#55","memory.v.html#373","","","hierarchy-s.p3.html#ddr2_cke___DRAM_conRV"],
["S","memory.v.html#56","memory.v.html#374","","","hierarchy-s.p3.html#ddr2_cs_n___DRAM_conRV"],
["S","memory.v.html#57","memory.v.html#375","","","hierarchy-s.p3.html#ddr2_dm___DRAM_conRV"],
["S","memory.v.html#58","memory.v.html#376","","","hierarchy-s.p3.html#ddr2_odt___DRAM_conRV"],
["S","memory.v.html#78","memory.v.html#395","","dram.v.html#154","hierarchy-s.p6.html#o_clk___DRAM_conRV"],
["S","memory.v.html#79","memory.v.html#396","","dram.v.html#155","hierarchy-s.p6.html#o_rst_x___DRAM_conRV"],
["S","memory.v.html#81","","mmu.v.html#959","mmu.v.html#375","hierarchy-s.p4.html#i_rd_en___DRAM_conRV"],
["S","memory.v.html#82","","mmu.v.html#960","mmu.v.html#945","hierarchy-s.p4.html#i_wr_en___DRAM_conRV"],
["S","memory.v.html#83","","mmu.v.html#961","mmu.v.html#929","hierarchy-s.p4.html#i_addr___DRAM_conRV"],
["S","memory.v.html#84","","mmu.v.html#962","mmu.v.html#938","hierarchy-s.p4.html#i_data___DRAM_conRV"],
["S","memory.v.html#85","memory.v.html#402","","dram.v.html#167","hierarchy-s.p6.html#o_init_calib_complete___DRAM_conRV"],
["S","memory.v.html#86","memory.v.html#103","","memory.v.html#103","hierarchy-s.p6.html#o_data___DRAM_conRV"],
["S","memory.v.html#87","memory.v.html#111","","memory.v.html#111","hierarchy-s.p6.html#o_busy___DRAM_conRV"],
["S","memory.v.html#88","","mmu.v.html#965","mmu.v.html#941","hierarchy-s.p4.html#i_ctrl___DRAM_conRV"],
["S","memory.v.html#90","memory.v.html#187","","memory.v.html#187","hierarchy-s.p7.html#r_we___DRAM_conRV"],
["S","memory.v.html#91","memory.v.html#120","","memory.v.html#120","hierarchy-s.p7.html#r_rd___DRAM_conRV"],
["S","memory.v.html#92","memory.v.html#404","","memory.v.html#539","hierarchy-s.p9.html#w_busy___DRAM_conRV"],
["S","memory.v.html#93","memory.v.html#403","","memory.v.html#541","hierarchy-s.p9.html#w_dram_odata___DRAM_conRV"],
["S","memory.v.html#94","memory.v.html#175","","memory.v.html#175","hierarchy-s.p7.html#r_mask___DRAM_conRV"],
["S","memory.v.html#95","memory.v.html#124","","memory.v.html#124","hierarchy-s.p7.html#r_ctrl___DRAM_conRV"],
["S","memory.v.html#96","","","","hierarchy-s.p7.html#r_odata___DRAM_conRV"],
["S","memory.v.html#97","memory.v.html#142","","memory.v.html#142","hierarchy-s.p7.html#r_dram_odata1___DRAM_conRV"],
["S","memory.v.html#98","memory.v.html#164","","memory.v.html#164","hierarchy-s.p7.html#r_dram_odata2___DRAM_conRV"],
["S","memory.v.html#99","memory.v.html#123","","memory.v.html#123","hierarchy-s.p7.html#r_maddr___DRAM_conRV"],
["S","memory.v.html#99","memory.v.html#122","","memory.v.html#122","hierarchy-s.p7.html#r_addr___DRAM_conRV"],
["S","memory.v.html#102","memory.v.html#102","","memory.v.html#102","hierarchy-s.p9.html#w_odata___DRAM_conRV"],
["S","memory.v.html#108","memory.v.html#176","","memory.v.html#176","hierarchy-s.p7.html#r_wdata___DRAM_conRV"],
["S","memory.v.html#108","memory.v.html#130","","memory.v.html#130","hierarchy-s.p7.html#r_wdata_ui___DRAM_conRV"],
["S","memory.v.html#110","memory.v.html#121","","memory.v.html#121","hierarchy-s.p7.html#r_stall___DRAM_conRV"],
["S","memory.v.html#112","memory.v.html#118","","memory.v.html#118","hierarchy-s.p8.html#state___DRAM_conRV"],
["S","memory.v.html#112","memory.v.html#119","","memory.v.html#119","hierarchy-s.p8.html#state_next___DRAM_conRV"],
["S","memory.v.html#113","","","","hierarchy-s.p7.html#r_cnt___DRAM_conRV"],
["S","memory.v.html#436","","memory.v.html#356","","hierarchy-s.p5.html#mig_clk___cache_ctrl"],
["S","memory.v.html#437","","memory.v.html#357","","hierarchy-s.p5.html#mig_rst_x___cache_ctrl"],
["S","memory.v.html#443","","","","hierarchy-s.p3.html#ddr2_dq___cache_ctrl"],
["S","memory.v.html#444","","","","hierarchy-s.p3.html#ddr2_dqs_n___cache_ctrl"],
["S","memory.v.html#445","","","","hierarchy-s.p3.html#ddr2_dqs_p___cache_ctrl"],
["S","memory.v.html#446","memory.v.html#555","","","hierarchy-s.p3.html#ddr2_addr___cache_ctrl"],
["S","memory.v.html#447","memory.v.html#556","","","hierarchy-s.p3.html#ddr2_ba___cache_ctrl"],
["S","memory.v.html#448","memory.v.html#557","","","hierarchy-s.p3.html#ddr2_ras_n___cache_ctrl"],
["S","memory.v.html#449","memory.v.html#558","","","hierarchy-s.p3.html#ddr2_cas_n___cache_ctrl"],
["S","memory.v.html#450","memory.v.html#559","","","hierarchy-s.p3.html#ddr2_we_n___cache_ctrl"],
["S","memory.v.html#451","memory.v.html#560","","","hierarchy-s.p3.html#ddr2_ck_p___cache_ctrl"],
["S","memory.v.html#452","memory.v.html#561","","","hierarchy-s.p3.html#ddr2_ck_n___cache_ctrl"],
["S","memory.v.html#453","memory.v.html#562","","","hierarchy-s.p3.html#ddr2_cke___cache_ctrl"],
["S","memory.v.html#454","memory.v.html#563","","","hierarchy-s.p3.html#ddr2_cs_n___cache_ctrl"],
["S","memory.v.html#455","memory.v.html#564","","","hierarchy-s.p3.html#ddr2_dm___cache_ctrl"],
["S","memory.v.html#456","memory.v.html#565","","","hierarchy-s.p3.html#ddr2_odt___cache_ctrl"],
["S","memory.v.html#476","memory.v.html#584","","dram.v.html#154","hierarchy-s.p6.html#o_clk___cache_ctrl"],
["S","memory.v.html#477","memory.v.html#585","","dram.v.html#155","hierarchy-s.p6.html#o_rst_x___cache_ctrl"],
["S","memory.v.html#479","","memory.v.html#398","memory.v.html#120","hierarchy-s.p4.html#i_rd_en___cache_ctrl"],
["S","memory.v.html#480","","memory.v.html#399","memory.v.html#187","hierarchy-s.p4.html#i_wr_en___cache_ctrl"],
["S","memory.v.html#481","","memory.v.html#400","memory.v.html#123","hierarchy-s.p4.html#i_addr___cache_ctrl"],
["S","memory.v.html#482","","memory.v.html#401","memory.v.html#176","hierarchy-s.p4.html#i_data___cache_ctrl"],
["S","memory.v.html#483","memory.v.html#589","","dram.v.html#167","hierarchy-s.p6.html#o_init_calib_complete___cache_ctrl"],
["S","memory.v.html#484","memory.v.html#541","","memory.v.html#541","hierarchy-s.p6.html#o_data___cache_ctrl"],
["S","memory.v.html#485","memory.v.html#539","","memory.v.html#539","hierarchy-s.p6.html#o_busy___cache_ctrl"],
["S","memory.v.html#486","","memory.v.html#405","memory.v.html#175","hierarchy-s.p4.html#i_mask___cache_ctrl"],
["S","memory.v.html#489","memory.v.html#518","","memory.v.html#518","hierarchy-s.p7.html#r_cache_state___cache_ctrl"],
["S","memory.v.html#491","memory.v.html#527","","memory.v.html#527","hierarchy-s.p7.html#r_addr___cache_ctrl"],
["S","memory.v.html#492","","","","hierarchy-s.p7.html#r_ctrl___cache_ctrl"],
["S","memory.v.html#493","memory.v.html#523","","memory.v.html#523","hierarchy-s.p7.html#r_o_data___cache_ctrl"],
["S","memory.v.html#496","memory.v.html#593","","dram.v.html#340","hierarchy-s.p9.html#w_dram_stall___cache_ctrl"],
["S","memory.v.html#497","memory.v.html#538","","memory.v.html#538","hierarchy-s.p9.html#w_dram_le___cache_ctrl"],
["S","memory.v.html#498","memory.v.html#498","","memory.v.html#498","hierarchy-s.p9.html#w_dram_addr___cache_ctrl"],
["S","memory.v.html#499","memory.v.html#592","","dram.v.html#339","hierarchy-s.p9.html#w_dram_odata___cache_ctrl"],
["S","memory.v.html#502","memory.v.html#536","","memory.v.html#797","hierarchy-s.p2.html#c_oe___cache_ctrl"],
["S","memory.v.html#503","memory.v.html#503","","memory.v.html#503","hierarchy-s.p2.html#c_clr___cache_ctrl"],
["S","memory.v.html#504","memory.v.html#504","","memory.v.html#504","hierarchy-s.p2.html#c_we___cache_ctrl"],
["S","memory.v.html#505","memory.v.html#505","","memory.v.html#505","hierarchy-s.p2.html#c_addr___cache_ctrl"],
["S","memory.v.html#506","memory.v.html#506","","memory.v.html#506","hierarchy-s.p2.html#c_idata___cache_ctrl"],
["S","memory.v.html#507","memory.v.html#536","","memory.v.html#796","hierarchy-s.p2.html#c_odata___cache_ctrl"],
["S","memory.v.html#602","","memory.v.html#793","","hierarchy-s.p2.html#CLK___m_bram"],
["S","memory.v.html#602","","memory.v.html#794","memory.v.html#781","hierarchy-s.p9.html#w_we___m_bram"],
["S","memory.v.html#603","","memory.v.html#794","memory.v.html#782","hierarchy-s.p9.html#w_addr___m_bram"],
["S","memory.v.html#604","","memory.v.html#794","memory.v.html#783","hierarchy-s.p9.html#w_idata___m_bram"],
["S","memory.v.html#605","memory.v.html#614","","memory.v.html#614","hierarchy-s.p7.html#r_odata___m_bram"],
["S","memory.v.html#607","memory.v.html#610","","memory.v.html#610","hierarchy-s.p5.html#mem___m_bram"],
["S","memory.v.html#609","","","","hierarchy-s.p4.html#i___m_bram"],
["S","memory.v.html#622","","","memory.v.html#622","hierarchy-s.p2.html#CLK___m_bram2"],
["S","memory.v.html#622","","","memory.v.html#622","hierarchy-s.p9.html#w_we___m_bram2"],
["S","memory.v.html#623","","","memory.v.html#623","hierarchy-s.p9.html#w_raddr___m_bram2"],
["S","memory.v.html#623","","","memory.v.html#623","hierarchy-s.p9.html#w_waddr___m_bram2"],
["S","memory.v.html#624","","","memory.v.html#624","hierarchy-s.p9.html#w_idata___m_bram2"],
["S","memory.v.html#625","memory.v.html#636","","memory.v.html#636","hierarchy-s.p9.html#w_odata1___m_bram2"],
["S","memory.v.html#625","memory.v.html#637","","memory.v.html#637","hierarchy-s.p9.html#w_odata2___m_bram2"],
["S","memory.v.html#627","memory.v.html#634","","memory.v.html#634","hierarchy-s.p7.html#r_addr___m_bram2"],
["S","memory.v.html#627","memory.v.html#633","","memory.v.html#633","hierarchy-s.p7.html#r_addr2___m_bram2"],
["S","memory.v.html#629","memory.v.html#632","","memory.v.html#632","hierarchy-s.p5.html#mem___m_bram2"],
["S","memory.v.html#642","","","memory.v.html#642","hierarchy-s.p2.html#CLK___m_col_bram"],
["S","memory.v.html#643","","","memory.v.html#643","hierarchy-s.p9.html#w_we___m_col_bram"],
["S","memory.v.html#644","","","memory.v.html#644","hierarchy-s.p9.html#w_addr___m_col_bram"],
["S","memory.v.html#645","","","memory.v.html#645","hierarchy-s.p9.html#w_idata___m_col_bram"],
["S","memory.v.html#646","memory.v.html#659","","memory.v.html#659","hierarchy-s.p9.html#w_odata___m_col_bram"],
["S","memory.v.html#650","memory.v.html#653","","memory.v.html#653","hierarchy-s.p5.html#mem___m_col_bram"],
["S","memory.v.html#651","memory.v.html#657","","memory.v.html#657","hierarchy-s.html#addr___m_col_bram"],
["S","memory.v.html#667","","dram.v.html#175","dram.v.html#455","hierarchy-s.p9.html#wclk___AsyncFIFO"],
["S","memory.v.html#668","","dram.v.html#195","dram.v.html#455","hierarchy-s.p7.html#rclk___AsyncFIFO"],
["S","memory.v.html#669","","dram.v.html#196","dram.v.html#142","hierarchy-s.p4.html#i_wrst_x___AsyncFIFO"],
["S","memory.v.html#670","","dram.v.html#178","dram.v.html#142","hierarchy-s.p4.html#i_rrst_x___AsyncFIFO"],
["S","memory.v.html#671","","dram.v.html#179","dram.v.html#187","hierarchy-s.p4.html#i_wen___AsyncFIFO"],
["S","memory.v.html#672","","dram.v.html#180","dram.v.html#188","hierarchy-s.p4.html#i_data___AsyncFIFO"],
["S","memory.v.html#673","","dram.v.html#181","dram.v.html#189","hierarchy-s.p4.html#i_ren___AsyncFIFO"],
["S","memory.v.html#674","memory.v.html#699","","memory.v.html#699","hierarchy-s.p6.html#o_data___AsyncFIFO"],
["S","memory.v.html#675","memory.v.html#700","","memory.v.html#700","hierarchy-s.p6.html#o_empty___AsyncFIFO"],
["S","memory.v.html#676","memory.v.html#701","","memory.v.html#701","hierarchy-s.p6.html#o_full___AsyncFIFO"],
["S","memory.v.html#678","memory.v.html#753","","memory.v.html#753","hierarchy-s.html#afifo___AsyncFIFO"],
["S","memory.v.html#679","memory.v.html#751","","memory.v.html#751","hierarchy-s.p9.html#waddr___AsyncFIFO"],
["S","memory.v.html#680","memory.v.html#742","","memory.v.html#742","hierarchy-s.p7.html#raddr___AsyncFIFO"],
["S","memory.v.html#682","memory.v.html#719","","memory.v.html#719","hierarchy-s.p7.html#raddr_gray1___AsyncFIFO"],
["S","memory.v.html#683","memory.v.html#720","","memory.v.html#720","hierarchy-s.p7.html#raddr_gray2___AsyncFIFO"],
["S","memory.v.html#685","memory.v.html#730","","memory.v.html#730","hierarchy-s.p9.html#waddr_gray1___AsyncFIFO"],
["S","memory.v.html#686","memory.v.html#731","","memory.v.html#731","hierarchy-s.p9.html#waddr_gray2___AsyncFIFO"],
["S","memory.v.html#688","memory.v.html#739","","memory.v.html#739","hierarchy-s.p3.html#data___AsyncFIFO"],
["S","memory.v.html#690","memory.v.html#705","","memory.v.html#705","hierarchy-s.p7.html#raddr_gray___AsyncFIFO"],
["S","memory.v.html#691","memory.v.html#706","","memory.v.html#706","hierarchy-s.p9.html#waddr_gray___AsyncFIFO"],
["S","memory.v.html#693","","","","hierarchy-s.p7.html#raddr2___AsyncFIFO"],
["S","memory.v.html#694","","","","hierarchy-s.p9.html#waddr2___AsyncFIFO"],
["S","memory.v.html#696","","","","hierarchy-s.p4.html#genvar_i___AsyncFIFO"],
["S","memory.v.html#793","","","","hierarchy-s.html#ADDR_WIDTH___m_dram_cache"],
["S","memory.v.html#793","","","","hierarchy-s.p3.html#D_WIDTH___m_dram_cache"],
["S","memory.v.html#793","","","","hierarchy-s.p4.html#ENTRY___m_dram_cache"],
["S","memory.v.html#765","","memory.v.html#535","dram.v.html#154","hierarchy-s.p2.html#CLK___m_dram_cache"],
["S","memory.v.html#765","","","memory.v.html#765","hierarchy-s.p7.html#RST_X___m_dram_cache"],
["S","memory.v.html#766","","","memory.v.html#766","hierarchy-s.p9.html#w_flush___m_dram_cache"],
["S","memory.v.html#766","","memory.v.html#535","memory.v.html#503","hierarchy-s.p9.html#w_clr___m_dram_cache"],
["S","memory.v.html#766","","memory.v.html#535","memory.v.html#504","hierarchy-s.p9.html#w_we___m_dram_cache"],
["S","memory.v.html#767","","memory.v.html#536","memory.v.html#505","hierarchy-s.p9.html#w_addr___m_dram_cache"],
["S","memory.v.html#768","","memory.v.html#536","memory.v.html#506","hierarchy-s.p9.html#w_idata___m_dram_cache"],
["S","memory.v.html#769","memory.v.html#796","","memory.v.html#796","hierarchy-s.p9.html#w_odata___m_dram_cache"],
["S","memory.v.html#770","memory.v.html#797","","memory.v.html#797","hierarchy-s.p9.html#w_oe___m_dram_cache"],
["S","memory.v.html#773","memory.v.html#801","","memory.v.html#801","hierarchy-s.p7.html#r_idx___m_dram_cache"],
["S","memory.v.html#774","memory.v.html#800","","memory.v.html#800","hierarchy-s.p7.html#r_tag___m_dram_cache"],
["S","memory.v.html#777","memory.v.html#779","","memory.v.html#779","hierarchy-s.p9.html#w_idx___m_dram_cache"],
["S","memory.v.html#778","memory.v.html#779","","memory.v.html#779","hierarchy-s.p9.html#w_tag___m_dram_cache"],
["S","memory.v.html#781","memory.v.html#781","","memory.v.html#781","hierarchy-s.p9.html#w_mwe___m_dram_cache"],
["S","memory.v.html#782","memory.v.html#782","","memory.v.html#782","hierarchy-s.p9.html#w_maddr___m_dram_cache"],
["S","memory.v.html#783","memory.v.html#783","","memory.v.html#783","hierarchy-s.p9.html#w_mwdata___m_dram_cache"],
["S","memory.v.html#784","memory.v.html#794","","memory.v.html#614","hierarchy-s.p9.html#w_modata___m_dram_cache"],
["S","memory.v.html#786","memory.v.html#790","","memory.v.html#790","hierarchy-s.p9.html#w_mvalid___m_dram_cache"],
["S","memory.v.html#787","","","","hierarchy-s.p9.html#w_midx___m_dram_cache"],
["S","memory.v.html#788","memory.v.html#790","","memory.v.html#790","hierarchy-s.p9.html#w_mtag___m_dram_cache"],
["S","memory.v.html#789","memory.v.html#790","","memory.v.html#790","hierarchy-s.p9.html#w_mdata___m_dram_cache"]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Fri Feb 11 15:35:04 2022</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
src/memory.v</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
