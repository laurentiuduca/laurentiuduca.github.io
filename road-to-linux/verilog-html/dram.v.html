<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head>
<title>src/dram.v</title>
<link rel="Stylesheet" title="v2html stylesheet" media="Screen" href="v2html.css">
</head>
<script language="JavaScript" type="text/javascript"><!--
var agt=navigator.userAgent.toLowerCase(); 
var is_nav  = ((agt.indexOf('mozilla')!=-1) &&
(agt.indexOf('spoofer')==-1) &&
(agt.indexOf('compatible') == -1) &&
(agt.indexOf('opera')==-1) &&
(agt.indexOf('webtv')==-1)); 
var is_major = parseInt(navigator.appVersion); 
var is_nav4up = (is_nav && (is_major >= 4)); 
var is_ie     = (agt.indexOf("msie") != -1); 
var is_ie4up  = (is_ie  && (is_major >= 4)); 
var is_nav5up = (is_nav && (is_major >= 5));
var dirSep = (window.location.pathname.indexOf('\\') != -1) ? '\\' : '/' ;
function setbuttons (wndw) {
var i;
var sl=wndw.loc[ wndw.document.forms[0].elements[0].selectedIndex ];
for (i=0;i<sl.length;i++) {
if(sl[i]) wndw.document.images[i].src='v2html-b1.gif';
else      wndw.document.images[i].src='v2html-b2.gif';
}
if ( wndw.document.forms[0].elements[0].options[ 
wndw.document.forms[0].elements[0].selectedIndex ].text != '-') {
wndw.document.images[i  ].src='v2html-b1.gif';
wndw.document.images[i+1].src='v2html-b1.gif';
}
else {
wndw.document.images[i  ].src='v2html-b2.gif';
wndw.document.images[i+1].src='v2html-b2.gif';
}
}
// Unindented and uncommented to save spave - look in v2html for a prettier version
var disabled=1;
if (!is_nav4up) {
var event=false; 
}
var last_link=0;     
var last_class=null; 
function qs(e,t,extra_info_index) {
var inc=0,bnum=0,i,j;
if (disabled) return false;
var sig_buttons = [ "Definition" , "Local Driver" , 
"Up to Input Driver" , "Find Source" , "Index"];
if (is_nav4up || is_ie4up) {
if (((e.which==2) && (!(e.modifiers&Event.SHIFT_MASK))) ||
((e.which==1) &&  (e.modifiers&Event.CONTROL_MASK)))   inc = 1;
else if (((e.which==2) && (e.modifiers&Event.SHIFT_MASK)) ||
((e.which==1) && (e.modifiers&Event.SHIFT_MASK))) inc = -1;
if (inc == 0 && extra_info_index == 0) { 
return true;  
}
var linkText = is_nav4up ? t.text : t.innerText;
var linkY    = is_nav4up && ! is_nav5up ? t.y    : t.offsetTop;
window.status="Searching...";
if ((last_link==-1) || (document.links[last_link]!=t)) 
for (last_link=0;last_link<document.links.length;last_link++) 
if (document.links[last_link] == t)  
break;
if (inc != 0) { 
return search(linkText,linkY,last_link,inc,1);
}
else { 
window.status="";
extra_info_index--; 
if (extra_info[extra_info_index][0] != 'S') { 
return true;
}
var w = window.open('','SignalPopUp','width=200,height=235');
if (null != w.document.forms[0]) {
if ((window.location.pathname.substring(0,window.location.pathname.lastIndexOf(dirSep)))!=
(w.pn.substring(0,w.pn.lastIndexOf(dirSep)))) {
w.close();
w = window.open('','SignalPopUp','width=200,height=235');
}
}
w.focus(); 
if (null == w.document.forms[0]) { 
var Text = '<html><head></head>';
if (is_nav4up) { 
w.loc = new Array(10);
w.sel = null;
w.pn  = window.location.pathname;
}
else {     
Text += '<script>var loc = new Array(10);<\/script>\n';
Text += '<script>var sel;<\/script>\n';
Text += '<script>var pn = opener.location.pathname;<\/script>\n';
}
Text += '<body bgcolor="white">\n';
Text += '<form>';
Text += '  <select onchange="opener.setbuttons(window);">\n';
Text += '  <option>---------------------------</option>\n';
for (j=0;j<9;j++) Text += '  <option>-</option>\n';
Text += '  </select>\n';
Text += '</form>';
Text += '<table cellspacing=0 cellpadding=0>\n';
for (var i=0;i<(extra_info[extra_info_index].length-1);i++) {
Text += hbutton(sig_buttons[i], 
'opener.location=loc[sel.selectedIndex]['+i+'];',
bnum++);
}
Text += hbutton("Search Backwards", 
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link,-1,0);',bnum++);
Text += hbutton("Search Forwards",
'opener.search(sel.options[ sel.selectedIndex ].text,' +
'0,opener.last_link, 1,0);',bnum++);
Text += hbutton("Close","window.close();",bnum++);
Text += '</table>\n';
Text += '</body></html>\n';
w.document.open();
w.document.write(Text);
w.document.close();
w.document.forms[0].elements[0].options[0].text  = linkText;
w.sel = w.document.forms[0].elements[0]; 
for (j=0;j<10;j++) w.loc[j] = new Array(sig_buttons.length);  
copy_into_loc0(w,extra_info_index);
}
else {
var opts = w.document.forms[0].elements[0].options;
if ( opts.length<10 ) { 
w.loc[opts.length] = new Array;
opts.length++; 
}
for (i=opts.length-2;i>=0;i--) {
opts[i+1].text=opts[i].text;
for (var j=0;j<w.loc[i].length;j++) w.loc[i+1][j] = w.loc[i][j];
}
opts[0].text  = linkText;
copy_into_loc0(w,extra_info_index);
}
return false; 
}
}
return true;
}
function hbutton (text,action,bnum) {
return '  <tr><td><a href="" '+
'onmousedown="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b3.gif\';" '+
'onmouseup="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
'images['+bnum+'].src=\'v2html-b1.gif\';" '+
'onclick="'+
'if (images['+bnum+'].src.match(/v2html-b2.gif/)) return false; ' +
action + 
' return false;">'+
'<img border=0 src="v2html-b1.gif"></a></td>' +
'<td style="font-family:sans-serif; font-weight:bold; font-size:14px;"> '+text+'</td></tr>\n';
}
function copy_into_loc0 (w,extra_info_index) {
for (var i=1;i<extra_info[extra_info_index].length;i++) {
w.loc[0][i-1] = extra_info[extra_info_index][i];
}
w.document.forms[0].elements[0].selectedIndex=1;
w.document.forms[0].elements[0].selectedIndex=0;
setbuttons(w);
}
function search(text,y,i,inc,relative) {
var nextpage,wrappage,linkText,linkY;
window.status="Searching...";
if (last_class) document.links[i].className=last_class;
while (1) {
for (i+=inc;i<document.links.length && i>=0;i+=inc) {
linkText = is_nav4up ? document.links[i].text : document.links[i].innerText;
linkY    = is_nav4up && ! is_nav5up ? document.links[i].y    : document.links[i].offsetTop;
if ((linkText == text) && (linkY != y)) {
window.status="";
if (is_nav4up) 
if (relative) window.scrollBy(0,linkY - y);
else          window.scrollTo(0,linkY); 
else if (is_ie4up)
document.links[i].scrollIntoView(true); 
last_link=i;
last_class=document.links[i].className;
document.links[i].className='HI';
return false;
}
}
nextpage = (inc==1) ? next_page() : prev_page();
wrappage = (inc==1) ? first_page() : last_page();
if (nextpage!="" || wrappage!="") {
if (nextpage=="") { 
if (!confirm(text + " not found. Search again from "+((inc==1)?"first":"last")+" page?"))
return false;
nextpage=wrappage;
}
location=nextpage+ "?" + escape(text) + "&" + ( y - window.pageYOffset ) + "&" + inc;
return false;
}
if (confirm(text + " not found. Search again from "+((inc==1)?"start":"end")+"?")) {
if (inc==1) i=-1;
else i=document.links.length;
} else return false;
}
return true;
}
function loadqs() {
var opt=location.search, text="", s="", y=0, si=0, inc=1;
if (opt.length==0) return true;  
for (var i=1;i<opt.length;i++) { 
if (opt.charAt(i) != "&") 
s += opt.charAt(i);
else {
if (text=="") text=unescape(s);
else             y=s;
s="";
}
}
if (text=="") return true;
if (s == "-1") { si=document.links.length-1; inc=-1; }
window.scrollTo(0,0);
search(text,y,si,inc);
return true;
}
// -->
</script>
<body onload='loadqs();'>
<script language="JavaScript"type="text/javascript"><!--
function prev_page() { return ""; }
function last_page() { return ""; }
// -->
</script>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<pre>
<span class=C>/**************************************************************************************************/</span>
<span class=C>/**** RVSoc (Mini Kuroda/RISC-V)                       since 2018-08-07   ArchLab. TokyoTech   ****/</span>
<span class=C>/**** ALU Module v0.01                                                                         ****/</span>
<span class=C>/**************************************************************************************************/</span>
<span class=M>`default_nettype</span> none
<span class=C>/**************************************************************************************************/</span>
<span class=M>`include</span> <a  onClick="return qs(event,this,0)"  class=S href="define.vh.html">&quot;define.vh&quot;</a>

<span class=C>/**************************************************************************************************/</span>
<span class=C>/*** For Nexys A7 board ***************************************************************************/</span>
<a name="DRAM_con_witout_cache"></a><a  href="memory.v.html#cache_ctrl_dram_con_witout_cache"><img alt="[Up: cache_ctrl dram_con_witout_cache]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>DRAM_con_witout_cache</span><a  href="hierarchy-m.html#DRAM_con_witout_cache"><img align=top border=0 alt="Index" src="v2html-i.gif"></a> #(
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="13"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#13">DDR2_DQ_WIDTH</a>   = 16,
<a name="14"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#14">DDR2_DQS_WIDTH</a>  = 2,
<a name="15"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#15">DDR2_ADDR_WIDTH</a> = 13,
<a name="16"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#16">DDR2_BA_WIDTH</a>   = 3,
<a name="17"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#17">DDR2_DM_WIDTH</a>   = 2,
<a name="18"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#18">APP_ADDR_WIDTH</a>  = 27,
<span class=P>`else
</span><span class=P>              parameter DDR3_DQ_WIDTH   = 16,
</span><span class=P>              parameter DDR3_DQS_WIDTH  = 2,
</span><span class=P>              parameter DDR3_ADDR_WIDTH = 14,
</span><span class=P>              parameter DDR3_BA_WIDTH   = 3,
</span><span class=P>              parameter DDR3_DM_WIDTH   = 2,
</span><span class=P>              parameter APP_ADDR_WIDTH  = 28,
</span><span class=M>`endif</span>
<a name="27"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#27">APP_CMD_WIDTH</a>   = 3,
<a name="28"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#28">APP_DATA_WIDTH</a>  = 128,  <span class=C>// Note
</span><a name="29"></a>              <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#29">APP_MASK_WIDTH</a>  = 16)
    (
     <span class=C>// input clk, rst (active-low)
</span><a name="32"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,1)"  class=SI href="memory.v.html#545">mig_clk</a>,
<a name="33"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,2)"  class=SI href="memory.v.html#546">mig_rst_x</a>,
<span class=P>`ifdef ARTYA7
</span><span class=P>     input  wire                         ref_clk,
</span><span class=M>`endif</span>
     <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="39"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#13">DDR2_DQ_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,3)"  class=SIO href="#39">ddr2_dq</a>,
<a name="40"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#14">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,4)"  class=SIO href="#40">ddr2_dqs_n</a>,
<a name="41"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#14">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,5)"  class=SIO href="#41">ddr2_dqs_p</a>,
<a name="42"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#15">DDR2_ADDR_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,6)"  class=SO href="#248">ddr2_addr</a>,
<a name="43"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#16">DDR2_BA_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,7)"  class=SO href="#249">ddr2_ba</a>,
<a name="44"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,8)"  class=SO href="#250">ddr2_ras_n</a>,
<a name="45"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,9)"  class=SO href="#251">ddr2_cas_n</a>,
<a name="46"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,10)"  class=SO href="#252">ddr2_we_n</a>,
<a name="47"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,11)"  class=SO href="#253">ddr2_ck_p</a>,
<a name="48"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,12)"  class=SO href="#254">ddr2_ck_n</a>,
<a name="49"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,13)"  class=SO href="#255">ddr2_cke</a>,
<a name="50"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,14)"  class=SO href="#256">ddr2_cs_n</a>,
<a name="51"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#17">DDR2_DM_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,15)"  class=SO href="#257">ddr2_dm</a>,
<a name="52"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,16)"  class=SO href="#258">ddr2_odt</a>,
<span class=P>`else
</span><span class=P>     inout  wire [DDR3_DQ_WIDTH-1 : 0]   ddr3_dq,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_n,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_p,
</span><span class=P>     output wire [DDR3_ADDR_WIDTH-1 : 0] ddr3_addr,
</span><span class=P>     output wire [DDR3_BA_WIDTH-1 : 0]   ddr3_ba,
</span><span class=P>     output wire                         ddr3_ras_n,
</span><span class=P>     output wire                         ddr3_cas_n,
</span><span class=P>     output wire                         ddr3_we_n,
</span><span class=P>     output wire [0:0]                   ddr3_ck_p,
</span><span class=P>     output wire [0:0]                   ddr3_ck_n,
</span><span class=P>     output wire                         ddr3_reset_n,
</span><span class=P>     output wire [0:0]                   ddr3_cke,
</span><span class=P>     output wire [0:0]                   ddr3_cs_n,
</span><span class=P>     output wire [DDR3_DM_WIDTH-1 : 0]   ddr3_dm,
</span><span class=P>     output wire [0:0]                   ddr3_odt,
</span><span class=M>`endif</span>
     <span class=C>// output clk, rst (active-low)
</span><a name="71"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,17)"  class=SO href="#154">o_clk</a>,
<a name="72"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,18)"  class=SO href="#155">o_rst_x</a>,
     <span class=C>// user interface ports
</span><a name="74"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,19)"  class=SI href="memory.v.html#587">i_rd_en</a>,
<a name="75"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,20)"  class=SI href="memory.v.html#588">i_wr_en</a>,
<a name="76"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,21)"  class=SI href="memory.v.html#590">i_addr</a>,
<a name="77"></a>     <span class=K>input</span>  <span class=K>wire</span> [31:0]                  <a  onClick="return qs(event,this,22)"  class=SI href="memory.v.html#591">i_data</a>,
<a name="78"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,23)"  class=SO href="#167">o_init_calib_complete</a>,
<a name="79"></a>     <span class=K>output</span> <span class=K>wire</span> [127:0]                 <a  onClick="return qs(event,this,24)"  class=SO href="#339">o_data</a>,
<a name="80"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,25)"  class=SO href="#340">o_busy</a>,
<a name="81"></a>     <span class=K>input</span>  <span class=K>wire</span> [3:0]                   <a  onClick="return qs(event,this,26)"  class=SI href="memory.v.html#594">i_mask</a>);

<a name="83"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,27)"  class=SW href="#277">mig_ui_clk</a>;
<a name="84"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,28)"  class=SW href="#278">mig_ui_rst_x</a>;
<a name="85"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>;
<a name="86"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,30)"  class=SW href="#142">rst_x</a>;

<a name="88"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,31)"  class=SW href="#288">dram_init_calib_complete</a>;
<a name="89"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,32)"  class=SW href="#206">dram_ren</a>;
<a name="90"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,33)"  class=SW href="#207">dram_wen</a>;
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="92"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#18">APP_ADDR_WIDTH</a>-2 : 0] <a  onClick="return qs(event,this,34)"  class=SW href="#209">dram_addr</a>;
<span class=P>`else
</span><span class=P>    wire [APP_ADDR_WIDTH-1 : 0] dram_addr;
</span><span class=M>`endif</span>
<a name="96"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#28">APP_DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,35)"  class=SW href="#210">dram_din</a>;
<a name="97"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#28">APP_DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,36)"  class=SW href="#289">dram_dout</a>;
<a name="98"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,37)"  class=SW href="#290">dram_dout_valid</a>;
<a name="99"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,38)"  class=SW href="#291">dram_ready</a>;
<a name="100"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,39)"  class=SW href="#292">dram_wdf_ready</a>;

<a name="102"></a>    <span class=K>reg</span>                         <a  onClick="return qs(event,this,40)"  class=SR href="#303">wen_afifo1</a>;
<a name="103"></a>    <span class=K>reg</span>  [68:0]                 <a  onClick="return qs(event,this,41)"  class=SR href="#304">din_afifo1</a>;
<a name="104"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,42)"  class=SW href="#170">ren_afifo1</a>;
<a name="105"></a>    <span class=K>wire</span> [68:0]                 <a  onClick="return qs(event,this,43)"  class=SW href="#182">dout_afifo1</a>;
<a name="106"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,44)"  class=SW href="#183">empty_afifo1</a>;
<a name="107"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,45)"  class=SW href="#184">full_afifo1</a>;
<a name="108"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,46)"  class=SW href="#205">dout_afifo1_wr_en</a>;
<a name="109"></a>    <span class=K>wire</span> [31:0]                 <a  onClick="return qs(event,this,47)"  class=SW href="#205">dout_afifo1_addr</a>;
<a name="110"></a>    <span class=K>wire</span> [31:0]                 <a  onClick="return qs(event,this,48)"  class=SW href="#205">dout_afifo1_data</a>;

<a name="112"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,49)"  class=SW href="#187">wen_afifo2</a>;
<a name="113"></a>    <span class=K>wire</span> [127:0]                <a  onClick="return qs(event,this,50)"  class=SW href="#188">din_afifo2</a>;
<a name="114"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,51)"  class=SW href="#189">ren_afifo2</a>;
<a name="115"></a>    <span class=K>wire</span> [127:0]                <a  onClick="return qs(event,this,52)"  class=SW href="#201">dout_afifo2</a>;
<a name="116"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,53)"  class=SW href="#202">empty_afifo2</a>;

<a name="118"></a>    <span class=K>reg</span>                         <a  onClick="return qs(event,this,54)"  class=SR href="#160">dram_init_calib_complete_sync1</a>;
<a name="119"></a>    <span class=K>reg</span>                         <a  onClick="return qs(event,this,55)"  class=SR href="#161">dram_init_calib_complete_sync2</a>;

<a name="121"></a>    <span class=K>reg</span> [1:0]                   <a  onClick="return qs(event,this,56)"  class=SR href="#302">state</a>;

<a name="123"></a>    <span class=K>wire</span> [3:0]                  <a  onClick="return qs(event,this,57)"  class=SW href="#205">data_mask</a>;

<a name="125"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#125">STATE_CALIB</a> = 2'b00;
<a name="126"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>  = 2'b01;
<a name="127"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#127">STATE_WRITE</a> = 2'b10;
<a name="128"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#128">STATE_READ</a>  = 2'b11;

<a name="130"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,58)"  class=SW href="#130">locked</a>;
<a name="131"></a>    <span class=K>wire</span> <a  onClick="return qs(event,this,59)"  class=SW href="#141">rst_x_async</a>;
<a name="132"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,60)"  class=SR href="#146">rst_x_sync1</a>;
<a name="133"></a>    <span class=K>reg</span>  <a  onClick="return qs(event,this,61)"  class=SR href="#147">rst_x_sync2</a>;

<a name="DRAM_con_witout_cache_clkgen1"></a>    <span class=MM>clk_wiz_1</span> clkgen1 (
                       .clk_in1(<a  onClick="return qs(event,this,27)"  class=SW href="#83">mig_ui_clk</a>),
                       .resetn(<a  onClick="return qs(event,this,28)"  class=SW href="#84">mig_ui_rst_x</a>),
                       .clk_out1(<a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>),
                       .locked(<a  onClick="return qs(event,this,58)"  class=SW href="#130">locked</a>));

<a name="141"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,59)"  class=SW href="#131">rst_x_async</a> = <a  onClick="return qs(event,this,28)"  class=SW href="#278">mig_ui_rst_x</a> &amp; <a  onClick="return qs(event,this,58)"  class=SW href="#130">locked</a>;
<a name="142"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,30)"  class=SW href="#86">rst_x</a> = <a  onClick="return qs(event,this,61)"  class=SR href="#147">rst_x_sync2</a>;

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a> <span class=K>or</span> <span class=K>negedge</span> <a  onClick="return qs(event,this,59)"  class=SW href="#131">rst_x_async</a>) <span class=K>begin</span>
        <span class=K>if</span> (!<a  onClick="return qs(event,this,59)"  class=SW href="#131">rst_x_async</a>) <span class=K>begin</span>
<a name="146"></a>            <a  onClick="return qs(event,this,60)"  class=SR href="#132">rst_x_sync1</a> &lt;= 1'b0;
<a name="147"></a>            <a  onClick="return qs(event,this,61)"  class=SR href="#133">rst_x_sync2</a> &lt;= 1'b0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <a  onClick="return qs(event,this,60)"  class=SR href="#132">rst_x_sync1</a> &lt;= 1'b1;
            <a  onClick="return qs(event,this,61)"  class=SR href="#133">rst_x_sync2</a> &lt;= <a  onClick="return qs(event,this,60)"  class=SR href="#146">rst_x_sync1</a>;
        <span class=K>end</span>
    <span class=K>end</span>

<a name="154"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,17)"  class=SO href="#71">o_clk</a> = <a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>;
<a name="155"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,18)"  class=SO href="#72">o_rst_x</a> = <a  onClick="return qs(event,this,30)"  class=SW href="#142">rst_x</a>;

    <span class=C>// synchronize the calibration status signal: MIG -&gt; MIPS core
</span>    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>) <span class=K>begin</span>
        <span class=K>if</span> (!<a  onClick="return qs(event,this,30)"  class=SW href="#86">rst_x</a>) <span class=K>begin</span>
<a name="160"></a>            <a  onClick="return qs(event,this,54)"  class=SR href="#118">dram_init_calib_complete_sync1</a> &lt;= 1'b0;
<a name="161"></a>            <a  onClick="return qs(event,this,55)"  class=SR href="#119">dram_init_calib_complete_sync2</a> &lt;= 1'b0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <a  onClick="return qs(event,this,54)"  class=SR href="#118">dram_init_calib_complete_sync1</a> &lt;= <a  onClick="return qs(event,this,31)"  class=SW href="#288">dram_init_calib_complete</a>;
            <a  onClick="return qs(event,this,55)"  class=SR href="#119">dram_init_calib_complete_sync2</a> &lt;= <a  onClick="return qs(event,this,54)"  class=SR href="#160">dram_init_calib_complete_sync1</a>;
        <span class=K>end</span>
    <span class=K>end</span>
<a name="167"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,23)"  class=SO href="#78">o_init_calib_complete</a> = <a  onClick="return qs(event,this,55)"  class=SR href="#161">dram_init_calib_complete_sync2</a>;

    <span class=C>// MIPS core -&gt; MIG
</span><a name="170"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,42)"  class=SW href="#104">ren_afifo1</a> = (<a  onClick="return qs(event,this,32)"  class=SW href="#206">dram_ren</a> || <a  onClick="return qs(event,this,33)"  class=SW href="#207">dram_wen</a>);
<a name="DRAM_con_witout_cache_afifo1"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="memory.v.html#AsyncFIFO">AsyncFIFO</a> #(
                .DATA_WIDTH(69),
                .ADDR_WIDTH(2))
    afifo1 (
<a name="175"></a>            <span class=SI>.wclk</span>(<a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>),
            <span class=SI>.rclk</span>(<a  onClick="return qs(event,this,27)"  class=SW href="#277">mig_ui_clk</a>),
            <span class=SI>.i_wrst_x</span>(<a  onClick="return qs(event,this,30)"  class=SW href="#142">rst_x</a>),
<a name="178"></a>            <span class=SI>.i_rrst_x</span>(<a  onClick="return qs(event,this,28)"  class=SW href="#278">mig_ui_rst_x</a>),
<a name="179"></a>            <span class=SI>.i_wen</span>(<a  onClick="return qs(event,this,40)"  class=SR href="#303">wen_afifo1</a>),
<a name="180"></a>            <span class=SI>.i_data</span>(<a  onClick="return qs(event,this,41)"  class=SR href="#304">din_afifo1</a>),
<a name="181"></a>            <span class=SI>.i_ren</span>(<a  onClick="return qs(event,this,42)"  class=SW href="#170">ren_afifo1</a>),
<a name="182"></a>            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#699">.o_data</a>(<a  onClick="return qs(event,this,43)"  class=SW href="#105">dout_afifo1</a>),
<a name="183"></a>            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#700">.o_empty</a>(<a  onClick="return qs(event,this,44)"  class=SW href="#106">empty_afifo1</a>),
<a name="184"></a>            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#701">.o_full</a>(<a  onClick="return qs(event,this,45)"  class=SW href="#107">full_afifo1</a>));

    <span class=C>// MIG -&gt; MIPS core
</span><a name="187"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,49)"  class=SW href="#112">wen_afifo2</a> = <a  onClick="return qs(event,this,37)"  class=SW href="#290">dram_dout_valid</a>;
<a name="188"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,50)"  class=SW href="#113">din_afifo2</a> = <a  onClick="return qs(event,this,36)"  class=SW href="#289">dram_dout</a>;
<a name="189"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,51)"  class=SW href="#114">ren_afifo2</a> = !<a  onClick="return qs(event,this,53)"  class=SW href="#202">empty_afifo2</a>;
<a name="DRAM_con_witout_cache_afifo2"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="memory.v.html#AsyncFIFO">AsyncFIFO</a> #(
                .DATA_WIDTH(128),
                .ADDR_WIDTH(2))
    afifo2 (
            <span class=SI>.wclk</span>(<a  onClick="return qs(event,this,27)"  class=SW href="#277">mig_ui_clk</a>),
<a name="195"></a>            <span class=SI>.rclk</span>(<a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>),
<a name="196"></a>            <span class=SI>.i_wrst_x</span>(<a  onClick="return qs(event,this,28)"  class=SW href="#278">mig_ui_rst_x</a>),
            <span class=SI>.i_rrst_x</span>(<a  onClick="return qs(event,this,30)"  class=SW href="#142">rst_x</a>),
            <span class=SI>.i_wen</span>(<a  onClick="return qs(event,this,49)"  class=SW href="#187">wen_afifo2</a>),
            <span class=SI>.i_data</span>(<a  onClick="return qs(event,this,50)"  class=SW href="#188">din_afifo2</a>),
            <span class=SI>.i_ren</span>(<a  onClick="return qs(event,this,51)"  class=SW href="#189">ren_afifo2</a>),
<a name="201"></a>            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#699">.o_data</a>(<a  onClick="return qs(event,this,52)"  class=SW href="#115">dout_afifo2</a>),
<a name="202"></a>            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#700">.o_empty</a>(<a  onClick="return qs(event,this,53)"  class=SW href="#116">empty_afifo2</a>),
            <a  onClick="return qs(event,this,0)"  class=SO href="memory.v.html#701">.o_full</a>());

<a name="205"></a>    <span class=K>assign</span> {<a  onClick="return qs(event,this,46)"  class=SW href="#108">dout_afifo1_wr_en</a>, <a  onClick="return qs(event,this,47)"  class=SW href="#109">dout_afifo1_addr</a>, <a  onClick="return qs(event,this,48)"  class=SW href="#110">dout_afifo1_data</a>, <a  onClick="return qs(event,this,57)"  class=SW href="#123">data_mask</a>} = <a  onClick="return qs(event,this,43)"  class=SW href="#182">dout_afifo1</a>;
<a name="206"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,32)"  class=SW href="#89">dram_ren</a> = (!<a  onClick="return qs(event,this,44)"  class=SW href="#183">empty_afifo1</a> &amp;&amp; !<a  onClick="return qs(event,this,46)"  class=SW href="#205">dout_afifo1_wr_en</a> &amp;&amp; <a  onClick="return qs(event,this,38)"  class=SW href="#291">dram_ready</a>);
<a name="207"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,33)"  class=SW href="#90">dram_wen</a> = (!<a  onClick="return qs(event,this,44)"  class=SW href="#183">empty_afifo1</a> &amp;&amp; <a  onClick="return qs(event,this,46)"  class=SW href="#205">dout_afifo1_wr_en</a> &amp;&amp; <a  onClick="return qs(event,this,38)"  class=SW href="#291">dram_ready</a> &amp;&amp; <a  onClick="return qs(event,this,39)"  class=SW href="#292">dram_wdf_ready</a>);
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="209"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,34)"  class=SW href="#92">dram_addr</a> = <a  onClick="return qs(event,this,47)"  class=SW href="#205">dout_afifo1_addr</a>[26:1];
<a name="210"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,35)"  class=SW href="#96">dram_din</a> = {{(<a  onClick="return qs(event,this,0)"  class=PA href="#28">APP_DATA_WIDTH</a>-32){1'b0}}, <a  onClick="return qs(event,this,48)"  class=SW href="#205">dout_afifo1_data</a>};
<span class=P>`else
</span><span class=P>    assign dram_addr = {2'b0, dout_afifo1_addr[26:4], 3'b0};
</span><span class=P>    assign dram_din = {4{dout_afifo1_data}};
</span>
<span class=P>    wire  [3:0] mask_t = ~data_mask;
</span><span class=P>    wire [15:0] mask_t2 = mask_t &lt;&lt; {dout_afifo1_addr[3:2], 2'b0};
</span><span class=M>`endif</span>
<a name="DRAM_con_witout_cache_dc"></a>    <a  onClick="return qs(event,this,0)"  class=MM href="#DRAMController">DRAMController</a> #(
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
                     .DDR2_DQ_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#13">DDR2_DQ_WIDTH</a>),
                     .DDR2_DQS_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#14">DDR2_DQS_WIDTH</a>),
                     .DDR2_ADDR_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#15">DDR2_ADDR_WIDTH</a>),
                     .DDR2_BA_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#16">DDR2_BA_WIDTH</a>),
                     .DDR2_DM_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#17">DDR2_DM_WIDTH</a>),
<span class=P>`else
</span><span class=P>                     .DDR3_DQ_WIDTH(DDR3_DQ_WIDTH),
</span><span class=P>                     .DDR3_DQS_WIDTH(DDR3_DQS_WIDTH),
</span><span class=P>                     .DDR3_ADDR_WIDTH(DDR3_ADDR_WIDTH),
</span><span class=P>                     .DDR3_BA_WIDTH(DDR3_BA_WIDTH),
</span><span class=P>                     .DDR3_DM_WIDTH(DDR3_DM_WIDTH),
</span><span class=M>`endif</span>
                     .APP_ADDR_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#18">APP_ADDR_WIDTH</a>),
                     .APP_CMD_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#27">APP_CMD_WIDTH</a>),
                     .APP_DATA_WIDTH(<a  onClick="return qs(event,this,0)"  class=PA href="#28">APP_DATA_WIDTH</a>),
                     <span class=SW>.APP_MASK_WIDTH</span>(<a  onClick="return qs(event,this,0)"  class=PA href="#29">APP_MASK_WIDTH</a>))
    dc (
        <span class=C>// input clk, rst (active-low)
</span><a name="238"></a>        <span class=SI>.sys_clk</span>(<a  onClick="return qs(event,this,1)"  class=SI href="#32">mig_clk</a>),
<a name="239"></a>        <span class=SI>.sys_rst_x</span>(<a  onClick="return qs(event,this,2)"  class=SI href="#33">mig_rst_x</a>),
<span class=P>`ifdef ARTYA7
</span><span class=P>        .ref_clk(ref_clk),
</span><span class=M>`endif</span>
        <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
        <span class=SIO>.ddr2_dq</span>(<a  onClick="return qs(event,this,3)"  class=SIO href="#39">ddr2_dq</a>),
        <span class=SIO>.ddr2_dqs_n</span>(<a  onClick="return qs(event,this,4)"  class=SIO href="#40">ddr2_dqs_n</a>),
        <span class=SIO>.ddr2_dqs_p</span>(<a  onClick="return qs(event,this,5)"  class=SIO href="#41">ddr2_dqs_p</a>),
<a name="248"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#376">.ddr2_addr</a>(<a  onClick="return qs(event,this,6)"  class=SO href="#42">ddr2_addr</a>),
<a name="249"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#377">.ddr2_ba</a>(<a  onClick="return qs(event,this,7)"  class=SO href="#43">ddr2_ba</a>),
<a name="250"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#378">.ddr2_ras_n</a>(<a  onClick="return qs(event,this,8)"  class=SO href="#44">ddr2_ras_n</a>),
<a name="251"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#379">.ddr2_cas_n</a>(<a  onClick="return qs(event,this,9)"  class=SO href="#45">ddr2_cas_n</a>),
<a name="252"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#380">.ddr2_we_n</a>(<a  onClick="return qs(event,this,10)"  class=SO href="#46">ddr2_we_n</a>),
<a name="253"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#381">.ddr2_ck_p</a>(<a  onClick="return qs(event,this,11)"  class=SO href="#47">ddr2_ck_p</a>),
<a name="254"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#382">.ddr2_ck_n</a>(<a  onClick="return qs(event,this,12)"  class=SO href="#48">ddr2_ck_n</a>),
<a name="255"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#383">.ddr2_cke</a>(<a  onClick="return qs(event,this,13)"  class=SO href="#49">ddr2_cke</a>),
<a name="256"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#384">.ddr2_cs_n</a>(<a  onClick="return qs(event,this,14)"  class=SO href="#50">ddr2_cs_n</a>),
<a name="257"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#385">.ddr2_dm</a>(<a  onClick="return qs(event,this,15)"  class=SO href="#51">ddr2_dm</a>),
<a name="258"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#386">.ddr2_odt</a>(<a  onClick="return qs(event,this,16)"  class=SO href="#52">ddr2_odt</a>),
<span class=P>`else
</span><span class=P>        .ddr3_dq(ddr3_dq),
</span><span class=P>        .ddr3_dqs_n(ddr3_dqs_n),
</span><span class=P>        .ddr3_dqs_p(ddr3_dqs_p),
</span><span class=P>        .ddr3_addr(ddr3_addr),
</span><span class=P>        .ddr3_ba(ddr3_ba),
</span><span class=P>        .ddr3_ras_n(ddr3_ras_n),
</span><span class=P>        .ddr3_cas_n(ddr3_cas_n),
</span><span class=P>        .ddr3_we_n(ddr3_we_n),
</span><span class=P>        .ddr3_ck_p(ddr3_ck_p),
</span><span class=P>        .ddr3_ck_n(ddr3_ck_n),
</span><span class=P>        .ddr3_reset_n(ddr3_reset_n),
</span><span class=P>        .ddr3_cke(ddr3_cke),
</span><span class=P>        .ddr3_cs_n(ddr3_cs_n),
</span><span class=P>        .ddr3_dm(ddr3_dm),
</span><span class=P>        .ddr3_odt(ddr3_odt),
</span><span class=M>`endif</span>
        <span class=C>// output clk, rst (active-low)
</span><a name="277"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#455">.o_clk</a>(<a  onClick="return qs(event,this,27)"  class=SW href="#83">mig_ui_clk</a>),
<a name="278"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#456">.o_rst_x</a>(<a  onClick="return qs(event,this,28)"  class=SW href="#84">mig_ui_rst_x</a>),
        <span class=C>// user interface ports
</span><a name="280"></a>        <span class=SI>.i_rd_en</span>(<a  onClick="return qs(event,this,32)"  class=SW href="#206">dram_ren</a>),
<a name="281"></a>        <span class=SI>.i_wr_en</span>(<a  onClick="return qs(event,this,33)"  class=SW href="#207">dram_wen</a>),
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="283"></a>        <span class=SI>.i_addr</span>({1'b0, <a  onClick="return qs(event,this,34)"  class=SW href="#209">dram_addr</a>}),
<span class=P>`else
</span><span class=P>        .i_addr(dram_addr),
</span><span class=M>`endif</span>
<a name="287"></a>        <span class=SI>.i_data</span>(<a  onClick="return qs(event,this,35)"  class=SW href="#210">dram_din</a>),
<a name="288"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#458">.o_init_calib_complete</a>(<a  onClick="return qs(event,this,31)"  class=SW href="#88">dram_init_calib_complete</a>),
<a name="289"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#460">.o_data</a>(<a  onClick="return qs(event,this,36)"  class=SW href="#97">dram_dout</a>),
<a name="290"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#461">.o_data_valid</a>(<a  onClick="return qs(event,this,37)"  class=SW href="#98">dram_dout_valid</a>),
<a name="291"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#463">.o_ready</a>(<a  onClick="return qs(event,this,38)"  class=SW href="#99">dram_ready</a>),
<a name="292"></a>        <a  onClick="return qs(event,this,0)"  class=SO href="#464">.o_wdf_ready</a>(<a  onClick="return qs(event,this,39)"  class=SW href="#100">dram_wdf_ready</a>),
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="294"></a>        <span class=SI>.i_mask</span>(<a  onClick="return qs(event,this,57)"  class=SW href="#205">data_mask</a>));
<span class=P>`else
</span><span class=P>        .i_mask(~mask_t2));
</span><span class=M>`endif</span>

    <span class=C>// state machine
</span>    <span class=K>always</span> @(<span class=K>negedge</span> <a  onClick="return qs(event,this,29)"  class=SW href="#85">clk</a>) <span class=K>begin</span>
        <span class=K>if</span> (!<a  onClick="return qs(event,this,30)"  class=SW href="#86">rst_x</a>) <span class=K>begin</span>
<a name="302"></a>            <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#125">STATE_CALIB</a>;
<a name="303"></a>            <a  onClick="return qs(event,this,40)"  class=SR href="#102">wen_afifo1</a> &lt;= 0;
<a name="304"></a>            <a  onClick="return qs(event,this,41)"  class=SR href="#103">din_afifo1</a> &lt;= 0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <a  onClick="return qs(event,this,40)"  class=SR href="#102">wen_afifo1</a> &lt;= 0;
            <a  onClick="return qs(event,this,41)"  class=SR href="#103">din_afifo1</a> &lt;= 0;
            <span class=K>case</span> (<a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a>)
                <a  onClick="return qs(event,this,0)"  class=PA href="#125">STATE_CALIB</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,23)"  class=SO href="#78">o_init_calib_complete</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>;
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,20)"  class=SI href="#75">i_wr_en</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#127">STATE_WRITE</a>;
                        <a  onClick="return qs(event,this,40)"  class=SR href="#102">wen_afifo1</a> &lt;= 1;
                        <a  onClick="return qs(event,this,41)"  class=SR href="#103">din_afifo1</a> &lt;= {1'b1, <a  onClick="return qs(event,this,21)"  class=SI href="#76">i_addr</a>, <a  onClick="return qs(event,this,22)"  class=SI href="#77">i_data</a>, <a  onClick="return qs(event,this,26)"  class=SI href="#81">i_mask</a>};
                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,19)"  class=SI href="#74">i_rd_en</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#128">STATE_READ</a>;
                        <a  onClick="return qs(event,this,40)"  class=SR href="#102">wen_afifo1</a> &lt;= 1;
                        <a  onClick="return qs(event,this,41)"  class=SR href="#103">din_afifo1</a> &lt;= {1'b0, <a  onClick="return qs(event,this,21)"  class=SI href="#76">i_addr</a>, <a  onClick="return qs(event,this,22)"  class=SI href="#77">i_data</a>, 4'h0};
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#127">STATE_WRITE</a>: <span class=K>begin</span>
                    <span class=K>if</span> (!<a  onClick="return qs(event,this,45)"  class=SW href="#107">full_afifo1</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>;
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#128">STATE_READ</a>: <span class=K>begin</span>
                    <span class=K>if</span> (!<a  onClick="return qs(event,this,53)"  class=SW href="#116">empty_afifo2</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,56)"  class=SR href="#121">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>;
                    <span class=K>end</span>
                <span class=K>end</span>
            <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

<a name="339"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,24)"  class=SO href="#79">o_data</a> = <a  onClick="return qs(event,this,52)"  class=SW href="#201">dout_afifo2</a>;
<a name="340"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,25)"  class=SO href="#80">o_busy</a> = (<a  onClick="return qs(event,this,56)"  class=SR href="#302">state</a> != <a  onClick="return qs(event,this,0)"  class=PA href="#126">STATE_IDLE</a>);

<span class=K>endmodule</span>

<span class=C>/**************************************************************************************************/</span>
<a name="DRAMController"></a><a  href="dram.v.html#DRAM_con_witout_cache_dc"><img alt="[Up: DRAM_con_witout_cache dc]" align=bottom border=0 src="v2html-up.gif"></a>
<span class=K>module</span> <span class=MM>DRAMController</span><a  href="hierarchy-m.html#DRAMController"><img align=top border=0 alt="Index" src="v2html-i.gif"></a> #(
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="347"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#347">DDR2_DQ_WIDTH</a>   = 16,
<a name="348"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#348">DDR2_DQS_WIDTH</a>  = 2,
<a name="349"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#349">DDR2_ADDR_WIDTH</a> = 13,
<a name="350"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#350">DDR2_BA_WIDTH</a>   = 3,
<a name="351"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#351">DDR2_DM_WIDTH</a>   = 2,
<a name="352"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#352">APP_ADDR_WIDTH</a>  = 27,
<span class=P>`else
</span><span class=P>                        parameter DDR3_DQ_WIDTH   = 16,
</span><span class=P>                        parameter DDR3_DQS_WIDTH  = 2,
</span><span class=P>                        parameter DDR3_ADDR_WIDTH = 14,
</span><span class=P>                        parameter DDR3_BA_WIDTH   = 3,
</span><span class=P>                        parameter DDR3_DM_WIDTH   = 2,
</span><span class=P>                        parameter APP_ADDR_WIDTH  = 28,
</span><span class=M>`endif</span>
<a name="361"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#361">APP_CMD_WIDTH</a>   = 3,
<a name="362"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,0)"  class=PA href="#362">APP_DATA_WIDTH</a>  = 128,
<a name="363"></a>                        <span class=K>parameter</span> <a  onClick="return qs(event,this,62)"  class=SW href="#523">APP_MASK_WIDTH</a>  = 16)
    (
     <span class=C>// input clk, rst (active-low)
</span><a name="366"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,63)"  class=SI href="#238">sys_clk</a>,
<a name="367"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,64)"  class=SI href="#239">sys_rst_x</a>,
<span class=P>`ifdef ARTYA7
</span><span class=P>     input  wire                         ref_clk, 
</span><span class=M>`endif</span>
     <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="373"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#347">DDR2_DQ_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,65)"  class=SIO href="#373">ddr2_dq</a>,
<a name="374"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#348">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,66)"  class=SIO href="#374">ddr2_dqs_n</a>,
<a name="375"></a>     <span class=K>inout</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#348">DDR2_DQS_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,67)"  class=SIO href="#375">ddr2_dqs_p</a>,
<a name="376"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#349">DDR2_ADDR_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,68)"  class=SO href="#376">ddr2_addr</a>,
<a name="377"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#350">DDR2_BA_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,69)"  class=SO href="#377">ddr2_ba</a>,
<a name="378"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,70)"  class=SO href="#378">ddr2_ras_n</a>,
<a name="379"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,71)"  class=SO href="#379">ddr2_cas_n</a>,
<a name="380"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,72)"  class=SO href="#380">ddr2_we_n</a>,
<a name="381"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,73)"  class=SO href="#381">ddr2_ck_p</a>,
<a name="382"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,74)"  class=SO href="#382">ddr2_ck_n</a>,
<a name="383"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,75)"  class=SO href="#383">ddr2_cke</a>,
<a name="384"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,76)"  class=SO href="#384">ddr2_cs_n</a>,
<a name="385"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#351">DDR2_DM_WIDTH</a>-1 : 0]   <a  onClick="return qs(event,this,77)"  class=SO href="#385">ddr2_dm</a>,
<a name="386"></a>     <span class=K>output</span> <span class=K>wire</span> [0:0]                   <a  onClick="return qs(event,this,78)"  class=SO href="#386">ddr2_odt</a>,
<span class=P>`else
</span><span class=P>     inout  wire [DDR3_DQ_WIDTH-1 : 0]   ddr3_dq,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_n,
</span><span class=P>     inout  wire [DDR3_DQS_WIDTH-1 : 0]  ddr3_dqs_p,
</span><span class=P>     output wire [DDR3_ADDR_WIDTH-1 : 0] ddr3_addr,
</span><span class=P>     output wire [DDR3_BA_WIDTH-1 : 0]   ddr3_ba,
</span><span class=P>     output wire                         ddr3_ras_n,
</span><span class=P>     output wire                         ddr3_cas_n,
</span><span class=P>     output wire                         ddr3_we_n,
</span><span class=P>     output wire [0:0]                   ddr3_ck_p,
</span><span class=P>     output wire [0:0]                   ddr3_ck_n,
</span><span class=P>     output wire                         ddr3_reset_n,
</span><span class=P>     output wire [0:0]                   ddr3_cke,
</span><span class=P>     output wire [0:0]                   ddr3_cs_n,
</span><span class=P>     output wire [DDR3_DM_WIDTH-1 : 0]   ddr3_dm,
</span><span class=P>     output wire [0:0]                   ddr3_odt,
</span><span class=M>`endif</span>
     <span class=C>// output clk, rst (active-low)
</span><a name="405"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,79)"  class=SO href="#455">o_clk</a>,
<a name="406"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,80)"  class=SO href="#456">o_rst_x</a>,
     <span class=C>// user interface ports
</span><a name="408"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,81)"  class=SI href="#280">i_rd_en</a>,
<a name="409"></a>     <span class=K>input</span>  <span class=K>wire</span>                         <a  onClick="return qs(event,this,82)"  class=SI href="#281">i_wr_en</a>,
<a name="410"></a>     <span class=K>input</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#352">APP_ADDR_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,83)"  class=SI href="#283">i_addr</a>,
<a name="411"></a>     <span class=K>input</span>  <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#362">APP_DATA_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,84)"  class=SI href="#287">i_data</a>,
<a name="412"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,85)"  class=SO href="#458">o_init_calib_complete</a>,
<a name="413"></a>     <span class=K>output</span> <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#362">APP_DATA_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,86)"  class=SO href="#460">o_data</a>,
<a name="414"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,87)"  class=SO href="#461">o_data_valid</a>,
<a name="415"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,88)"  class=SO href="#463">o_ready</a>,
<a name="416"></a>     <span class=K>output</span> <span class=K>wire</span>                         <a  onClick="return qs(event,this,89)"  class=SO href="#464">o_wdf_ready</a>,
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="418"></a>     <span class=K>input</span>  <span class=K>wire</span> [3:0]                   <a  onClick="return qs(event,this,90)"  class=SI href="#294">i_mask</a>);
<span class=P>`else
</span><span class=P>     input  wire [APP_MASK_WIDTH-1 : 0]  i_mask);
</span><span class=M>`endif</span>

<a name="423"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#423">STATE_CALIB</a>           = 3'b000;
<a name="424"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>            = 3'b001;
<a name="425"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a> = 3'b010;
<a name="426"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>       = 3'b011;
<a name="427"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#427">STATE_ISSUE_WDATA</a>     = 3'b100;

<a name="429"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#429">CMD_READ</a>  = 3'b001;
<a name="430"></a>    localparam <a  onClick="return qs(event,this,0)"  class=PA href="#430">CMD_WRITE</a> = 3'b000;

<a name="432"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,91)"  class=SW href="#432">init_calib_complete</a>;
<a name="433"></a>    <span class=K>wire</span> [<a  onClick="return qs(event,this,0)"  class=PA href="#362">APP_DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,92)"  class=SW href="#433">app_rd_data</a>;
<a name="434"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,93)"  class=SW href="#434">app_rd_data_valid</a>;
<a name="435"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a>;
<a name="436"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>;

<a name="438"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,96)"  class=SW href="#438">clk</a>;
<a name="439"></a>    <span class=K>wire</span>                        <a  onClick="return qs(event,this,97)"  class=SW href="#439">rst</a>;

<a name="441"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#352">APP_ADDR_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,98)"  class=SR href="#537">app_addr</a>;
<a name="442"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#361">APP_CMD_WIDTH</a>-1 : 0]  <a  onClick="return qs(event,this,99)"  class=SR href="#536">app_cmd</a>;
<a name="443"></a>    <span class=K>reg</span>                         <a  onClick="return qs(event,this,100)"  class=SR href="#538">app_en</a>;
<a name="444"></a>    <span class=K>reg</span>  [<a  onClick="return qs(event,this,0)"  class=PA href="#362">APP_DATA_WIDTH</a>-1 : 0] <a  onClick="return qs(event,this,101)"  class=SR href="#539">app_wdf_data</a>;
<a name="445"></a>    <span class=K>reg</span>                         <a  onClick="return qs(event,this,102)"  class=SR href="#540">app_wdf_wren</a>;

<a name="447"></a>    <span class=K>reg</span>  [2:0]                  <a  onClick="return qs(event,this,103)"  class=SR href="#535">state</a>;

<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
<a name="450"></a>    <span class=K>reg</span>  [3:0]                  <a  onClick="return qs(event,this,104)"  class=SR href="#541">data_mask</a> = 0;
<span class=P>`else
</span><span class=P>    reg  [APP_MASK_WIDTH-1 : 0] data_mask = 0;
</span><span class=M>`endif</span>

<a name="455"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,79)"  class=SO href="#405">o_clk</a> = <a  onClick="return qs(event,this,96)"  class=SW href="#438">clk</a>;
<a name="456"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,80)"  class=SO href="#406">o_rst_x</a> = ~<a  onClick="return qs(event,this,97)"  class=SW href="#439">rst</a>;

<a name="458"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,85)"  class=SO href="#412">o_init_calib_complete</a> = <a  onClick="return qs(event,this,91)"  class=SW href="#432">init_calib_complete</a>;

<a name="460"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,86)"  class=SO href="#413">o_data</a> = <a  onClick="return qs(event,this,92)"  class=SW href="#433">app_rd_data</a>;
<a name="461"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,87)"  class=SO href="#414">o_data_valid</a> = <a  onClick="return qs(event,this,93)"  class=SW href="#434">app_rd_data_valid</a>;

<a name="463"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,88)"  class=SO href="#415">o_ready</a> = <a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a>;
<a name="464"></a>    <span class=K>assign</span> <a  onClick="return qs(event,this,89)"  class=SO href="#416">o_wdf_ready</a> = <a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>;

<a name="DRAMController_mig"></a>    <span class=MM>mig_7series_0</span> mig
      (
       <span class=C>// memory interface ports
</span><span class=M>`ifndef</span> <span class=D>ARTYA7</span>
       .ddr2_addr           (<a  onClick="return qs(event,this,68)"  class=SO href="#376">ddr2_addr</a>),
       .ddr2_ba             (<a  onClick="return qs(event,this,69)"  class=SO href="#377">ddr2_ba</a>),
       .ddr2_cas_n          (<a  onClick="return qs(event,this,71)"  class=SO href="#379">ddr2_cas_n</a>),
       .ddr2_ck_n           (<a  onClick="return qs(event,this,74)"  class=SO href="#382">ddr2_ck_n</a>),
       .ddr2_ck_p           (<a  onClick="return qs(event,this,73)"  class=SO href="#381">ddr2_ck_p</a>),
       .ddr2_cke            (<a  onClick="return qs(event,this,75)"  class=SO href="#383">ddr2_cke</a>),
       .ddr2_ras_n          (<a  onClick="return qs(event,this,70)"  class=SO href="#378">ddr2_ras_n</a>),
       .ddr2_we_n           (<a  onClick="return qs(event,this,72)"  class=SO href="#380">ddr2_we_n</a>),
       .ddr2_dq             (<a  onClick="return qs(event,this,65)"  class=SIO href="#373">ddr2_dq</a>),
       .ddr2_dqs_n          (<a  onClick="return qs(event,this,66)"  class=SIO href="#374">ddr2_dqs_n</a>),
       .ddr2_dqs_p          (<a  onClick="return qs(event,this,67)"  class=SIO href="#375">ddr2_dqs_p</a>),
       .ddr2_cs_n           (<a  onClick="return qs(event,this,76)"  class=SO href="#384">ddr2_cs_n</a>),
       .ddr2_dm             (<a  onClick="return qs(event,this,77)"  class=SO href="#385">ddr2_dm</a>),
       .ddr2_odt            (<a  onClick="return qs(event,this,78)"  class=SO href="#386">ddr2_odt</a>),
<span class=P>`else
</span><span class=P>       .ddr3_addr           (ddr3_addr),
</span><span class=P>       .ddr3_ba             (ddr3_ba),
</span><span class=P>       .ddr3_cas_n          (ddr3_cas_n),
</span><span class=P>       .ddr3_ck_n           (ddr3_ck_n),
</span><span class=P>       .ddr3_ck_p           (ddr3_ck_p),
</span><span class=P>       .ddr3_reset_n        (ddr3_reset_n),
</span><span class=P>       .ddr3_cke            (ddr3_cke),
</span><span class=P>       .ddr3_ras_n          (ddr3_ras_n),
</span><span class=P>       .ddr3_we_n           (ddr3_we_n),
</span><span class=P>       .ddr3_dq             (ddr3_dq),
</span><span class=P>       .ddr3_dqs_n          (ddr3_dqs_n),
</span><span class=P>       .ddr3_dqs_p          (ddr3_dqs_p),
</span><span class=P>       .ddr3_cs_n           (ddr3_cs_n),
</span><span class=P>       .ddr3_dm             (ddr3_dm),
</span><span class=P>       .ddr3_odt            (ddr3_odt),
</span><span class=M>`endif</span>
       <span class=C>// calibration
</span>       .init_calib_complete (<a  onClick="return qs(event,this,91)"  class=SW href="#432">init_calib_complete</a>),
       <span class=C>// application interface ports
</span>       .app_addr            (<a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a>),
       .app_cmd             (<a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a>),
       .app_en              (<a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a>),
       .app_wdf_data        (<a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a>),
       .app_wdf_end         (<a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a>), <span class=C>// to simplify the user logic, app_wdf_end and app_wdf_wren are tied together
</span>       .app_wdf_wren        (<a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a>), <span class=C>// to ensure that they are always driven together
</span>       .app_rd_data         (<a  onClick="return qs(event,this,92)"  class=SW href="#433">app_rd_data</a>),
       .app_rd_data_end     (),
       .app_rd_data_valid   (<a  onClick="return qs(event,this,93)"  class=SW href="#434">app_rd_data_valid</a>),
       .app_rdy             (<a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a>),
       .app_wdf_rdy         (<a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>),
       .app_sr_req          (1'b0),
       .app_ref_req         (1'b0),
       .app_zq_req          (1'b0),
       .app_sr_active       (),
       .app_ref_ack         (),
       .app_zq_ack          (),
       .ui_clk              (<a  onClick="return qs(event,this,96)"  class=SW href="#438">clk</a>),
       .ui_clk_sync_rst     (<a  onClick="return qs(event,this,97)"  class=SW href="#439">rst</a>),
<a name="523"></a>       .app_wdf_mask        ({{(<a  onClick="return qs(event,this,62)"  class=SW href="#523">APP_MASK_WIDTH</a>-4){1'b1}}, <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a>}),
       <span class=C>// system clock, reset ports
</span>       .sys_clk_i           (<a  onClick="return qs(event,this,63)"  class=SI href="#366">sys_clk</a>),
<span class=M>`ifndef</span> <span class=D>ARTYA7</span>
       .sys_rst             (<a  onClick="return qs(event,this,64)"  class=SI href="#367">sys_rst_x</a>));
<span class=P>`else
</span><span class=P>       .sys_rst             (sys_rst_x),
</span><span class=P>       .clk_ref_i           (ref_clk));
</span><span class=M>`endif</span>

    <span class=K>always</span> @(<span class=K>posedge</span> <a  onClick="return qs(event,this,96)"  class=SW href="#438">clk</a>) <span class=K>begin</span>
        <span class=K>if</span> (<a  onClick="return qs(event,this,97)"  class=SW href="#439">rst</a>) <span class=K>begin</span>
<a name="535"></a>            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#423">STATE_CALIB</a>;
<a name="536"></a>            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= 0;
<a name="537"></a>            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= 0;
<a name="538"></a>            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 0;
<a name="539"></a>            <a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a> &lt;= 0;
<a name="540"></a>            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
<a name="541"></a>            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= 0;
        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
            <span class=K>case</span> (<a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a>)
                <a  onClick="return qs(event,this,0)"  class=PA href="#423">STATE_CALIB</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,91)"  class=SW href="#432">init_calib_complete</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>;
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,82)"  class=SI href="#409">i_wr_en</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#430">CMD_WRITE</a>;
                        <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                        <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                        <a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a> &lt;= <a  onClick="return qs(event,this,84)"  class=SI href="#411">i_data</a>;
                        <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 1;
                        <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a>;
                        <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= <a  onClick="return qs(event,this,90)"  class=SI href="#418">i_mask</a>;
<span class=P>			`ifdef SIM_MAIN
</span><span class=P>			$display(</span><span class=P>&quot;STATE_IDLE app_cmd = CMD_WRITE, i_addr=%h i_data=%h i_mask=%h&quot;</span><span class=P>, i_addr, i_data, i_mask);
</span>			<span class=M>`endif</span>
                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,81)"  class=SI href="#408">i_rd_en</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                        <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#429">CMD_READ</a>;
                        <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                        <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                        <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>;
                        <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= 0;
<span class=P>			`ifdef SIM_MAIN
</span><span class=P>			$display(</span><span class=P>&quot;STATE_IDLE app_cmd = CMD_READ, i_addr=%h&quot;</span><span class=P>, i_addr);
</span>			<span class=M>`endif</span>
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a> &amp;&amp; <a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>) <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,82)"  class=SI href="#409">i_wr_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#430">CMD_WRITE</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a> &lt;= <a  onClick="return qs(event,this,84)"  class=SI href="#411">i_data</a>;
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= <a  onClick="return qs(event,this,90)"  class=SI href="#418">i_mask</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD_WDATA app_cmd = CMD_WRITE, i_addr=%h i_data=%h i_mask=%h&quot;</span><span class=P>, i_addr, i_data, i_mask);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,81)"  class=SI href="#408">i_rd_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#429">CMD_READ</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= 0;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD_WDATA app_cmd = CMD_READ, i_addr=%h&quot;</span><span class=P>, i_addr);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 0;
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    if(app_rd_data_valid)
</span><span class=P>			    	$display(</span><span class=P>&quot;STATE_ISSUE_CMD_WDATA app_rd_data=%h&quot;</span><span class=P>, app_rd_data);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span>
                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 0;
                        <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#427">STATE_ISSUE_WDATA</a>;
                    <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>) <span class=K>begin</span>
                        <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                        <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>;
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,94)"  class=SW href="#435">app_rdy</a>) <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,82)"  class=SI href="#409">i_wr_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#430">CMD_WRITE</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a> &lt;= <a  onClick="return qs(event,this,84)"  class=SI href="#411">i_data</a>;
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= <a  onClick="return qs(event,this,90)"  class=SI href="#418">i_mask</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD app_cmd = CMD_WRITE, i_addr=%h i_data=%h i_mask=%h&quot;</span><span class=P>, i_addr, i_data, i_mask);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,81)"  class=SI href="#408">i_rd_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#429">CMD_READ</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= 0;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD app_cmd = CMD_READ, i_addr=%h&quot;</span><span class=P>, i_addr);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 0;
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    if(app_rd_data_valid)
</span><span class=P>                                $display(</span><span class=P>&quot;STATE_ISSUE_CMD app_rd_data=%h&quot;</span><span class=P>, app_rd_data);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span>
                    <span class=K>end</span>
                <span class=K>end</span>
                <a  onClick="return qs(event,this,0)"  class=PA href="#427">STATE_ISSUE_WDATA</a>: <span class=K>begin</span>
                    <span class=K>if</span> (<a  onClick="return qs(event,this,95)"  class=SW href="#436">app_wdf_rdy</a>) <span class=K>begin</span>
                        <span class=K>if</span> (<a  onClick="return qs(event,this,82)"  class=SI href="#409">i_wr_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#430">CMD_WRITE</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,101)"  class=SR href="#444">app_wdf_data</a> &lt;= <a  onClick="return qs(event,this,84)"  class=SI href="#411">i_data</a>;
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#425">STATE_ISSUE_CMD_WDATA</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= <a  onClick="return qs(event,this,90)"  class=SI href="#418">i_mask</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD_WDATA app_cmd = CMD_WRITE, i_addr=%h i_data=%h i_mask=%h&quot;</span><span class=P>, i_addr, i_data, i_mask);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>if</span> (<a  onClick="return qs(event,this,81)"  class=SI href="#408">i_rd_en</a>) <span class=K>begin</span>
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,99)"  class=SR href="#442">app_cmd</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#429">CMD_READ</a>;
                            <a  onClick="return qs(event,this,98)"  class=SR href="#441">app_addr</a> &lt;= <a  onClick="return qs(event,this,83)"  class=SI href="#410">i_addr</a>;
                            <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 1;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#426">STATE_ISSUE_CMD</a>;
                            <a  onClick="return qs(event,this,104)"  class=SR href="#450">data_mask</a> &lt;= 0;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    $display(</span><span class=P>&quot;STATE_ISSUE_CMD_WDATA app_cmd = CMD_READ, i_addr=%h&quot;</span><span class=P>, i_addr);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span> <span class=K>else</span> <span class=K>begin</span>
                            <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                            <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>;
<span class=P>			    `ifdef SIM_MAIN
</span><span class=P>			    if(app_rd_data_valid)
</span><span class=P>                                $display(</span><span class=P>&quot;STATE_ISSUE_WDATA app_rd_data=%h&quot;</span><span class=P>, app_rd_data);
</span>			    <span class=M>`endif</span>
                        <span class=K>end</span>
                    <span class=K>end</span>
                <span class=K>end</span>
                <span class=K>default</span>: <span class=K>begin</span>
                    <a  onClick="return qs(event,this,100)"  class=SR href="#443">app_en</a> &lt;= 0;
                    <a  onClick="return qs(event,this,102)"  class=SR href="#445">app_wdf_wren</a> &lt;= 0;
                    <a  onClick="return qs(event,this,103)"  class=SR href="#447">state</a> &lt;= <a  onClick="return qs(event,this,0)"  class=PA href="#424">STATE_IDLE</a>;
                <span class=K>end</span>
            <span class=K>endcase</span>
        <span class=K>end</span>
    <span class=K>end</span>

<span class=K>endmodule</span>
<span class=C>/**************************************************************************************************/</span>

</pre>
<center><table class=NB cols=7 ><tr><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy.html';"><a target="_top" href="hierarchy.html">Hierarchy</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-f.html';"><a target="_top" href="hierarchy-f.html">Files</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-m.html';"><a target="_top" href="hierarchy-m.html">Modules</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-s.html';"><a target="_top" href="hierarchy-s.html">Signals</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-t.html';"><a target="_top" href="hierarchy-t.html">Tasks</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='hierarchy-fn.html';"><a target="_top" href="hierarchy-fn.html">Functions</a></td><td align="center" width="14%" onmousedown="this.style.border='inset';" onmouseup="this.style.border='outset';"  onclick="location='http://www.burbleland.com/v2html/help_7_30.html?';"><a target="_top" href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></td></tr></table></center>
<script language="JavaScript"type="text/javascript"><!--
function next_page() { return ""; }
function first_page() { return ""; }
var extra_info = [
["S","dram.v.html#32","","memory.v.html#545","","hierarchy-s.p5.html#mig_clk___DRAM_con_witout_cache"],
["S","dram.v.html#33","","memory.v.html#546","","hierarchy-s.p5.html#mig_rst_x___DRAM_con_witout_cache"],
["S","dram.v.html#39","","","","hierarchy-s.p3.html#ddr2_dq___DRAM_con_witout_cache"],
["S","dram.v.html#40","","","","hierarchy-s.p3.html#ddr2_dqs_n___DRAM_con_witout_cache"],
["S","dram.v.html#41","","","","hierarchy-s.p3.html#ddr2_dqs_p___DRAM_con_witout_cache"],
["S","dram.v.html#42","dram.v.html#248","","","hierarchy-s.p3.html#ddr2_addr___DRAM_con_witout_cache"],
["S","dram.v.html#43","dram.v.html#249","","","hierarchy-s.p3.html#ddr2_ba___DRAM_con_witout_cache"],
["S","dram.v.html#44","dram.v.html#250","","","hierarchy-s.p3.html#ddr2_ras_n___DRAM_con_witout_cache"],
["S","dram.v.html#45","dram.v.html#251","","","hierarchy-s.p3.html#ddr2_cas_n___DRAM_con_witout_cache"],
["S","dram.v.html#46","dram.v.html#252","","","hierarchy-s.p3.html#ddr2_we_n___DRAM_con_witout_cache"],
["S","dram.v.html#47","dram.v.html#253","","","hierarchy-s.p3.html#ddr2_ck_p___DRAM_con_witout_cache"],
["S","dram.v.html#48","dram.v.html#254","","","hierarchy-s.p3.html#ddr2_ck_n___DRAM_con_witout_cache"],
["S","dram.v.html#49","dram.v.html#255","","","hierarchy-s.p3.html#ddr2_cke___DRAM_con_witout_cache"],
["S","dram.v.html#50","dram.v.html#256","","","hierarchy-s.p3.html#ddr2_cs_n___DRAM_con_witout_cache"],
["S","dram.v.html#51","dram.v.html#257","","","hierarchy-s.p3.html#ddr2_dm___DRAM_con_witout_cache"],
["S","dram.v.html#52","dram.v.html#258","","","hierarchy-s.p3.html#ddr2_odt___DRAM_con_witout_cache"],
["S","dram.v.html#71","dram.v.html#154","","dram.v.html#154","hierarchy-s.p6.html#o_clk___DRAM_con_witout_cache"],
["S","dram.v.html#72","dram.v.html#155","","dram.v.html#155","hierarchy-s.p6.html#o_rst_x___DRAM_con_witout_cache"],
["S","dram.v.html#74","","memory.v.html#587","memory.v.html#538","hierarchy-s.p4.html#i_rd_en___DRAM_con_witout_cache"],
["S","dram.v.html#75","","memory.v.html#588","memory.v.html#187","hierarchy-s.p4.html#i_wr_en___DRAM_con_witout_cache"],
["S","dram.v.html#76","","memory.v.html#590","memory.v.html#498","hierarchy-s.p4.html#i_addr___DRAM_con_witout_cache"],
["S","dram.v.html#77","","memory.v.html#591","memory.v.html#176","hierarchy-s.p4.html#i_data___DRAM_con_witout_cache"],
["S","dram.v.html#78","dram.v.html#167","","dram.v.html#167","hierarchy-s.p6.html#o_init_calib_complete___DRAM_con_witout_cache"],
["S","dram.v.html#79","dram.v.html#339","","dram.v.html#339","hierarchy-s.p6.html#o_data___DRAM_con_witout_cache"],
["S","dram.v.html#80","dram.v.html#340","","dram.v.html#340","hierarchy-s.p6.html#o_busy___DRAM_con_witout_cache"],
["S","dram.v.html#81","","memory.v.html#594","memory.v.html#175","hierarchy-s.p4.html#i_mask___DRAM_con_witout_cache"],
["S","dram.v.html#83","dram.v.html#277","","dram.v.html#455","hierarchy-s.p5.html#mig_ui_clk___DRAM_con_witout_cache"],
["S","dram.v.html#84","dram.v.html#278","","dram.v.html#456","hierarchy-s.p5.html#mig_ui_rst_x___DRAM_con_witout_cache"],
["S","dram.v.html#85","","","","hierarchy-s.p2.html#clk___DRAM_con_witout_cache"],
["S","dram.v.html#86","dram.v.html#142","","dram.v.html#142","hierarchy-s.p7.html#rst_x___DRAM_con_witout_cache"],
["S","dram.v.html#88","dram.v.html#288","","dram.v.html#458","hierarchy-s.p3.html#dram_init_calib_complete___DRAM_con_witout_cache"],
["S","dram.v.html#89","dram.v.html#206","","dram.v.html#206","hierarchy-s.p3.html#dram_ren___DRAM_con_witout_cache"],
["S","dram.v.html#90","dram.v.html#207","","dram.v.html#207","hierarchy-s.p3.html#dram_wen___DRAM_con_witout_cache"],
["S","dram.v.html#92","dram.v.html#209","","dram.v.html#209","hierarchy-s.p3.html#dram_addr___DRAM_con_witout_cache"],
["S","dram.v.html#96","dram.v.html#210","","dram.v.html#210","hierarchy-s.p3.html#dram_din___DRAM_con_witout_cache"],
["S","dram.v.html#97","dram.v.html#289","","dram.v.html#460","hierarchy-s.p3.html#dram_dout___DRAM_con_witout_cache"],
["S","dram.v.html#98","dram.v.html#290","","dram.v.html#461","hierarchy-s.p3.html#dram_dout_valid___DRAM_con_witout_cache"],
["S","dram.v.html#99","dram.v.html#291","","dram.v.html#463","hierarchy-s.p3.html#dram_ready___DRAM_con_witout_cache"],
["S","dram.v.html#100","dram.v.html#292","","dram.v.html#464","hierarchy-s.p3.html#dram_wdf_ready___DRAM_con_witout_cache"],
["S","dram.v.html#102","dram.v.html#303","","dram.v.html#303","hierarchy-s.p9.html#wen_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#103","dram.v.html#304","","dram.v.html#304","hierarchy-s.p3.html#din_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#104","dram.v.html#170","","dram.v.html#170","hierarchy-s.p7.html#ren_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#105","dram.v.html#182","","memory.v.html#699","hierarchy-s.p3.html#dout_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#106","dram.v.html#183","","memory.v.html#700","hierarchy-s.p4.html#empty_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#107","dram.v.html#184","","memory.v.html#701","hierarchy-s.p4.html#full_afifo1___DRAM_con_witout_cache"],
["S","dram.v.html#108","dram.v.html#205","","dram.v.html#205","hierarchy-s.p3.html#dout_afifo1_wr_en___DRAM_con_witout_cache"],
["S","dram.v.html#109","dram.v.html#205","","dram.v.html#205","hierarchy-s.p3.html#dout_afifo1_addr___DRAM_con_witout_cache"],
["S","dram.v.html#110","dram.v.html#205","","dram.v.html#205","hierarchy-s.p3.html#dout_afifo1_data___DRAM_con_witout_cache"],
["S","dram.v.html#112","dram.v.html#187","","dram.v.html#187","hierarchy-s.p9.html#wen_afifo2___DRAM_con_witout_cache"],
["S","dram.v.html#113","dram.v.html#188","","dram.v.html#188","hierarchy-s.p3.html#din_afifo2___DRAM_con_witout_cache"],
["S","dram.v.html#114","dram.v.html#189","","dram.v.html#189","hierarchy-s.p7.html#ren_afifo2___DRAM_con_witout_cache"],
["S","dram.v.html#115","dram.v.html#201","","memory.v.html#699","hierarchy-s.p3.html#dout_afifo2___DRAM_con_witout_cache"],
["S","dram.v.html#116","dram.v.html#202","","memory.v.html#700","hierarchy-s.p4.html#empty_afifo2___DRAM_con_witout_cache"],
["S","dram.v.html#118","dram.v.html#160","","dram.v.html#160","hierarchy-s.p3.html#dram_init_calib_complete_sync1___DRAM_con_witout_cache"],
["S","dram.v.html#119","dram.v.html#161","","dram.v.html#161","hierarchy-s.p3.html#dram_init_calib_complete_sync2___DRAM_con_witout_cache"],
["S","dram.v.html#121","dram.v.html#302","","dram.v.html#302","hierarchy-s.p8.html#state___DRAM_con_witout_cache"],
["S","dram.v.html#123","dram.v.html#205","","dram.v.html#205","hierarchy-s.p3.html#data_mask___DRAM_con_witout_cache"],
["S","dram.v.html#130","","","","hierarchy-s.p5.html#locked___DRAM_con_witout_cache"],
["S","dram.v.html#131","dram.v.html#141","","dram.v.html#141","hierarchy-s.p7.html#rst_x_async___DRAM_con_witout_cache"],
["S","dram.v.html#132","dram.v.html#146","","dram.v.html#146","hierarchy-s.p7.html#rst_x_sync1___DRAM_con_witout_cache"],
["S","dram.v.html#133","dram.v.html#147","","dram.v.html#147","hierarchy-s.p7.html#rst_x_sync2___DRAM_con_witout_cache"],
["S","dram.v.html#523","","","","hierarchy-s.html#APP_MASK_WIDTH___DRAMController"],
["S","dram.v.html#366","","dram.v.html#238","","hierarchy-s.p8.html#sys_clk___DRAMController"],
["S","dram.v.html#367","","dram.v.html#239","","hierarchy-s.p8.html#sys_rst_x___DRAMController"],
["S","dram.v.html#373","","","","hierarchy-s.p3.html#ddr2_dq___DRAMController"],
["S","dram.v.html#374","","","","hierarchy-s.p3.html#ddr2_dqs_n___DRAMController"],
["S","dram.v.html#375","","","","hierarchy-s.p3.html#ddr2_dqs_p___DRAMController"],
["S","dram.v.html#376","","","","hierarchy-s.p3.html#ddr2_addr___DRAMController"],
["S","dram.v.html#377","","","","hierarchy-s.p3.html#ddr2_ba___DRAMController"],
["S","dram.v.html#378","","","","hierarchy-s.p3.html#ddr2_ras_n___DRAMController"],
["S","dram.v.html#379","","","","hierarchy-s.p3.html#ddr2_cas_n___DRAMController"],
["S","dram.v.html#380","","","","hierarchy-s.p3.html#ddr2_we_n___DRAMController"],
["S","dram.v.html#381","","","","hierarchy-s.p3.html#ddr2_ck_p___DRAMController"],
["S","dram.v.html#382","","","","hierarchy-s.p3.html#ddr2_ck_n___DRAMController"],
["S","dram.v.html#383","","","","hierarchy-s.p3.html#ddr2_cke___DRAMController"],
["S","dram.v.html#384","","","","hierarchy-s.p3.html#ddr2_cs_n___DRAMController"],
["S","dram.v.html#385","","","","hierarchy-s.p3.html#ddr2_dm___DRAMController"],
["S","dram.v.html#386","","","","hierarchy-s.p3.html#ddr2_odt___DRAMController"],
["S","dram.v.html#405","dram.v.html#455","","dram.v.html#455","hierarchy-s.p6.html#o_clk___DRAMController"],
["S","dram.v.html#406","dram.v.html#456","","dram.v.html#456","hierarchy-s.p6.html#o_rst_x___DRAMController"],
["S","dram.v.html#408","","dram.v.html#280","dram.v.html#206","hierarchy-s.p4.html#i_rd_en___DRAMController"],
["S","dram.v.html#409","","dram.v.html#281","dram.v.html#207","hierarchy-s.p4.html#i_wr_en___DRAMController"],
["S","dram.v.html#410","","dram.v.html#283","dram.v.html#209","hierarchy-s.p4.html#i_addr___DRAMController"],
["S","dram.v.html#411","","dram.v.html#287","dram.v.html#210","hierarchy-s.p4.html#i_data___DRAMController"],
["S","dram.v.html#412","dram.v.html#458","","dram.v.html#458","hierarchy-s.p6.html#o_init_calib_complete___DRAMController"],
["S","dram.v.html#413","dram.v.html#460","","dram.v.html#460","hierarchy-s.p6.html#o_data___DRAMController"],
["S","dram.v.html#414","dram.v.html#461","","dram.v.html#461","hierarchy-s.p6.html#o_data_valid___DRAMController"],
["S","dram.v.html#415","dram.v.html#463","","dram.v.html#463","hierarchy-s.p6.html#o_ready___DRAMController"],
["S","dram.v.html#416","dram.v.html#464","","dram.v.html#464","hierarchy-s.p6.html#o_wdf_ready___DRAMController"],
["S","dram.v.html#418","","dram.v.html#294","dram.v.html#205","hierarchy-s.p4.html#i_mask___DRAMController"],
["S","dram.v.html#432","","","","hierarchy-s.p4.html#init_calib_complete___DRAMController"],
["S","dram.v.html#433","","","","hierarchy-s.html#app_rd_data___DRAMController"],
["S","dram.v.html#434","","","","hierarchy-s.html#app_rd_data_valid___DRAMController"],
["S","dram.v.html#435","","","","hierarchy-s.html#app_rdy___DRAMController"],
["S","dram.v.html#436","","","","hierarchy-s.html#app_wdf_rdy___DRAMController"],
["S","dram.v.html#438","","","","hierarchy-s.p2.html#clk___DRAMController"],
["S","dram.v.html#439","","","","hierarchy-s.p7.html#rst___DRAMController"],
["S","dram.v.html#441","dram.v.html#537","","dram.v.html#537","hierarchy-s.html#app_addr___DRAMController"],
["S","dram.v.html#442","dram.v.html#536","","dram.v.html#536","hierarchy-s.html#app_cmd___DRAMController"],
["S","dram.v.html#443","dram.v.html#538","","dram.v.html#538","hierarchy-s.html#app_en___DRAMController"],
["S","dram.v.html#444","dram.v.html#539","","dram.v.html#539","hierarchy-s.html#app_wdf_data___DRAMController"],
["S","dram.v.html#445","dram.v.html#540","","dram.v.html#540","hierarchy-s.html#app_wdf_wren___DRAMController"],
["S","dram.v.html#447","dram.v.html#535","","dram.v.html#535","hierarchy-s.p8.html#state___DRAMController"],
["S","dram.v.html#450","dram.v.html#541","","dram.v.html#541","hierarchy-s.p3.html#data_mask___DRAMController"]
];
disabled=0;
// -->
</script>
<hr>
<table>
 <tr><td><i>This page:</i></td>
  <td><i>Created:</i></td><td><i>Fri Feb 11 15:35:04 2022</i></td></tr>
<tr>
 <td> </td>
 <td><i>From:</i></td><td><i>
src/dram.v</i></td></tr>
</table>
<hr>
<table width="100%"><tr><td><i>Verilog converted to html by  <a target="_top" href="http://www.burbleland.com/v2html/v2html.html">  v2html 7.30.1.3</a> 
 (written by <a href="mailto:v2html730@burbleland.com">Costas Calamvokis</a>).</i></td><td align="right"><b><a href="http://www.burbleland.com/v2html/help_7_30.html?">Help</a></b></td></tr></table><table height="90%"><tr><td></td></tr></table>
</body>
</html>
